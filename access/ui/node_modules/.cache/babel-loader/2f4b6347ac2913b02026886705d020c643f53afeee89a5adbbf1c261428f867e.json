{"ast":null,"code":"var _jsxFileName = \"/Users/ziyanzhou/Projects/devin-gen-expeta/access/ui/src/pages/Requirements.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = 'http://localhost:8000';\nfunction Requirements({\n  sessionId\n}) {\n  _s();\n  var _clarificationData$to, _clarificationData$to2;\n  const [requirementText, setRequirementText] = useState('创建一个用户管理系统，支持用户注册、登录和个人资料管理。系统需要安全存储用户数据，并支持权限控制。');\n  const [clarificationData, setClarificationData] = useState({\n    top_level_expectation: null,\n    sub_expectations: [],\n    constraints: []\n  });\n  const [activeStep, setActiveStep] = useState(1);\n  const [chatMessages, setChatMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n  const [isTyping, setIsTyping] = useState(false);\n  const [conversationId, setConversationId] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const messagesEndRef = useRef(null);\n  useEffect(() => {\n    if (messagesEndRef.current) {\n      messagesEndRef.current.scrollIntoView({\n        behavior: 'smooth'\n      });\n    }\n  }, [chatMessages, isTyping]);\n  useEffect(() => {\n    if (sessionId) {\n      // Initialize chat with system message\n      setChatMessages([{\n        role: 'system',\n        content: '欢迎使用Expeta 2.0交互式澄清功能。请先输入您的需求并点击\"澄清需求\"按钮开始对话。',\n        time: new Date().toLocaleTimeString([], {\n          hour: '2-digit',\n          minute: '2-digit'\n        })\n      }]);\n\n      // 检查是否有之前的对话\n      fetchConversationHistory();\n    }\n  }, [sessionId]);\n\n  // 获取对话历史\n  const fetchConversationHistory = async () => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/clarify/conversations`, {\n        headers: {\n          'Content-Type': 'application/json',\n          'Session-ID': sessionId\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        // 如果有活跃的对话，加载最近的一个\n        if (data.conversations && data.conversations.length > 0) {\n          const latestConversation = data.conversations[0];\n          setConversationId(latestConversation.id);\n\n          // 加载对话消息\n          if (latestConversation.messages && latestConversation.messages.length > 0) {\n            const formattedMessages = latestConversation.messages.map(msg => ({\n              role: msg.role,\n              content: msg.content,\n              time: new Date(msg.timestamp).toLocaleTimeString([], {\n                hour: '2-digit',\n                minute: '2-digit'\n              })\n            }));\n            setChatMessages(formattedMessages);\n          }\n\n          // 加载当前的澄清数据\n          if (latestConversation.current_expectation) {\n            setClarificationData(latestConversation.current_expectation);\n            setActiveStep(2); // 设置为澄清步骤\n          }\n        }\n      }\n    } catch (error) {\n      console.error('Error fetching conversation history:', error);\n    }\n  };\n  const handleClarifyRequirement = async () => {\n    if (!sessionId || !requirementText.trim()) return;\n    try {\n      setLoading(true);\n      setError(null);\n\n      // 如果已经有对话ID，使用continue接口\n      if (conversationId) {\n        const response = await fetch(`${API_BASE_URL}/clarify/continue`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'Session-ID': sessionId\n          },\n          body: JSON.stringify({\n            message: requirementText,\n            conversation_id: conversationId\n          })\n        });\n        if (response.ok) {\n          const data = await response.json();\n\n          // 添加用户消息\n          const userMessage = {\n            role: 'user',\n            content: requirementText,\n            time: new Date().toLocaleTimeString([], {\n              hour: '2-digit',\n              minute: '2-digit'\n            })\n          };\n\n          // 添加系统回复\n          const systemMessage = {\n            role: 'system',\n            content: data.response,\n            time: new Date().toLocaleTimeString([], {\n              hour: '2-digit',\n              minute: '2-digit'\n            })\n          };\n          setChatMessages(prev => [...prev, userMessage, systemMessage]);\n\n          // 更新澄清数据\n          if (data.updated_expectation) {\n            setClarificationData(data.updated_expectation);\n          }\n        } else {\n          const errorData = await response.json();\n          setError(errorData.error || '需求澄清过程中出现问题');\n        }\n      } else {\n        // 创建新的对话\n        const response = await fetch(`${API_BASE_URL}/clarify`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'Session-ID': sessionId\n          },\n          body: JSON.stringify({\n            requirement: requirementText\n          })\n        });\n        if (response.ok) {\n          const data = await response.json();\n          setClarificationData(data);\n          setActiveStep(2);\n          setConversationId(data.conversation_id);\n\n          // 添加用户消息\n          const userMessage = {\n            role: 'user',\n            content: requirementText,\n            time: new Date().toLocaleTimeString([], {\n              hour: '2-digit',\n              minute: '2-digit'\n            })\n          };\n\n          // 添加系统消息\n          const systemMessage = {\n            role: 'system',\n            content: '我已经基于您的需求创建了初步的期望模型。请查看右侧的期望详情，我们可以继续讨论以完善它。',\n            time: new Date().toLocaleTimeString([], {\n              hour: '2-digit',\n              minute: '2-digit'\n            })\n          };\n          setChatMessages([userMessage, systemMessage]);\n        } else {\n          const errorData = await response.json();\n          setError(errorData.error || '需求澄清过程中出现问题');\n        }\n      }\n    } catch (error) {\n      console.error('Error clarifying requirement:', error);\n      setError('网络错误，请重试');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleSendMessage = async () => {\n    if (!newMessage.trim() || !sessionId || !conversationId) return;\n    const userMessage = {\n      role: 'user',\n      content: newMessage,\n      time: new Date().toLocaleTimeString([], {\n        hour: '2-digit',\n        minute: '2-digit'\n      })\n    };\n    setChatMessages(prev => [...prev, userMessage]);\n    setNewMessage('');\n    setIsTyping(true);\n    try {\n      const response = await fetch(`${API_BASE_URL}/clarify/continue`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Session-ID': sessionId\n        },\n        body: JSON.stringify({\n          message: userMessage.content,\n          conversation_id: conversationId\n        })\n      });\n      if (response.ok) {\n        const data = await response.json();\n        const systemMessage = {\n          role: 'system',\n          content: data.response,\n          time: new Date().toLocaleTimeString([], {\n            hour: '2-digit',\n            minute: '2-digit'\n          })\n        };\n        setChatMessages(prev => [...prev, systemMessage]);\n        if (data.updated_expectation) {\n          setClarificationData(prev => ({\n            ...prev,\n            ...data.updated_expectation\n          }));\n        }\n      } else {\n        const errorData = await response.json();\n        setChatMessages(prev => [...prev, {\n          role: 'system',\n          content: `错误: ${errorData.error || '消息处理失败'}`,\n          time: new Date().toLocaleTimeString([], {\n            hour: '2-digit',\n            minute: '2-digit'\n          })\n        }]);\n      }\n    } catch (error) {\n      console.error('Error sending message:', error);\n      setChatMessages(prev => [...prev, {\n        role: 'system',\n        content: '网络错误，请重试',\n        time: new Date().toLocaleTimeString([], {\n          hour: '2-digit',\n          minute: '2-digit'\n        })\n      }]);\n    } finally {\n      setIsTyping(false);\n    }\n  };\n  const handleKeyDown = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n  const handleGenerateExpectation = async () => {\n    if (!sessionId || !conversationId) return;\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await fetch(`${API_BASE_URL}/clarify/finalize`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Session-ID': sessionId\n        },\n        body: JSON.stringify({\n          conversation_id: conversationId\n        })\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setClarificationData(data);\n        setActiveStep(3);\n\n        // Add system message about successful finalization\n        setChatMessages(prev => [...prev, {\n          role: 'system',\n          content: '期望模型已完成并存储。现在您可以继续处理代码生成。',\n          time: new Date().toLocaleTimeString([], {\n            hour: '2-digit',\n            minute: '2-digit'\n          })\n        }]);\n      } else {\n        const errorData = await response.json();\n        setError(errorData.error || '期望生成过程中出现问题');\n      }\n    } catch (error) {\n      console.error('Error finalizing expectation:', error);\n      setError('网络错误，请重试');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"workflow-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u5904\\u7406\\u6D41\\u7A0B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section-actions\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"secondary-button\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"material-symbols-rounded\",\n              children: \"refresh\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u5237\\u65B0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"workflow-visualization\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `workflow-step ${activeStep >= 1 ? 'active' : ''}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"step-icon\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"material-symbols-rounded\",\n              children: \"description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"step-label\",\n            children: \"\\u9700\\u6C42\\u8F93\\u5165\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"step-connector\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `workflow-step ${activeStep >= 2 ? 'active' : activeStep === 1 ? 'in-progress' : ''}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"step-icon\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"material-symbols-rounded\",\n              children: \"psychology\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"step-label\",\n            children: \"\\u9700\\u6C42\\u6F84\\u6E05\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"step-connector\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `workflow-step ${activeStep >= 3 ? 'active' : activeStep === 2 ? 'in-progress' : ''}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"step-icon\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"material-symbols-rounded\",\n              children: \"format_list_bulleted\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"step-label\",\n            children: \"\\u671F\\u671B\\u751F\\u6210\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"step-connector\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `workflow-step ${activeStep >= 4 ? 'active' : activeStep === 3 ? 'in-progress' : ''}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"step-icon\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"material-symbols-rounded\",\n              children: \"code\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"step-label\",\n            children: \"\\u4EE3\\u7801\\u751F\\u6210\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"step-connector\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `workflow-step ${activeStep >= 5 ? 'active' : activeStep === 4 ? 'in-progress' : ''}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"step-icon\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"material-symbols-rounded\",\n              children: \"verified\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"step-label\",\n            children: \"\\u4EE3\\u7801\\u9A8C\\u8BC1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"requirement-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u9700\\u6C42\\u5904\\u7406\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section-actions\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"primary-button\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"material-symbols-rounded\",\n              children: \"save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u4FDD\\u5B58\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"requirement-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"requirement-input\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u9700\\u6C42\\u8F93\\u5165\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-area\",\n            children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n              placeholder: \"\\u8BF7\\u8F93\\u5165\\u60A8\\u7684\\u9700\\u6C42\\u63CF\\u8FF0...\",\n              rows: \"6\",\n              value: requirementText,\n              onChange: e => setRequirementText(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"secondary-button\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"material-symbols-rounded\",\n                  children: \"upload_file\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 361,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u4E0A\\u4F20\\u6587\\u4EF6\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 362,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"primary-button clarify-button\",\n                onClick: handleClarifyRequirement,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"material-symbols-rounded\",\n                  children: \"psychology\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 368,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u6F84\\u6E05\\u9700\\u6C42\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 369,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"clarification-output\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u9700\\u6C42\\u6F84\\u6E05\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"output-area\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"clarification-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"item-title\",\n                  children: \"\\u9876\\u5C42\\u671F\\u671B\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 379,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"item-status completed\",\n                  children: \"\\u5DF2\\u5B8C\\u6210\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 380,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"ID:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 383,\n                    columnNumber: 22\n                  }, this), \" \", (_clarificationData$to = clarificationData.top_level_expectation) === null || _clarificationData$to === void 0 ? void 0 : _clarificationData$to.id]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 383,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"\\u63CF\\u8FF0:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 384,\n                    columnNumber: 22\n                  }, this), \" \", (_clarificationData$to2 = clarificationData.top_level_expectation) === null || _clarificationData$to2 === void 0 ? void 0 : _clarificationData$to2.description]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 384,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"clarification-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"item-title\",\n                  children: \"\\u5B50\\u671F\\u671B\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 389,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"item-status in-progress\",\n                  children: \"\\u5904\\u7406\\u4E2D\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item-content\",\n                children: clarificationData.sub_expectations.map((subExp, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"sub-expectation\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"ID:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 395,\n                      columnNumber: 26\n                    }, this), \" \", subExp.id]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 395,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"\\u63CF\\u8FF0:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 396,\n                      columnNumber: 26\n                    }, this), \" \", subExp.description]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 396,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"criteria-list\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"\\u6807\\u51C6:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 398,\n                        columnNumber: 28\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 398,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                      children: subExp.criteria.map((criteria, critIndex) => /*#__PURE__*/_jsxDEV(\"li\", {\n                        children: criteria\n                      }, critIndex, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 401,\n                        columnNumber: 29\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 399,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 397,\n                    columnNumber: 23\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 394,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 392,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"clarification-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"item-title\",\n                  children: \"\\u7EA6\\u675F\\u6761\\u4EF6\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 411,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"item-status completed\",\n                  children: \"\\u5DF2\\u5B8C\\u6210\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 412,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 410,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item-content\",\n                children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"constraints-list\",\n                  children: clarificationData.constraints.map((constraint, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: constraint\n                  }, index, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 417,\n                    columnNumber: 23\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 415,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 414,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"chat-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u4EA4\\u4E92\\u5F0F\\u6F84\\u6E05\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section-actions\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"secondary-button\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"material-symbols-rounded\",\n              children: \"history\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u5386\\u53F2\\u8BB0\\u5F55\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 429,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-messages\",\n          children: [chatMessages.map((message, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `message ${message.role === 'user' ? 'user-message' : 'system-message'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"message-content\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: message.content\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 446,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 445,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"message-time\",\n              children: message.time\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 17\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 441,\n            columnNumber: 15\n          }, this)), isTyping && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"typing-indicator\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 453,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: messagesEndRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-input\",\n          children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n            placeholder: conversationId ? \"输入您的回复...\" : \"请先点击'澄清需求'按钮开始对话\",\n            rows: \"1\",\n            value: newMessage,\n            onChange: e => setNewMessage(e.target.value),\n            onKeyDown: handleKeyDown,\n            disabled: !conversationId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 461,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `send-button ${!conversationId ? 'disabled' : ''}`,\n            onClick: handleSendMessage,\n            disabled: !conversationId,\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"material-symbols-rounded\",\n              children: \"send\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 438,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 428,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(Requirements, \"/+bmWJjBrz7LUKyZdL6fEtXGAFE=\");\n_c = Requirements;\nexport default Requirements;\nvar _c;\n$RefreshReg$(_c, \"Requirements\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","Fragment","_Fragment","API_BASE_URL","Requirements","sessionId","_s","_clarificationData$to","_clarificationData$to2","requirementText","setRequirementText","clarificationData","setClarificationData","top_level_expectation","sub_expectations","constraints","activeStep","setActiveStep","chatMessages","setChatMessages","newMessage","setNewMessage","isTyping","setIsTyping","conversationId","setConversationId","loading","setLoading","error","setError","messagesEndRef","current","scrollIntoView","behavior","role","content","time","Date","toLocaleTimeString","hour","minute","fetchConversationHistory","response","fetch","headers","ok","data","json","conversations","length","latestConversation","id","messages","formattedMessages","map","msg","timestamp","current_expectation","console","handleClarifyRequirement","trim","method","body","JSON","stringify","message","conversation_id","userMessage","systemMessage","prev","updated_expectation","errorData","requirement","handleSendMessage","handleKeyDown","e","key","shiftKey","preventDefault","handleGenerateExpectation","children","className","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","rows","value","onChange","target","onClick","description","subExp","index","criteria","critIndex","constraint","ref","onKeyDown","disabled","_c","$RefreshReg$"],"sources":["/Users/ziyanzhou/Projects/devin-gen-expeta/access/ui/src/pages/Requirements.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\n\nconst API_BASE_URL = 'http://localhost:8000';\n\nfunction Requirements({ sessionId }) {\n  const [requirementText, setRequirementText] = useState(\n    '创建一个用户管理系统，支持用户注册、登录和个人资料管理。系统需要安全存储用户数据，并支持权限控制。'\n  );\n  const [clarificationData, setClarificationData] = useState({\n    top_level_expectation: null,\n    sub_expectations: [],\n    constraints: []\n  });\n  const [activeStep, setActiveStep] = useState(1);\n  const [chatMessages, setChatMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n  const [isTyping, setIsTyping] = useState(false);\n  const [conversationId, setConversationId] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  \n  const messagesEndRef = useRef(null);\n\n  useEffect(() => {\n    if (messagesEndRef.current) {\n      messagesEndRef.current.scrollIntoView({ behavior: 'smooth' });\n    }\n  }, [chatMessages, isTyping]);\n\n  useEffect(() => {\n    if (sessionId) {\n      // Initialize chat with system message\n      setChatMessages([{\n        role: 'system',\n        content: '欢迎使用Expeta 2.0交互式澄清功能。请先输入您的需求并点击\"澄清需求\"按钮开始对话。',\n        time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\n      }]);\n      \n      // 检查是否有之前的对话\n      fetchConversationHistory();\n    }\n  }, [sessionId]);\n  \n  // 获取对话历史\n  const fetchConversationHistory = async () => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/clarify/conversations`, {\n        headers: {\n          'Content-Type': 'application/json',\n          'Session-ID': sessionId\n        }\n      });\n      \n      if (response.ok) {\n        const data = await response.json();\n        // 如果有活跃的对话，加载最近的一个\n        if (data.conversations && data.conversations.length > 0) {\n          const latestConversation = data.conversations[0];\n          setConversationId(latestConversation.id);\n          \n          // 加载对话消息\n          if (latestConversation.messages && latestConversation.messages.length > 0) {\n            const formattedMessages = latestConversation.messages.map(msg => ({\n              role: msg.role,\n              content: msg.content,\n              time: new Date(msg.timestamp).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\n            }));\n            setChatMessages(formattedMessages);\n          }\n          \n          // 加载当前的澄清数据\n          if (latestConversation.current_expectation) {\n            setClarificationData(latestConversation.current_expectation);\n            setActiveStep(2); // 设置为澄清步骤\n          }\n        }\n      }\n    } catch (error) {\n      console.error('Error fetching conversation history:', error);\n    }\n  };\n\n  const handleClarifyRequirement = async () => {\n    if (!sessionId || !requirementText.trim()) return;\n    \n    try {\n      setLoading(true);\n      setError(null);\n      \n      // 如果已经有对话ID，使用continue接口\n      if (conversationId) {\n        const response = await fetch(`${API_BASE_URL}/clarify/continue`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'Session-ID': sessionId\n          },\n          body: JSON.stringify({\n            message: requirementText,\n            conversation_id: conversationId\n          })\n        });\n        \n        if (response.ok) {\n          const data = await response.json();\n          \n          // 添加用户消息\n          const userMessage = {\n            role: 'user',\n            content: requirementText,\n            time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\n          };\n          \n          // 添加系统回复\n          const systemMessage = {\n            role: 'system',\n            content: data.response,\n            time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\n          };\n          \n          setChatMessages(prev => [...prev, userMessage, systemMessage]);\n          \n          // 更新澄清数据\n          if (data.updated_expectation) {\n            setClarificationData(data.updated_expectation);\n          }\n        } else {\n          const errorData = await response.json();\n          setError(errorData.error || '需求澄清过程中出现问题');\n        }\n      } else {\n        // 创建新的对话\n        const response = await fetch(`${API_BASE_URL}/clarify`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'Session-ID': sessionId\n          },\n          body: JSON.stringify({\n            requirement: requirementText\n          })\n        });\n        \n        if (response.ok) {\n          const data = await response.json();\n          setClarificationData(data);\n          setActiveStep(2);\n          setConversationId(data.conversation_id);\n          \n          // 添加用户消息\n          const userMessage = {\n            role: 'user',\n            content: requirementText,\n            time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\n          };\n          \n          // 添加系统消息\n          const systemMessage = {\n            role: 'system',\n            content: '我已经基于您的需求创建了初步的期望模型。请查看右侧的期望详情，我们可以继续讨论以完善它。',\n            time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\n          };\n          \n          setChatMessages([userMessage, systemMessage]);\n        } else {\n          const errorData = await response.json();\n          setError(errorData.error || '需求澄清过程中出现问题');\n        }\n      }\n    } catch (error) {\n      console.error('Error clarifying requirement:', error);\n      setError('网络错误，请重试');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSendMessage = async () => {\n    if (!newMessage.trim() || !sessionId || !conversationId) return;\n    \n    const userMessage = {\n      role: 'user',\n      content: newMessage,\n      time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\n    };\n    \n    setChatMessages(prev => [...prev, userMessage]);\n    setNewMessage('');\n    setIsTyping(true);\n    \n    try {\n      const response = await fetch(`${API_BASE_URL}/clarify/continue`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Session-ID': sessionId\n        },\n        body: JSON.stringify({\n          message: userMessage.content,\n          conversation_id: conversationId\n        })\n      });\n      \n      if (response.ok) {\n        const data = await response.json();\n        const systemMessage = {\n          role: 'system',\n          content: data.response,\n          time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\n        };\n        setChatMessages(prev => [...prev, systemMessage]);\n        \n        if (data.updated_expectation) {\n          setClarificationData(prev => ({\n            ...prev,\n            ...data.updated_expectation\n          }));\n        }\n      } else {\n        const errorData = await response.json();\n        setChatMessages(prev => [...prev, {\n          role: 'system',\n          content: `错误: ${errorData.error || '消息处理失败'}`,\n          time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\n        }]);\n      }\n    } catch (error) {\n      console.error('Error sending message:', error);\n      setChatMessages(prev => [...prev, {\n        role: 'system',\n        content: '网络错误，请重试',\n        time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\n      }]);\n    } finally {\n      setIsTyping(false);\n    }\n  };\n\n  const handleKeyDown = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n\n  const handleGenerateExpectation = async () => {\n    if (!sessionId || !conversationId) return;\n    \n    try {\n      setLoading(true);\n      setError(null);\n      \n      const response = await fetch(`${API_BASE_URL}/clarify/finalize`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Session-ID': sessionId\n        },\n        body: JSON.stringify({\n          conversation_id: conversationId\n        })\n      });\n      \n      if (response.ok) {\n        const data = await response.json();\n        setClarificationData(data);\n        setActiveStep(3);\n        \n        // Add system message about successful finalization\n        setChatMessages(prev => [...prev, {\n          role: 'system',\n          content: '期望模型已完成并存储。现在您可以继续处理代码生成。',\n          time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\n        }]);\n      } else {\n        const errorData = await response.json();\n        setError(errorData.error || '期望生成过程中出现问题');\n      }\n    } catch (error) {\n      console.error('Error finalizing expectation:', error);\n      setError('网络错误，请重试');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <>\n      {/* 工作流程可视化 */}\n      <section className=\"workflow-section\">\n        <div className=\"section-header\">\n          <h2>处理流程</h2>\n          <div className=\"section-actions\">\n            <button className=\"secondary-button\">\n              <span className=\"material-symbols-rounded\">refresh</span>\n              <span>刷新</span>\n            </button>\n          </div>\n        </div>\n        <div className=\"workflow-visualization\">\n          <div className={`workflow-step ${activeStep >= 1 ? 'active' : ''}`}>\n            <div className=\"step-icon\">\n              <span className=\"material-symbols-rounded\">description</span>\n            </div>\n            <div className=\"step-label\">需求输入</div>\n            <div className=\"step-connector\"></div>\n          </div>\n          <div className={`workflow-step ${activeStep >= 2 ? 'active' : activeStep === 1 ? 'in-progress' : ''}`}>\n            <div className=\"step-icon\">\n              <span className=\"material-symbols-rounded\">psychology</span>\n            </div>\n            <div className=\"step-label\">需求澄清</div>\n            <div className=\"step-connector\"></div>\n          </div>\n          <div className={`workflow-step ${activeStep >= 3 ? 'active' : activeStep === 2 ? 'in-progress' : ''}`}>\n            <div className=\"step-icon\">\n              <span className=\"material-symbols-rounded\">format_list_bulleted</span>\n            </div>\n            <div className=\"step-label\">期望生成</div>\n            <div className=\"step-connector\"></div>\n          </div>\n          <div className={`workflow-step ${activeStep >= 4 ? 'active' : activeStep === 3 ? 'in-progress' : ''}`}>\n            <div className=\"step-icon\">\n              <span className=\"material-symbols-rounded\">code</span>\n            </div>\n            <div className=\"step-label\">代码生成</div>\n            <div className=\"step-connector\"></div>\n          </div>\n          <div className={`workflow-step ${activeStep >= 5 ? 'active' : activeStep === 4 ? 'in-progress' : ''}`}>\n            <div className=\"step-icon\">\n              <span className=\"material-symbols-rounded\">verified</span>\n            </div>\n            <div className=\"step-label\">代码验证</div>\n          </div>\n        </div>\n      </section>\n\n      {/* 需求输入和澄清区域 */}\n      <section className=\"requirement-section\">\n        <div className=\"section-header\">\n          <h2>需求处理</h2>\n          <div className=\"section-actions\">\n            <button className=\"primary-button\">\n              <span className=\"material-symbols-rounded\">save</span>\n              <span>保存</span>\n            </button>\n          </div>\n        </div>\n        <div className=\"requirement-container\">\n          <div className=\"requirement-input\">\n            <h3>需求输入</h3>\n            <div className=\"input-area\">\n              <textarea \n                placeholder=\"请输入您的需求描述...\" \n                rows=\"6\" \n                value={requirementText}\n                onChange={(e) => setRequirementText(e.target.value)}\n              />\n              <div className=\"input-actions\">\n                <button className=\"secondary-button\">\n                  <span className=\"material-symbols-rounded\">upload_file</span>\n                  <span>上传文件</span>\n                </button>\n                <button \n                  className=\"primary-button clarify-button\"\n                  onClick={handleClarifyRequirement}\n                >\n                  <span className=\"material-symbols-rounded\">psychology</span>\n                  <span>澄清需求</span>\n                </button>\n              </div>\n            </div>\n          </div>\n          <div className=\"clarification-output\">\n            <h3>需求澄清</h3>\n            <div className=\"output-area\">\n              <div className=\"clarification-item\">\n                <div className=\"item-header\">\n                  <span className=\"item-title\">顶层期望</span>\n                  <span className=\"item-status completed\">已完成</span>\n                </div>\n                <div className=\"item-content\">\n                  <p><strong>ID:</strong> {clarificationData.top_level_expectation?.id}</p>\n                  <p><strong>描述:</strong> {clarificationData.top_level_expectation?.description}</p>\n                </div>\n              </div>\n              <div className=\"clarification-item\">\n                <div className=\"item-header\">\n                  <span className=\"item-title\">子期望</span>\n                  <span className=\"item-status in-progress\">处理中</span>\n                </div>\n                <div className=\"item-content\">\n                  {clarificationData.sub_expectations.map((subExp, index) => (\n                    <div key={index} className=\"sub-expectation\">\n                      <p><strong>ID:</strong> {subExp.id}</p>\n                      <p><strong>描述:</strong> {subExp.description}</p>\n                      <div className=\"criteria-list\">\n                        <p><strong>标准:</strong></p>\n                        <ul>\n                          {subExp.criteria.map((criteria, critIndex) => (\n                            <li key={critIndex}>{criteria}</li>\n                          ))}\n                        </ul>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n              <div className=\"clarification-item\">\n                <div className=\"item-header\">\n                  <span className=\"item-title\">约束条件</span>\n                  <span className=\"item-status completed\">已完成</span>\n                </div>\n                <div className=\"item-content\">\n                  <ul className=\"constraints-list\">\n                    {clarificationData.constraints.map((constraint, index) => (\n                      <li key={index}>{constraint}</li>\n                    ))}\n                  </ul>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      {/* 聊天交互区域 */}\n      <section className=\"chat-section\">\n        <div className=\"section-header\">\n          <h2>交互式澄清</h2>\n          <div className=\"section-actions\">\n            <button className=\"secondary-button\">\n              <span className=\"material-symbols-rounded\">history</span>\n              <span>历史记录</span>\n            </button>\n          </div>\n        </div>\n        <div className=\"chat-container\">\n          <div className=\"chat-messages\">\n            {chatMessages.map((message, index) => (\n              <div \n                key={index} \n                className={`message ${message.role === 'user' ? 'user-message' : 'system-message'}`}\n              >\n                <div className=\"message-content\">\n                  <p>{message.content}</p>\n                </div>\n                <div className=\"message-time\">{message.time}</div>\n              </div>\n            ))}\n            {isTyping && (\n              <div className=\"typing-indicator\">\n                <span></span>\n                <span></span>\n                <span></span>\n              </div>\n            )}\n            <div ref={messagesEndRef} />\n          </div>\n          <div className=\"chat-input\">\n            <textarea \n              placeholder={conversationId ? \"输入您的回复...\" : \"请先点击'澄清需求'按钮开始对话\"}\n              rows=\"1\"\n              value={newMessage}\n              onChange={(e) => setNewMessage(e.target.value)}\n              onKeyDown={handleKeyDown}\n              disabled={!conversationId}\n            />\n            <button \n              className={`send-button ${!conversationId ? 'disabled' : ''}`} \n              onClick={handleSendMessage}\n              disabled={!conversationId}\n            >\n              <span className=\"material-symbols-rounded\">send</span>\n            </button>\n          </div>\n        </div>\n      </section>\n    </>\n  );\n}\n\nexport default Requirements; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}