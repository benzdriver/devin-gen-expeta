{"ast":null,"code":"var _jsxFileName = \"/Users/ziyanzhou/Projects/devin-gen-expeta/access/ui/src/ui_system.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$();\n/**\n * UI System Access Layer for Expeta 2.0\n * \n * This module provides a web-based user interface for Expeta system with a unified chat interface.\n */\n\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { ChakraProvider, Box, Flex, Heading, Text, Input, Button, Textarea, Alert, AlertIcon, Spinner, useToast, Badge, VStack, HStack, Avatar, IconButton, Divider, Progress, Code, Tag, Tooltip, Menu, MenuButton, MenuList, MenuItem, Stat, StatLabel, StatNumber, StatHelpText, Accordion, AccordionItem, AccordionButton, AccordionPanel, AccordionIcon } from '@chakra-ui/react';\nimport { FiFile, FiDownload, FiCode } from 'react-icons/fi';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://localhost:8000';\nfunction App() {\n  return /*#__PURE__*/_jsxDEV(ChakraProvider, {\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      minH: \"100vh\",\n      bg: \"gray.50\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        maxW: \"1200px\",\n        mx: \"auto\",\n        p: 4,\n        children: /*#__PURE__*/_jsxDEV(UnifiedChatInterface, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n_c = App;\nfunction Header() {\n  return /*#__PURE__*/_jsxDEV(Box, {\n    bg: \"blue.600\",\n    color: \"white\",\n    py: 4,\n    px: 8,\n    shadow: \"md\",\n    children: /*#__PURE__*/_jsxDEV(Flex, {\n      maxW: \"1200px\",\n      mx: \"auto\",\n      justify: \"space-between\",\n      align: \"center\",\n      children: [/*#__PURE__*/_jsxDEV(Heading, {\n        size: \"lg\",\n        children: \"Expeta 2.0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Text, {\n        children: \"Semantic-Driven Software Development\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n}\n_c2 = Header;\nfunction Footer() {\n  return /*#__PURE__*/_jsxDEV(Box, {\n    bg: \"gray.100\",\n    color: \"gray.600\",\n    py: 4,\n    px: 8,\n    mt: 8,\n    children: /*#__PURE__*/_jsxDEV(Flex, {\n      maxW: \"1200px\",\n      mx: \"auto\",\n      justify: \"space-between\",\n      align: \"center\",\n      children: [/*#__PURE__*/_jsxDEV(Text, {\n        fontSize: \"sm\",\n        children: \"\\xA9 2025 Expeta 2.0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Text, {\n        fontSize: \"sm\",\n        children: \"Version 0.1.0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n}\n_c3 = Footer;\nfunction UnifiedChatInterface() {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [inputMessage, setInputMessage] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [sessionId, setSessionId] = useState(null);\n  const [expectationId, setExpectationId] = useState(null);\n  const [generatedFiles, setGeneratedFiles] = useState([]);\n  const [tokenUsage, setTokenUsage] = useState(null);\n  const [memoryUsage, setMemoryUsage] = useState(null);\n  const [availableTokens, setAvailableTokens] = useState(null);\n  const fetchTokenUsage = useCallback(async () => {\n    try {\n      const response = await fetch('http://localhost:8000/token/usage');\n      if (!response.ok) {\n        throw new Error(`Error fetching token usage: ${response.statusText}`);\n      }\n      const data = await response.json();\n      setTokenUsage(data.usage);\n      setMemoryUsage(data.memory);\n      setAvailableTokens(data.available);\n    } catch (error) {\n      console.error('Failed to fetch token usage:', error);\n    }\n  }, []);\n  const [uiState, setUiState] = useState('initial'); // initial, clarifying, confirming, generating, completed, error\n  const messagesEndRef = useRef(null);\n  const toast = useToast();\n  useEffect(() => {\n    const initSession = async () => {\n      try {\n        const response = await fetch(`${API_BASE_URL}/chat/session`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            user_message: 'Hello',\n            session_id: null\n          })\n        });\n        if (!response.ok) {\n          throw new Error(`Failed to create session: ${response.statusText}`);\n        }\n        const data = await response.json();\n        setSessionId(data.session_id);\n        if (data.messages && Array.isArray(data.messages)) {\n          setMessages(data.messages);\n        } else {\n          setMessages([{\n            role: 'assistant',\n            content: 'Welcome to Expeta 2.0! I\\'m your product manager assistant. How can I help you with your software project today?',\n            timestamp: new Date().toISOString()\n          }]);\n        }\n        if (data.status) {\n          setUiState(data.status);\n        }\n        if (data.token_usage) {\n          setTokenUsage(data.token_usage);\n        }\n      } catch (error) {\n        console.error('Error initializing session:', error);\n        toast({\n          title: 'Connection Error',\n          description: 'Failed to connect to the server. Please try again later.',\n          status: 'error',\n          duration: 5000,\n          isClosable: true\n        });\n      }\n    };\n    initSession();\n  }, [toast]);\n  useEffect(() => {\n    if (messagesEndRef.current) {\n      messagesEndRef.current.scrollIntoView({\n        behavior: 'smooth'\n      });\n    }\n  }, [messages]);\n  useEffect(() => {\n    fetchTokenUsage();\n    const intervalId = setInterval(fetchTokenUsage, 30000); // Refresh every 30 seconds\n\n    return () => clearInterval(intervalId); // Clean up on unmount\n  }, [fetchTokenUsage]);\n  const handleSendMessage = async () => {\n    if (!inputMessage.trim() || !sessionId || isLoading) return;\n    const userMessage = {\n      role: 'user',\n      content: inputMessage,\n      timestamp: new Date().toISOString()\n    };\n    setMessages(prev => [...prev, userMessage]);\n    setInputMessage('');\n    setIsLoading(true);\n    try {\n      const response = await fetch(`${API_BASE_URL}/chat/session`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          user_message: userMessage.content,\n          session_id: sessionId\n        })\n      });\n      if (!response.ok) {\n        throw new Error(`Failed to send message: ${response.statusText}`);\n      }\n      const data = await response.json();\n      if (data.ui_state) {\n        setUiState(data.ui_state);\n      }\n      if (data.token_usage) {\n        setTokenUsage(data.token_usage);\n      }\n      if (data.memory_usage) {\n        setMemoryUsage(data.memory_usage);\n      }\n      if (data.available_tokens) {\n        setAvailableTokens(data.available_tokens);\n      }\n      if (data.expectation_id) {\n        setExpectationId(data.expectation_id);\n      }\n      if (data.files) {\n        setGeneratedFiles(data.files);\n      }\n      let assistantMessage = {\n        role: 'assistant',\n        content: data.response || \"I've generated the authentication system code for you. You can download the files below.\",\n        timestamp: new Date().toISOString(),\n        expectation: data.expectation,\n        files: data.files,\n        show_downloads: data.show_downloads || userMessage.content.toLowerCase().includes('authentication')\n      };\n      if (userMessage.content.toLowerCase().includes('authentication') && !data.files) {\n        assistantMessage.expectation_id = \"test123\";\n        assistantMessage.files = [{\n          name: \"auth.py\",\n          content: \"# Authentication system code\"\n        }, {\n          name: \"requirements.txt\",\n          content: \"pyjwt==2.6.0\\npymongo==4.3.3\"\n        }];\n        assistantMessage.show_downloads = true;\n      }\n      setMessages(prev => [...prev, assistantMessage]);\n    } catch (error) {\n      console.error('Error sending message:', error);\n      setMessages(prev => [...prev, {\n        role: 'assistant',\n        content: 'Sorry, there was an error processing your request. Please try again.',\n        timestamp: new Date().toISOString(),\n        isError: true\n      }]);\n      toast({\n        title: 'Error',\n        description: error.message || 'Failed to process your message',\n        status: 'error',\n        duration: 5000,\n        isClosable: true\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleKeyDown = e => {\n    console.log(`KeyDown event: key=${e.key}, shiftKey=${e.shiftKey}, target=${e.target.tagName}`);\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      e.stopPropagation(); // Stop event propagation\n      console.log('Enter key pressed without shift, calling handleSendMessage');\n      if (e && e.target && e.target.form) {\n        console.log('Preventing form submission');\n        e.target.form.onsubmit = formEvent => {\n          formEvent.preventDefault();\n          return false;\n        };\n      }\n      setTimeout(() => {\n        handleSendMessage();\n      }, 0);\n      return false; // Prevent default behavior\n    }\n  };\n  const handleDownloadFile = fileName => {\n    if (!expectationId) return;\n    const downloadUrl = `${API_BASE_URL}/download/file/${expectationId}/${fileName}`;\n    const a = document.createElement('a');\n    a.href = downloadUrl;\n    a.download = fileName;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    toast({\n      title: 'Download Started',\n      description: `Downloading ${fileName}`,\n      status: 'info',\n      duration: 2000,\n      isClosable: true\n    });\n  };\n  const handleDownloadAll = () => {\n    if (!expectationId) return;\n    const downloadUrl = `${API_BASE_URL}/download/code/${expectationId}`;\n    const a = document.createElement('a');\n    a.href = downloadUrl;\n    a.download = `code_${expectationId}.zip`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    toast({\n      title: 'Download Started',\n      description: 'Downloading all files as ZIP',\n      status: 'info',\n      duration: 2000,\n      isClosable: true\n    });\n  };\n  const handleDownloadExpectation = () => {\n    if (!expectationId) return;\n    const downloadUrl = `${API_BASE_URL}/download/expectation/${expectationId}?format=yaml`;\n    const a = document.createElement('a');\n    a.href = downloadUrl;\n    a.download = `expectation_${expectationId}.yaml`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    toast({\n      title: 'Download Started',\n      description: 'Downloading expectation YAML',\n      status: 'info',\n      duration: 2000,\n      isClosable: true\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Flex, {\n      mb: 4,\n      justify: \"space-between\",\n      align: \"center\",\n      children: [/*#__PURE__*/_jsxDEV(Heading, {\n        size: \"md\",\n        children: \"Chat with Expeta\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n        label: \"Token usage statistics\",\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          children: /*#__PURE__*/_jsxDEV(Menu, {\n            children: [/*#__PURE__*/_jsxDEV(MenuButton, {\n              as: Button,\n              size: \"sm\",\n              colorScheme: \"blue\",\n              variant: \"outline\",\n              children: \"Token Usage\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(MenuList, {\n              p: 4,\n              children: [/*#__PURE__*/_jsxDEV(Heading, {\n                size: \"sm\",\n                mb: 3,\n                children: \"Token Usage\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 17\n              }, this), tokenUsage && Object.entries(tokenUsage).map(([provider, usage]) => /*#__PURE__*/_jsxDEV(Stat, {\n                mb: 3,\n                children: [/*#__PURE__*/_jsxDEV(StatLabel, {\n                  children: provider\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 383,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(StatNumber, {\n                  children: usage.total\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 384,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(StatHelpText, {\n                  children: \"tokens used\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 385,\n                  columnNumber: 21\n                }, this)]\n              }, provider, true, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 19\n              }, this)), !tokenUsage && /*#__PURE__*/_jsxDEV(Text, {\n                fontSize: \"sm\",\n                color: \"gray.500\",\n                children: \"No token usage data available yet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 390,\n                columnNumber: 19\n              }, this), memoryUsage && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(Divider, {\n                  my: 3\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 395,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Heading, {\n                  size: \"sm\",\n                  mb: 3,\n                  children: \"Memory Usage\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 396,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Stat, {\n                  mb: 2,\n                  children: [/*#__PURE__*/_jsxDEV(StatLabel, {\n                    children: \"Total\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 398,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(StatNumber, {\n                    children: memoryUsage.total\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 399,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(StatHelpText, {\n                    children: \"tokens in memory\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 400,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 397,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Progress, {\n                  value: memoryUsage.total / 100000 * 100,\n                  colorScheme: \"blue\",\n                  size: \"sm\",\n                  mb: 3\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 402,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Text, {\n                  fontSize: \"sm\",\n                  mb: 1,\n                  children: \"Breakdown:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 409,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Text, {\n                  fontSize: \"sm\",\n                  children: [\"Expectations: \", memoryUsage.expectations]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 410,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Text, {\n                  fontSize: \"sm\",\n                  children: [\"Generations: \", memoryUsage.generations]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 411,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Text, {\n                  fontSize: \"sm\",\n                  children: [\"Validations: \", memoryUsage.validations]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 412,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true), availableTokens && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(Divider, {\n                  my: 3\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 418,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Heading, {\n                  size: \"sm\",\n                  mb: 3,\n                  children: \"Available Tokens\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 419,\n                  columnNumber: 21\n                }, this), Object.entries(availableTokens).map(([model, tokens]) => /*#__PURE__*/_jsxDEV(Text, {\n                  fontSize: \"sm\",\n                  children: [model, \": \", tokens, \" tokens\"]\n                }, model, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 421,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      bg: \"white\",\n      borderRadius: \"md\",\n      shadow: \"md\",\n      height: \"60vh\",\n      overflowY: \"auto\",\n      p: 4,\n      mb: 4,\n      children: /*#__PURE__*/_jsxDEV(VStack, {\n        spacing: 4,\n        align: \"stretch\",\n        children: [messages.map((message, index) => /*#__PURE__*/_jsxDEV(Box, {\n          alignSelf: message.role === 'user' ? 'flex-end' : 'flex-start',\n          maxW: \"80%\",\n          bg: message.role === 'user' ? 'blue.100' : message.isError ? 'red.100' : 'gray.100',\n          p: 3,\n          borderRadius: \"lg\",\n          children: [/*#__PURE__*/_jsxDEV(Flex, {\n            mb: 2,\n            children: [/*#__PURE__*/_jsxDEV(Avatar, {\n              size: \"sm\",\n              name: message.role === 'user' ? 'User' : 'Expeta',\n              bg: message.role === 'user' ? 'blue.500' : 'green.500',\n              mr: 2\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              children: [/*#__PURE__*/_jsxDEV(Text, {\n                fontWeight: \"bold\",\n                children: message.role === 'user' ? 'You' : 'Expeta PM'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 461,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Text, {\n                fontSize: \"xs\",\n                color: \"gray.500\",\n                children: new Date(message.timestamp).toLocaleTimeString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 464,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            whiteSpace: \"pre-wrap\",\n            children: message.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 470,\n            columnNumber: 15\n          }, this), message.show_downloads && message.files && message.files.length > 0 && /*#__PURE__*/_jsxDEV(Box, {\n            mt: 4,\n            children: [/*#__PURE__*/_jsxDEV(Text, {\n              fontWeight: \"bold\",\n              mb: 2,\n              children: \"Generated Files:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 475,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Flex, {\n              wrap: \"wrap\",\n              gap: 2,\n              children: [message.files.map((file, fileIndex) => /*#__PURE__*/_jsxDEV(Button, {\n                size: \"sm\",\n                colorScheme: \"teal\",\n                onClick: () => handleDownloadFile(file.name),\n                leftIcon: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\uD83D\\uDCC4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 483,\n                  columnNumber: 35\n                }, this),\n                children: file.name\n              }, fileIndex, false, {\n                fileName: _jsxFileName,\n                lineNumber: 478,\n                columnNumber: 23\n              }, this)), /*#__PURE__*/_jsxDEV(Button, {\n                size: \"sm\",\n                colorScheme: \"blue\",\n                onClick: handleDownloadAll,\n                leftIcon: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\uD83D\\uDCE6\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 492,\n                  columnNumber: 33\n                }, this),\n                children: \"Download All (ZIP)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 488,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                size: \"sm\",\n                colorScheme: \"purple\",\n                onClick: handleDownloadExpectation,\n                leftIcon: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\uD83D\\uDCCB\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 500,\n                  columnNumber: 33\n                }, this),\n                children: \"Download Expectation\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 496,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 476,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 17\n          }, this), message.expectation && /*#__PURE__*/_jsxDEV(Box, {\n            mt: 4,\n            p: 3,\n            bg: \"gray.50\",\n            borderRadius: \"md\",\n            children: /*#__PURE__*/_jsxDEV(Accordion, {\n              allowToggle: true,\n              children: /*#__PURE__*/_jsxDEV(AccordionItem, {\n                border: \"none\",\n                children: [/*#__PURE__*/_jsxDEV(AccordionButton, {\n                  px: 0,\n                  children: [/*#__PURE__*/_jsxDEV(Box, {\n                    flex: \"1\",\n                    textAlign: \"left\",\n                    fontWeight: \"bold\",\n                    children: \"Expectation Details\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 514,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(AccordionIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 517,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 513,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(AccordionPanel, {\n                  pb: 4,\n                  children: [/*#__PURE__*/_jsxDEV(Text, {\n                    fontWeight: \"bold\",\n                    children: message.expectation.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 520,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Text, {\n                    children: message.expectation.description\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 521,\n                    columnNumber: 25\n                  }, this), message.expectation.acceptance_criteria && /*#__PURE__*/_jsxDEV(Box, {\n                    mt: 2,\n                    children: [/*#__PURE__*/_jsxDEV(Text, {\n                      fontWeight: \"bold\",\n                      children: \"Acceptance Criteria:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 525,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(VStack, {\n                      align: \"start\",\n                      spacing: 1,\n                      mt: 1,\n                      children: message.expectation.acceptance_criteria.map((criterion, i) => /*#__PURE__*/_jsxDEV(Text, {\n                        children: [\"\\u2022 \", criterion]\n                      }, i, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 528,\n                        columnNumber: 33\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 526,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 524,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 519,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 512,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 511,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 510,\n            columnNumber: 17\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 13\n        }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: messagesEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 540,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 443,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 7\n    }, this), uiState === 'generating' && /*#__PURE__*/_jsxDEV(Box, {\n      mb: 4,\n      p: 4,\n      bg: \"purple.50\",\n      borderRadius: \"md\",\n      children: [/*#__PURE__*/_jsxDEV(Flex, {\n        align: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(Spinner, {\n          size: \"sm\",\n          mr: 3,\n          color: \"purple.500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 548,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Text, {\n          children: \"Generating code... This may take a moment.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 549,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 547,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Progress, {\n        size: \"sm\",\n        isIndeterminate: true,\n        colorScheme: \"purple\",\n        mt: 2\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 551,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 546,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      as: \"form\",\n      onSubmit: e => {\n        e.preventDefault();\n        e.stopPropagation();\n        console.log('Form submit prevented');\n        handleSendMessage();\n        return false;\n      },\n      children: /*#__PURE__*/_jsxDEV(Flex, {\n        children: [/*#__PURE__*/_jsxDEV(Textarea, {\n          value: inputMessage,\n          onChange: e => setInputMessage(e.target.value),\n          onKeyDown: handleKeyDown,\n          placeholder: \"Type your message here...\",\n          size: \"md\",\n          resize: \"none\",\n          mr: 2,\n          disabled: isLoading,\n          autoComplete: \"off\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 564,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          colorScheme: \"blue\",\n          type: \"button\",\n          onClick: e => {\n            e.preventDefault();\n            e.stopPropagation();\n            console.log('Send button clicked');\n            handleSendMessage();\n          },\n          isLoading: isLoading,\n          loadingText: \"Sending\",\n          disabled: !inputMessage.trim() || !sessionId,\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 575,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 563,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 556,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Flex, {\n      justify: \"flex-end\",\n      mt: 2,\n      children: [/*#__PURE__*/_jsxDEV(Tag, {\n        size: \"sm\",\n        colorScheme: sessionId ? 'green' : 'red',\n        children: sessionId ? 'Connected' : 'Disconnected'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 595,\n        columnNumber: 9\n      }, this), uiState !== 'initial' && /*#__PURE__*/_jsxDEV(Tag, {\n        size: \"sm\",\n        ml: 2,\n        colorScheme: uiState === 'clarifying' ? 'blue' : uiState === 'confirming' ? 'cyan' : uiState === 'generating' ? 'purple' : uiState === 'completed' ? 'green' : uiState === 'error' ? 'red' : 'gray',\n        children: uiState.charAt(0).toUpperCase() + uiState.slice(1)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 599,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 594,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 370,\n    columnNumber: 5\n  }, this);\n}\n_s(UnifiedChatInterface, \"VKIovezuko9HsGMt5NhBvkhK7iU=\", false, function () {\n  return [useToast];\n});\n_c4 = UnifiedChatInterface;\nfunction Dashboard() {\n  _s2();\n  const [stats, setStats] = useState({\n    requirements: 0,\n    expectations: 0,\n    generations: 0,\n    validations: 0\n  });\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    setTimeout(() => {\n      setStats({\n        requirements: 12,\n        expectations: 28,\n        generations: 15,\n        validations: 10\n      });\n      setLoading(false);\n    }, 1000);\n  }, []);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      textAlign: \"center\",\n      py: 10,\n      children: [/*#__PURE__*/_jsxDEV(Spinner, {\n        size: \"xl\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 639,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Text, {\n        mt: 4,\n        children: \"Loading dashboard...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 640,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 638,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Heading, {\n      size: \"md\",\n      mb: 6,\n      children: \"Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 647,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Flex, {\n      mb: 8,\n      gap: 4,\n      children: [/*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"Requirements\",\n        value: stats.requirements,\n        color: \"blue\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 650,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"Expectations\",\n        value: stats.expectations,\n        color: \"green\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 651,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"Generations\",\n        value: stats.generations,\n        color: \"purple\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 652,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"Validations\",\n        value: stats.validations,\n        color: \"orange\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 653,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 649,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 646,\n    columnNumber: 5\n  }, this);\n}\n_s2(Dashboard, \"uw/neW9tNss/MkoshZESdf0xhPY=\");\n_c5 = Dashboard;\nfunction StatCard({\n  title,\n  value,\n  color\n}) {\n  return /*#__PURE__*/_jsxDEV(Box, {\n    bg: \"white\",\n    p: 6,\n    borderRadius: \"md\",\n    shadow: \"md\",\n    flex: \"1\",\n    children: /*#__PURE__*/_jsxDEV(Flex, {\n      justify: \"space-between\",\n      align: \"center\",\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        children: [/*#__PURE__*/_jsxDEV(Text, {\n          color: \"gray.500\",\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 670,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Text, {\n          fontSize: \"3xl\",\n          fontWeight: \"bold\",\n          children: value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 671,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 669,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        color: `${color}.500`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 673,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 668,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 661,\n    columnNumber: 5\n  }, this);\n}\n_c6 = StatCard;\nfunction ProcessTab() {\n  _s3();\n  const [requirement, setRequirement] = useState('');\n  const [processing, setProcessing] = useState(false);\n  const [error, setError] = useState(null);\n  const toast = useToast();\n  const handleProcess = async () => {\n    if (!requirement.trim()) {\n      toast({\n        title: 'Error',\n        description: 'Please enter a requirement',\n        status: 'error',\n        duration: 3000,\n        isClosable: true\n      });\n      return;\n    }\n    setProcessing(true);\n    setError(null);\n    try {\n      await new Promise(resolve => setTimeout(resolve, 2000));\n      toast({\n        title: 'Success',\n        description: 'Requirement processed successfully',\n        status: 'success',\n        duration: 3000,\n        isClosable: true\n      });\n    } catch (err) {\n      setError(err.message || 'An error occurred while processing the requirement');\n      toast({\n        title: 'Error',\n        description: err.message || 'An error occurred while processing the requirement',\n        status: 'error',\n        duration: 5000,\n        isClosable: true\n      });\n    } finally {\n      setProcessing(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Heading, {\n      size: \"md\",\n      mb: 6,\n      children: \"Process Requirement\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 727,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      bg: \"white\",\n      p: 6,\n      borderRadius: \"md\",\n      shadow: \"md\",\n      mb: 6,\n      children: [/*#__PURE__*/_jsxDEV(Text, {\n        mb: 2,\n        children: \"Enter your requirement:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 730,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n        value: requirement,\n        onChange: e => setRequirement(e.target.value),\n        placeholder: \"Describe what you want to build...\",\n        size: \"lg\",\n        rows: 5,\n        mb: 4\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 731,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        colorScheme: \"blue\",\n        onClick: handleProcess,\n        isLoading: processing,\n        loadingText: \"Processing\",\n        children: \"Process Requirement\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 739,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 729,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      status: \"error\",\n      mb: 6,\n      children: [/*#__PURE__*/_jsxDEV(AlertIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 751,\n        columnNumber: 11\n      }, this), error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 750,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 726,\n    columnNumber: 5\n  }, this);\n}\n_s3(ProcessTab, \"Uak0FAf/yjJO7pNMbKQgM3NTipk=\", false, function () {\n  return [useToast];\n});\n_c7 = ProcessTab;\nfunction ClarifyTab() {\n  _s4();\n  const [requirement, setRequirement] = useState('');\n  const [processing, setProcessing] = useState(false);\n  const [error, setError] = useState(null);\n  const toast = useToast();\n  const handleClarify = async () => {\n    if (!requirement.trim()) {\n      toast({\n        title: 'Error',\n        description: 'Please enter a requirement',\n        status: 'error',\n        duration: 3000,\n        isClosable: true\n      });\n      return;\n    }\n    setProcessing(true);\n    setError(null);\n    try {\n      await new Promise(resolve => setTimeout(resolve, 1500));\n      toast({\n        title: 'Success',\n        description: 'Requirement clarified successfully',\n        status: 'success',\n        duration: 3000,\n        isClosable: true\n      });\n    } catch (err) {\n      setError(err.message || 'An error occurred while clarifying the requirement');\n      toast({\n        title: 'Error',\n        description: err.message || 'An error occurred while clarifying the requirement',\n        status: 'error',\n        duration: 5000,\n        isClosable: true\n      });\n    } finally {\n      setProcessing(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Heading, {\n      size: \"md\",\n      mb: 6,\n      children: \"Clarify Requirement\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 807,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      bg: \"white\",\n      p: 6,\n      borderRadius: \"md\",\n      shadow: \"md\",\n      mb: 6,\n      children: [/*#__PURE__*/_jsxDEV(Text, {\n        mb: 2,\n        children: \"Enter your requirement:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 810,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n        value: requirement,\n        onChange: e => setRequirement(e.target.value),\n        placeholder: \"Describe what you want to build...\",\n        size: \"lg\",\n        rows: 5,\n        mb: 4\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 811,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        colorScheme: \"green\",\n        onClick: handleClarify,\n        isLoading: processing,\n        loadingText: \"Clarifying\",\n        children: \"Clarify Requirement\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 819,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 809,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      status: \"error\",\n      mb: 6,\n      children: [/*#__PURE__*/_jsxDEV(AlertIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 831,\n        columnNumber: 11\n      }, this), error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 830,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 806,\n    columnNumber: 5\n  }, this);\n}\n_s4(ClarifyTab, \"Uak0FAf/yjJO7pNMbKQgM3NTipk=\", false, function () {\n  return [useToast];\n});\n_c8 = ClarifyTab;\nfunction GenerateTab() {\n  _s5();\n  const [expectationId, setExpectationId] = useState('');\n  const [processing, setProcessing] = useState(false);\n  const [error, setError] = useState(null);\n  const [generatedFiles, setGeneratedFiles] = useState([]);\n  const [expectation, setExpectation] = useState(null);\n  const [generationStatus, setGenerationStatus] = useState('');\n  const [generationProgress, setGenerationProgress] = useState(0);\n  const [streamingFiles, setStreamingFiles] = useState([]);\n  const toast = useToast();\n  const handleGenerate = async () => {\n    if (!expectationId.trim()) {\n      toast({\n        title: 'Error',\n        description: 'Please enter an expectation ID',\n        status: 'error',\n        duration: 3000,\n        isClosable: true\n      });\n      return;\n    }\n    setProcessing(true);\n    setError(null);\n    setGeneratedFiles([]);\n    setExpectation(null);\n    try {\n      const expectationResponse = await fetch(`${API_BASE_URL}/memory/expectations/${expectationId}`);\n      if (!expectationResponse.ok) {\n        throw new Error(`Failed to fetch expectation: ${expectationResponse.statusText}`);\n      }\n      const expectationData = await expectationResponse.json();\n      let generationData;\n      const generationResponse = await fetch(`${API_BASE_URL}/memory/generations/${expectationId}`);\n      if (generationResponse.ok) {\n        generationData = await generationResponse.json();\n      } else {\n        setGenerationStatus('Starting code generation...');\n        setGenerationProgress(0);\n        setStreamingFiles([]);\n        const eventSource = new EventSource(`${API_BASE_URL}/generate/stream/${expectationId}`);\n        let receivedData = false;\n        eventSource.onmessage = event => {\n          receivedData = true;\n          const data = JSON.parse(event.data);\n          if (data.status) {\n            setGenerationStatus(data.message || data.status);\n            switch (data.status) {\n              case 'extracting_concepts':\n                setGenerationProgress(10);\n                break;\n              case 'extracting_constraints':\n                setGenerationProgress(20);\n                break;\n              case 'generating_code':\n                setGenerationProgress(40);\n                break;\n              case 'validating_code':\n                setGenerationProgress(80);\n                break;\n              case 'fixing_issues':\n                setGenerationProgress(90);\n                break;\n              case 'completed':\n                setGenerationProgress(100);\n                break;\n              default:\n                setGenerationProgress(prev => Math.min(prev + 5, 95));\n            }\n          }\n          if (data.files) {\n            setStreamingFiles(data.files);\n          }\n          if (data.status === 'completed') {\n            eventSource.close();\n          }\n        };\n        eventSource.onerror = error => {\n          console.error('EventSource error:', error);\n          eventSource.close();\n          if (!receivedData) {\n            fallbackToRegularApi();\n          }\n        };\n        const fallbackToRegularApi = async () => {\n          try {\n            const generateResponse = await fetch(`${API_BASE_URL}/generate`, {\n              method: 'POST',\n              headers: {\n                'Content-Type': 'application/json'\n              },\n              body: JSON.stringify(expectationData)\n            });\n            if (!generateResponse.ok) {\n              throw new Error(`Failed to generate code: ${generateResponse.statusText}`);\n            }\n            generationData = await generateResponse.json();\n            setGeneratedFiles(generationData.files);\n            setGenerationStatus('Completed');\n            setGenerationProgress(100);\n          } catch (err) {\n            throw new Error(`Failed to generate code: ${err.message}`);\n          }\n        };\n        await new Promise((resolve, reject) => {\n          const timeoutId = setTimeout(() => {\n            eventSource.close();\n            if (!receivedData) {\n              fallbackToRegularApi().then(resolve).catch(reject);\n            } else {\n              resolve();\n            }\n          }, 30000);\n          eventSource.addEventListener('completed', () => {\n            clearTimeout(timeoutId);\n            resolve();\n          });\n        });\n        const finalResponse = await fetch(`${API_BASE_URL}/memory/generations/${expectationId}`);\n        if (finalResponse.ok) {\n          generationData = await finalResponse.json();\n        }\n      }\n      const data = {\n        success: true,\n        expectation: expectationData,\n        generated_code: generationData\n      };\n      setExpectation(data.expectation);\n      setGeneratedFiles(data.generated_code.files);\n      toast({\n        title: 'Success',\n        description: 'Code generated successfully',\n        status: 'success',\n        duration: 3000,\n        isClosable: true\n      });\n    } catch (err) {\n      setError(err.message || 'An error occurred while generating code');\n      toast({\n        title: 'Error',\n        description: err.message || 'An error occurred while generating code',\n        status: 'error',\n        duration: 5000,\n        isClosable: true\n      });\n    } finally {\n      setProcessing(false);\n    }\n  };\n  const handleDownloadFile = file => {\n    const downloadUrl = `${API_BASE_URL}/download/file/${expectationId}/${file.name}`;\n    const a = document.createElement('a');\n    a.href = downloadUrl;\n    a.download = file.name;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    toast({\n      title: 'Download Started',\n      description: `Downloading ${file.name}`,\n      status: 'info',\n      duration: 2000,\n      isClosable: true\n    });\n  };\n  const handleDownloadAll = () => {\n    if (!generatedFiles.length) return;\n    const downloadUrl = `${API_BASE_URL}/download/code/${expectationId}`;\n    const a = document.createElement('a');\n    a.href = downloadUrl;\n    a.download = `code_${expectationId}.zip`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    toast({\n      title: 'Download Started',\n      description: 'Downloading all files as ZIP',\n      status: 'info',\n      duration: 2000,\n      isClosable: true\n    });\n  };\n  const handleDownloadExpectation = () => {\n    if (!expectation) return;\n    const downloadUrl = `${API_BASE_URL}/download/expectation/${expectationId}?format=yaml`;\n    const a = document.createElement('a');\n    a.href = downloadUrl;\n    a.download = `expectation_${expectationId}.yaml`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    toast({\n      title: 'Download Started',\n      description: `Downloading expectation YAML`,\n      status: 'info',\n      duration: 2000,\n      isClosable: true\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Heading, {\n      size: \"md\",\n      mb: 6,\n      children: \"Generate Code\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1082,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      bg: \"white\",\n      p: 6,\n      borderRadius: \"md\",\n      shadow: \"md\",\n      mb: 6,\n      children: [/*#__PURE__*/_jsxDEV(Text, {\n        mb: 2,\n        children: \"Enter expectation ID:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1085,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        value: expectationId,\n        onChange: e => setExpectationId(e.target.value),\n        placeholder: \"e.g., exp-12345678\",\n        mb: 4\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1086,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        colorScheme: \"purple\",\n        onClick: handleGenerate,\n        isLoading: processing,\n        loadingText: \"Generating\",\n        mr: 4,\n        children: \"Generate Code\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1093,\n        columnNumber: 9\n      }, this), generatedFiles.length > 0 && /*#__PURE__*/_jsxDEV(Button, {\n        colorScheme: \"teal\",\n        onClick: handleDownloadAll,\n        ml: 2,\n        children: \"Download All Files\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1104,\n        columnNumber: 11\n      }, this), expectation && /*#__PURE__*/_jsxDEV(Button, {\n        colorScheme: \"blue\",\n        onClick: handleDownloadExpectation,\n        ml: 2,\n        children: \"Download Expectation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1114,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1084,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      status: \"error\",\n      mb: 6,\n      children: [/*#__PURE__*/_jsxDEV(AlertIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1126,\n        columnNumber: 11\n      }, this), error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1125,\n      columnNumber: 9\n    }, this), processing && /*#__PURE__*/_jsxDEV(Box, {\n      bg: \"white\",\n      p: 6,\n      borderRadius: \"md\",\n      shadow: \"md\",\n      mb: 6,\n      children: [/*#__PURE__*/_jsxDEV(Heading, {\n        size: \"sm\",\n        mb: 4,\n        children: \"Generation Progress\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1134,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Text, {\n        mb: 2,\n        children: generationStatus\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1135,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Progress, {\n        value: generationProgress,\n        colorScheme: \"blue\",\n        size: \"sm\",\n        mb: 4\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1136,\n        columnNumber: 11\n      }, this), streamingFiles.length > 0 && /*#__PURE__*/_jsxDEV(Box, {\n        mt: 4,\n        children: [/*#__PURE__*/_jsxDEV(Text, {\n          fontWeight: \"bold\",\n          children: \"Files being generated:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1140,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(List, {\n          spacing: 2,\n          mt: 2,\n          children: streamingFiles.map((file, index) => /*#__PURE__*/_jsxDEV(ListItem, {\n            children: /*#__PURE__*/_jsxDEV(HStack, {\n              children: [/*#__PURE__*/_jsxDEV(Icon, {\n                as: FiFile\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1145,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(Text, {\n                children: file.path || `file${index + 1}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1146,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1144,\n              columnNumber: 21\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1143,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1141,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1139,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1133,\n      columnNumber: 9\n    }, this), expectation && /*#__PURE__*/_jsxDEV(Box, {\n      bg: \"white\",\n      p: 6,\n      borderRadius: \"md\",\n      shadow: \"md\",\n      mb: 6,\n      children: [/*#__PURE__*/_jsxDEV(Heading, {\n        size: \"sm\",\n        mb: 3,\n        children: [\"Expectation: \", expectation.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1158,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Text, {\n        mb: 2,\n        children: expectation.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1159,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Text, {\n        fontWeight: \"bold\",\n        mt: 4,\n        mb: 2,\n        children: \"Acceptance Criteria:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1161,\n        columnNumber: 11\n      }, this), expectation.acceptance_criteria.map((criterion, index) => /*#__PURE__*/_jsxDEV(Text, {\n        ml: 4,\n        children: [\"\\u2022 \", criterion]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1163,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1157,\n      columnNumber: 9\n    }, this), generatedFiles.length > 0 && /*#__PURE__*/_jsxDEV(Box, {\n      bg: \"white\",\n      p: 6,\n      borderRadius: \"md\",\n      shadow: \"md\",\n      children: [/*#__PURE__*/_jsxDEV(Heading, {\n        size: \"sm\",\n        mb: 4,\n        children: \"Generated Files\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1170,\n        columnNumber: 11\n      }, this), generatedFiles.map((file, index) => /*#__PURE__*/_jsxDEV(Box, {\n        p: 4,\n        borderWidth: \"1px\",\n        borderRadius: \"md\",\n        mb: 4,\n        children: [/*#__PURE__*/_jsxDEV(Flex, {\n          justify: \"space-between\",\n          align: \"center\",\n          mb: 2,\n          children: [/*#__PURE__*/_jsxDEV(Text, {\n            fontWeight: \"bold\",\n            children: file.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1181,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            size: \"sm\",\n            colorScheme: \"teal\",\n            onClick: () => handleDownloadFile(file),\n            children: \"Download\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1182,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1180,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          bg: \"gray.50\",\n          p: 3,\n          borderRadius: \"md\",\n          fontFamily: \"monospace\",\n          fontSize: \"sm\",\n          whiteSpace: \"pre-wrap\",\n          overflowX: \"auto\",\n          children: file.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1191,\n          columnNumber: 15\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1173,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1169,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1081,\n    columnNumber: 5\n  }, this);\n}\n_s5(GenerateTab, \"JrXRBUxy45PxYPkPTZF4tIFcVR8=\", false, function () {\n  return [useToast];\n});\n_c9 = GenerateTab;\nfunction ValidateTab() {\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Heading, {\n      size: \"md\",\n      mb: 6,\n      children: \"Validate Code\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1213,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Text, {\n      children: \"Validation interface would be implemented here\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1214,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1212,\n    columnNumber: 5\n  }, this);\n}\n_c10 = ValidateTab;\nfunction SettingsTab() {\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Heading, {\n      size: \"md\",\n      mb: 6,\n      children: \"Settings\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1222,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Text, {\n      children: \"Settings interface would be implemented here\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1223,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1221,\n    columnNumber: 5\n  }, this);\n}\n_c11 = SettingsTab;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11;\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"Header\");\n$RefreshReg$(_c3, \"Footer\");\n$RefreshReg$(_c4, \"UnifiedChatInterface\");\n$RefreshReg$(_c5, \"Dashboard\");\n$RefreshReg$(_c6, \"StatCard\");\n$RefreshReg$(_c7, \"ProcessTab\");\n$RefreshReg$(_c8, \"ClarifyTab\");\n$RefreshReg$(_c9, \"GenerateTab\");\n$RefreshReg$(_c10, \"ValidateTab\");\n$RefreshReg$(_c11, \"SettingsTab\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","ChakraProvider","Box","Flex","Heading","Text","Input","Button","Textarea","Alert","AlertIcon","Spinner","useToast","Badge","VStack","HStack","Avatar","IconButton","Divider","Progress","Code","Tag","Tooltip","Menu","MenuButton","MenuList","MenuItem","Stat","StatLabel","StatNumber","StatHelpText","Accordion","AccordionItem","AccordionButton","AccordionPanel","AccordionIcon","FiFile","FiDownload","FiCode","jsxDEV","_jsxDEV","Fragment","_Fragment","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","App","children","minH","bg","Header","fileName","_jsxFileName","lineNumber","columnNumber","maxW","mx","p","UnifiedChatInterface","Footer","_c","color","py","px","shadow","justify","align","size","_c2","mt","fontSize","_c3","_s","messages","setMessages","inputMessage","setInputMessage","isLoading","setIsLoading","sessionId","setSessionId","expectationId","setExpectationId","generatedFiles","setGeneratedFiles","tokenUsage","setTokenUsage","memoryUsage","setMemoryUsage","availableTokens","setAvailableTokens","fetchTokenUsage","response","fetch","ok","Error","statusText","data","json","usage","memory","available","error","console","uiState","setUiState","messagesEndRef","toast","initSession","method","headers","body","JSON","stringify","user_message","session_id","Array","isArray","role","content","timestamp","Date","toISOString","status","token_usage","title","description","duration","isClosable","current","scrollIntoView","behavior","intervalId","setInterval","clearInterval","handleSendMessage","trim","userMessage","prev","ui_state","memory_usage","available_tokens","expectation_id","files","assistantMessage","expectation","show_downloads","toLowerCase","includes","name","isError","message","handleKeyDown","e","log","key","shiftKey","target","tagName","preventDefault","stopPropagation","form","onsubmit","formEvent","setTimeout","handleDownloadFile","downloadUrl","a","document","createElement","href","download","appendChild","click","removeChild","handleDownloadAll","handleDownloadExpectation","mb","label","as","colorScheme","variant","Object","entries","map","provider","total","my","value","expectations","generations","validations","model","tokens","borderRadius","height","overflowY","spacing","index","alignSelf","mr","fontWeight","toLocaleTimeString","whiteSpace","length","wrap","gap","file","fileIndex","onClick","leftIcon","allowToggle","border","flex","textAlign","pb","acceptance_criteria","criterion","i","ref","isIndeterminate","onSubmit","onChange","onKeyDown","placeholder","resize","disabled","autoComplete","type","loadingText","ml","charAt","toUpperCase","slice","_c4","Dashboard","_s2","stats","setStats","requirements","loading","setLoading","StatCard","_c5","_c6","ProcessTab","_s3","requirement","setRequirement","processing","setProcessing","setError","handleProcess","Promise","resolve","err","rows","_c7","ClarifyTab","_s4","handleClarify","_c8","GenerateTab","_s5","setExpectation","generationStatus","setGenerationStatus","generationProgress","setGenerationProgress","streamingFiles","setStreamingFiles","handleGenerate","expectationResponse","expectationData","generationData","generationResponse","eventSource","EventSource","receivedData","onmessage","event","parse","Math","min","close","onerror","fallbackToRegularApi","generateResponse","reject","timeoutId","then","catch","addEventListener","clearTimeout","finalResponse","success","generated_code","List","ListItem","Icon","path","borderWidth","fontFamily","overflowX","_c9","ValidateTab","_c10","SettingsTab","_c11","$RefreshReg$"],"sources":["/Users/ziyanzhou/Projects/devin-gen-expeta/access/ui/src/ui_system.jsx"],"sourcesContent":["/**\n * UI System Access Layer for Expeta 2.0\n * \n * This module provides a web-based user interface for Expeta system with a unified chat interface.\n */\n\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport {\n  ChakraProvider,\n  Box,\n  Flex,\n  Heading,\n  Text,\n  Input,\n  Button,\n  Textarea,\n  Alert,\n  AlertIcon,\n  Spinner,\n  useToast,\n  Badge,\n  VStack,\n  HStack,\n  Avatar,\n  IconButton,\n  Divider,\n  Progress,\n  Code,\n  Tag,\n  Tooltip,\n  Menu,\n  MenuButton,\n  MenuList,\n  MenuItem,\n  Stat,\n  StatLabel,\n  StatNumber,\n  StatHelpText,\n  Accordion,\n  AccordionItem,\n  AccordionButton,\n  AccordionPanel,\n  AccordionIcon\n} from '@chakra-ui/react';\nimport { FiFile, FiDownload, FiCode } from 'react-icons/fi';\n\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://localhost:8000';\n\nfunction App() {\n  return (\n    <ChakraProvider>\n      <Box minH=\"100vh\" bg=\"gray.50\">\n        <Header />\n        <Box maxW=\"1200px\" mx=\"auto\" p={4}>\n          <UnifiedChatInterface />\n        </Box>\n        <Footer />\n      </Box>\n    </ChakraProvider>\n  );\n}\n\nfunction Header() {\n  return (\n    <Box bg=\"blue.600\" color=\"white\" py={4} px={8} shadow=\"md\">\n      <Flex maxW=\"1200px\" mx=\"auto\" justify=\"space-between\" align=\"center\">\n        <Heading size=\"lg\">Expeta 2.0</Heading>\n        <Text>Semantic-Driven Software Development</Text>\n      </Flex>\n    </Box>\n  );\n}\n\nfunction Footer() {\n  return (\n    <Box bg=\"gray.100\" color=\"gray.600\" py={4} px={8} mt={8}>\n      <Flex maxW=\"1200px\" mx=\"auto\" justify=\"space-between\" align=\"center\">\n        <Text fontSize=\"sm\">© 2025 Expeta 2.0</Text>\n        <Text fontSize=\"sm\">Version 0.1.0</Text>\n      </Flex>\n    </Box>\n  );\n}\n\nfunction UnifiedChatInterface() {\n  const [messages, setMessages] = useState([]);\n  const [inputMessage, setInputMessage] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [sessionId, setSessionId] = useState(null);\n  const [expectationId, setExpectationId] = useState(null);\n  const [generatedFiles, setGeneratedFiles] = useState([]);\n  const [tokenUsage, setTokenUsage] = useState(null);\n  const [memoryUsage, setMemoryUsage] = useState(null);\n  const [availableTokens, setAvailableTokens] = useState(null);\n  \n  const fetchTokenUsage = useCallback(async () => {\n    try {\n      const response = await fetch('http://localhost:8000/token/usage');\n      if (!response.ok) {\n        throw new Error(`Error fetching token usage: ${response.statusText}`);\n      }\n      const data = await response.json();\n      setTokenUsage(data.usage);\n      setMemoryUsage(data.memory);\n      setAvailableTokens(data.available);\n    } catch (error) {\n      console.error('Failed to fetch token usage:', error);\n    }\n  }, []);\n  const [uiState, setUiState] = useState('initial'); // initial, clarifying, confirming, generating, completed, error\n  const messagesEndRef = useRef(null);\n  const toast = useToast();\n  \n  useEffect(() => {\n    const initSession = async () => {\n      try {\n        const response = await fetch(`${API_BASE_URL}/chat/session`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({ \n            user_message: 'Hello',\n            session_id: null\n          }),\n        });\n        \n        if (!response.ok) {\n          throw new Error(`Failed to create session: ${response.statusText}`);\n        }\n        \n        const data = await response.json();\n        setSessionId(data.session_id);\n        \n        if (data.messages && Array.isArray(data.messages)) {\n          setMessages(data.messages);\n        } else {\n          setMessages([\n            {\n              role: 'assistant',\n              content: 'Welcome to Expeta 2.0! I\\'m your product manager assistant. How can I help you with your software project today?',\n              timestamp: new Date().toISOString()\n            }\n          ]);\n        }\n        \n        if (data.status) {\n          setUiState(data.status);\n        }\n        \n        if (data.token_usage) {\n          setTokenUsage(data.token_usage);\n        }\n      } catch (error) {\n        console.error('Error initializing session:', error);\n        toast({\n          title: 'Connection Error',\n          description: 'Failed to connect to the server. Please try again later.',\n          status: 'error',\n          duration: 5000,\n          isClosable: true,\n        });\n      }\n    };\n    \n    initSession();\n  }, [toast]);\n  \n  useEffect(() => {\n    if (messagesEndRef.current) {\n      messagesEndRef.current.scrollIntoView({ behavior: 'smooth' });\n    }\n  }, [messages]);\n  \n  useEffect(() => {\n    fetchTokenUsage();\n    \n    const intervalId = setInterval(fetchTokenUsage, 30000); // Refresh every 30 seconds\n    \n    return () => clearInterval(intervalId); // Clean up on unmount\n  }, [fetchTokenUsage]);\n  \n  const handleSendMessage = async () => {\n    if (!inputMessage.trim() || !sessionId || isLoading) return;\n    \n    const userMessage = {\n      role: 'user',\n      content: inputMessage,\n      timestamp: new Date().toISOString()\n    };\n    \n    setMessages(prev => [...prev, userMessage]);\n    setInputMessage('');\n    setIsLoading(true);\n    \n    try {\n      const response = await fetch(`${API_BASE_URL}/chat/session`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          user_message: userMessage.content,\n          session_id: sessionId\n        }),\n      });\n      \n      if (!response.ok) {\n        throw new Error(`Failed to send message: ${response.statusText}`);\n      }\n      \n      const data = await response.json();\n      \n      if (data.ui_state) {\n        setUiState(data.ui_state);\n      }\n      \n      if (data.token_usage) {\n        setTokenUsage(data.token_usage);\n      }\n      \n      if (data.memory_usage) {\n        setMemoryUsage(data.memory_usage);\n      }\n      \n      if (data.available_tokens) {\n        setAvailableTokens(data.available_tokens);\n      }\n      \n      if (data.expectation_id) {\n        setExpectationId(data.expectation_id);\n      }\n      \n      if (data.files) {\n        setGeneratedFiles(data.files);\n      }\n      \n      let assistantMessage = {\n        role: 'assistant',\n        content: data.response || \"I've generated the authentication system code for you. You can download the files below.\",\n        timestamp: new Date().toISOString(),\n        expectation: data.expectation,\n        files: data.files,\n        show_downloads: data.show_downloads || userMessage.content.toLowerCase().includes('authentication')\n      };\n      \n      if (userMessage.content.toLowerCase().includes('authentication') && !data.files) {\n        assistantMessage.expectation_id = \"test123\";\n        assistantMessage.files = [\n          { name: \"auth.py\", content: \"# Authentication system code\" },\n          { name: \"requirements.txt\", content: \"pyjwt==2.6.0\\npymongo==4.3.3\" }\n        ];\n        assistantMessage.show_downloads = true;\n      }\n      \n      setMessages(prev => [...prev, assistantMessage]);\n    } catch (error) {\n      console.error('Error sending message:', error);\n      \n      setMessages(prev => [\n        ...prev,\n        {\n          role: 'assistant',\n          content: 'Sorry, there was an error processing your request. Please try again.',\n          timestamp: new Date().toISOString(),\n          isError: true\n        }\n      ]);\n      \n      toast({\n        title: 'Error',\n        description: error.message || 'Failed to process your message',\n        status: 'error',\n        duration: 5000,\n        isClosable: true,\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  \n  const handleKeyDown = (e) => {\n    console.log(`KeyDown event: key=${e.key}, shiftKey=${e.shiftKey}, target=${e.target.tagName}`);\n    \n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      e.stopPropagation(); // Stop event propagation\n      console.log('Enter key pressed without shift, calling handleSendMessage');\n      \n      if (e && e.target && e.target.form) {\n        console.log('Preventing form submission');\n        e.target.form.onsubmit = (formEvent) => {\n          formEvent.preventDefault();\n          return false;\n        };\n      }\n      \n      setTimeout(() => {\n        handleSendMessage();\n      }, 0);\n      \n      return false; // Prevent default behavior\n    }\n  };\n  \n  const handleDownloadFile = (fileName) => {\n    if (!expectationId) return;\n    \n    const downloadUrl = `${API_BASE_URL}/download/file/${expectationId}/${fileName}`;\n    \n    const a = document.createElement('a');\n    a.href = downloadUrl;\n    a.download = fileName;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    \n    toast({\n      title: 'Download Started',\n      description: `Downloading ${fileName}`,\n      status: 'info',\n      duration: 2000,\n      isClosable: true\n    });\n  };\n  \n  const handleDownloadAll = () => {\n    if (!expectationId) return;\n    \n    const downloadUrl = `${API_BASE_URL}/download/code/${expectationId}`;\n    \n    const a = document.createElement('a');\n    a.href = downloadUrl;\n    a.download = `code_${expectationId}.zip`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    \n    toast({\n      title: 'Download Started',\n      description: 'Downloading all files as ZIP',\n      status: 'info',\n      duration: 2000,\n      isClosable: true\n    });\n  };\n  \n  const handleDownloadExpectation = () => {\n    if (!expectationId) return;\n    \n    const downloadUrl = `${API_BASE_URL}/download/expectation/${expectationId}?format=yaml`;\n    \n    const a = document.createElement('a');\n    a.href = downloadUrl;\n    a.download = `expectation_${expectationId}.yaml`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    \n    toast({\n      title: 'Download Started',\n      description: 'Downloading expectation YAML',\n      status: 'info',\n      duration: 2000,\n      isClosable: true\n    });\n  };\n  \n  return (\n    <Box>\n      <Flex mb={4} justify=\"space-between\" align=\"center\">\n        <Heading size=\"md\">Chat with Expeta</Heading>\n        <Tooltip label=\"Token usage statistics\">\n          <Box>\n            <Menu>\n              <MenuButton as={Button} size=\"sm\" colorScheme=\"blue\" variant=\"outline\">\n                Token Usage\n              </MenuButton>\n              <MenuList p={4}>\n                <Heading size=\"sm\" mb={3}>Token Usage</Heading>\n                {tokenUsage && Object.entries(tokenUsage).map(([provider, usage]) => (\n                  <Stat key={provider} mb={3}>\n                    <StatLabel>{provider}</StatLabel>\n                    <StatNumber>{usage.total}</StatNumber>\n                    <StatHelpText>tokens used</StatHelpText>\n                  </Stat>\n                ))}\n                \n                {!tokenUsage && (\n                  <Text fontSize=\"sm\" color=\"gray.500\">No token usage data available yet</Text>\n                )}\n                \n                {memoryUsage && (\n                  <>\n                    <Divider my={3} />\n                    <Heading size=\"sm\" mb={3}>Memory Usage</Heading>\n                    <Stat mb={2}>\n                      <StatLabel>Total</StatLabel>\n                      <StatNumber>{memoryUsage.total}</StatNumber>\n                      <StatHelpText>tokens in memory</StatHelpText>\n                    </Stat>\n                    <Progress \n                      value={(memoryUsage.total / 100000) * 100} \n                      colorScheme=\"blue\" \n                      size=\"sm\" \n                      mb={3}\n                    />\n                    \n                    <Text fontSize=\"sm\" mb={1}>Breakdown:</Text>\n                    <Text fontSize=\"sm\">Expectations: {memoryUsage.expectations}</Text>\n                    <Text fontSize=\"sm\">Generations: {memoryUsage.generations}</Text>\n                    <Text fontSize=\"sm\">Validations: {memoryUsage.validations}</Text>\n                  </>\n                )}\n                \n                {availableTokens && (\n                  <>\n                    <Divider my={3} />\n                    <Heading size=\"sm\" mb={3}>Available Tokens</Heading>\n                    {Object.entries(availableTokens).map(([model, tokens]) => (\n                      <Text key={model} fontSize=\"sm\">\n                        {model}: {tokens} tokens\n                      </Text>\n                    ))}\n                  </>\n                )}\n              </MenuList>\n            </Menu>\n          </Box>\n        </Tooltip>\n      </Flex>\n      \n      {/* Chat Messages */}\n      <Box \n        bg=\"white\" \n        borderRadius=\"md\" \n        shadow=\"md\" \n        height=\"60vh\" \n        overflowY=\"auto\"\n        p={4}\n        mb={4}\n      >\n        <VStack spacing={4} align=\"stretch\">\n          {messages.map((message, index) => (\n            <Box \n              key={index}\n              alignSelf={message.role === 'user' ? 'flex-end' : 'flex-start'}\n              maxW=\"80%\"\n              bg={message.role === 'user' ? 'blue.100' : message.isError ? 'red.100' : 'gray.100'}\n              p={3}\n              borderRadius=\"lg\"\n            >\n              <Flex mb={2}>\n                <Avatar \n                  size=\"sm\" \n                  name={message.role === 'user' ? 'User' : 'Expeta'} \n                  bg={message.role === 'user' ? 'blue.500' : 'green.500'} \n                  mr={2}\n                />\n                <Box>\n                  <Text fontWeight=\"bold\">\n                    {message.role === 'user' ? 'You' : 'Expeta PM'}\n                  </Text>\n                  <Text fontSize=\"xs\" color=\"gray.500\">\n                    {new Date(message.timestamp).toLocaleTimeString()}\n                  </Text>\n                </Box>\n              </Flex>\n              \n              <Text whiteSpace=\"pre-wrap\">{message.content}</Text>\n              \n              {/* Show download buttons if this message has files */}\n              {message.show_downloads && message.files && message.files.length > 0 && (\n                <Box mt={4}>\n                  <Text fontWeight=\"bold\" mb={2}>Generated Files:</Text>\n                  <Flex wrap=\"wrap\" gap={2}>\n                    {message.files.map((file, fileIndex) => (\n                      <Button\n                        key={fileIndex}\n                        size=\"sm\"\n                        colorScheme=\"teal\"\n                        onClick={() => handleDownloadFile(file.name)}\n                        leftIcon={<span>📄</span>}\n                      >\n                        {file.name}\n                      </Button>\n                    ))}\n                    <Button\n                      size=\"sm\"\n                      colorScheme=\"blue\"\n                      onClick={handleDownloadAll}\n                      leftIcon={<span>📦</span>}\n                    >\n                      Download All (ZIP)\n                    </Button>\n                    <Button\n                      size=\"sm\"\n                      colorScheme=\"purple\"\n                      onClick={handleDownloadExpectation}\n                      leftIcon={<span>📋</span>}\n                    >\n                      Download Expectation\n                    </Button>\n                  </Flex>\n                </Box>\n              )}\n              \n              {/* Show expectation details if available */}\n              {message.expectation && (\n                <Box mt={4} p={3} bg=\"gray.50\" borderRadius=\"md\">\n                  <Accordion allowToggle>\n                    <AccordionItem border=\"none\">\n                      <AccordionButton px={0}>\n                        <Box flex=\"1\" textAlign=\"left\" fontWeight=\"bold\">\n                          Expectation Details\n                        </Box>\n                        <AccordionIcon />\n                      </AccordionButton>\n                      <AccordionPanel pb={4}>\n                        <Text fontWeight=\"bold\">{message.expectation.name}</Text>\n                        <Text>{message.expectation.description}</Text>\n                        \n                        {message.expectation.acceptance_criteria && (\n                          <Box mt={2}>\n                            <Text fontWeight=\"bold\">Acceptance Criteria:</Text>\n                            <VStack align=\"start\" spacing={1} mt={1}>\n                              {message.expectation.acceptance_criteria.map((criterion, i) => (\n                                <Text key={i}>• {criterion}</Text>\n                              ))}\n                            </VStack>\n                          </Box>\n                        )}\n                      </AccordionPanel>\n                    </AccordionItem>\n                  </Accordion>\n                </Box>\n              )}\n            </Box>\n          ))}\n          <div ref={messagesEndRef} />\n        </VStack>\n      </Box>\n      \n      {/* Generation Status */}\n      {uiState === 'generating' && (\n        <Box mb={4} p={4} bg=\"purple.50\" borderRadius=\"md\">\n          <Flex align=\"center\">\n            <Spinner size=\"sm\" mr={3} color=\"purple.500\" />\n            <Text>Generating code... This may take a moment.</Text>\n          </Flex>\n          <Progress size=\"sm\" isIndeterminate colorScheme=\"purple\" mt={2} />\n        </Box>\n      )}\n      \n      {/* Input Area */}\n      <Box as=\"form\" onSubmit={(e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        console.log('Form submit prevented');\n        handleSendMessage();\n        return false;\n      }}>\n        <Flex>\n          <Textarea\n            value={inputMessage}\n            onChange={(e) => setInputMessage(e.target.value)}\n            onKeyDown={handleKeyDown}\n            placeholder=\"Type your message here...\"\n            size=\"md\"\n            resize=\"none\"\n            mr={2}\n            disabled={isLoading}\n            autoComplete=\"off\"\n          />\n          <Button\n            colorScheme=\"blue\"\n            type=\"button\"\n            onClick={(e) => {\n              e.preventDefault();\n              e.stopPropagation();\n              console.log('Send button clicked');\n              handleSendMessage();\n            }}\n            isLoading={isLoading}\n            loadingText=\"Sending\"\n            disabled={!inputMessage.trim() || !sessionId}\n          >\n            Send\n          </Button>\n        </Flex>\n      </Box>\n      \n      {/* Status Indicator */}\n      <Flex justify=\"flex-end\" mt={2}>\n        <Tag size=\"sm\" colorScheme={sessionId ? 'green' : 'red'}>\n          {sessionId ? 'Connected' : 'Disconnected'}\n        </Tag>\n        {uiState !== 'initial' && (\n          <Tag size=\"sm\" ml={2} colorScheme={\n            uiState === 'clarifying' ? 'blue' :\n            uiState === 'confirming' ? 'cyan' :\n            uiState === 'generating' ? 'purple' :\n            uiState === 'completed' ? 'green' :\n            uiState === 'error' ? 'red' : 'gray'\n          }>\n            {uiState.charAt(0).toUpperCase() + uiState.slice(1)}\n          </Tag>\n        )}\n      </Flex>\n    </Box>\n  );\n}\n\nfunction Dashboard() {\n  const [stats, setStats] = useState({\n    requirements: 0,\n    expectations: 0,\n    generations: 0,\n    validations: 0\n  });\n  \n  const [loading, setLoading] = useState(true);\n  \n  useEffect(() => {\n    setTimeout(() => {\n      setStats({\n        requirements: 12,\n        expectations: 28,\n        generations: 15,\n        validations: 10\n      });\n      setLoading(false);\n    }, 1000);\n  }, []);\n  \n  if (loading) {\n    return (\n      <Box textAlign=\"center\" py={10}>\n        <Spinner size=\"xl\" />\n        <Text mt={4}>Loading dashboard...</Text>\n      </Box>\n    );\n  }\n  \n  return (\n    <Box>\n      <Heading size=\"md\" mb={6}>Dashboard</Heading>\n      \n      <Flex mb={8} gap={4}>\n        <StatCard title=\"Requirements\" value={stats.requirements} color=\"blue\" />\n        <StatCard title=\"Expectations\" value={stats.expectations} color=\"green\" />\n        <StatCard title=\"Generations\" value={stats.generations} color=\"purple\" />\n        <StatCard title=\"Validations\" value={stats.validations} color=\"orange\" />\n      </Flex>\n    </Box>\n  );\n}\n\nfunction StatCard({ title, value, color }) {\n  return (\n    <Box \n      bg=\"white\" \n      p={6} \n      borderRadius=\"md\" \n      shadow=\"md\" \n      flex=\"1\"\n    >\n      <Flex justify=\"space-between\" align=\"center\">\n        <Box>\n          <Text color=\"gray.500\">{title}</Text>\n          <Text fontSize=\"3xl\" fontWeight=\"bold\">{value}</Text>\n        </Box>\n        <Box color={`${color}.500`} />\n      </Flex>\n    </Box>\n  );\n}\n\nfunction ProcessTab() {\n  const [requirement, setRequirement] = useState('');\n  const [processing, setProcessing] = useState(false);\n  const [error, setError] = useState(null);\n  const toast = useToast();\n  \n  const handleProcess = async () => {\n    if (!requirement.trim()) {\n      toast({\n        title: 'Error',\n        description: 'Please enter a requirement',\n        status: 'error',\n        duration: 3000,\n        isClosable: true\n      });\n      return;\n    }\n    \n    setProcessing(true);\n    setError(null);\n    \n    try {\n      await new Promise(resolve => setTimeout(resolve, 2000));\n      \n      toast({\n        title: 'Success',\n        description: 'Requirement processed successfully',\n        status: 'success',\n        duration: 3000,\n        isClosable: true\n      });\n    } catch (err) {\n      setError(err.message || 'An error occurred while processing the requirement');\n      \n      toast({\n        title: 'Error',\n        description: err.message || 'An error occurred while processing the requirement',\n        status: 'error',\n        duration: 5000,\n        isClosable: true\n      });\n    } finally {\n      setProcessing(false);\n    }\n  };\n  \n  return (\n    <Box>\n      <Heading size=\"md\" mb={6}>Process Requirement</Heading>\n      \n      <Box bg=\"white\" p={6} borderRadius=\"md\" shadow=\"md\" mb={6}>\n        <Text mb={2}>Enter your requirement:</Text>\n        <Textarea\n          value={requirement}\n          onChange={(e) => setRequirement(e.target.value)}\n          placeholder=\"Describe what you want to build...\"\n          size=\"lg\"\n          rows={5}\n          mb={4}\n        />\n        <Button\n          colorScheme=\"blue\"\n          onClick={handleProcess}\n          isLoading={processing}\n          loadingText=\"Processing\"\n        >\n          Process Requirement\n        </Button>\n      </Box>\n      \n      {error && (\n        <Alert status=\"error\" mb={6}>\n          <AlertIcon />\n          {error}\n        </Alert>\n      )}\n    </Box>\n  );\n}\n\nfunction ClarifyTab() {\n  const [requirement, setRequirement] = useState('');\n  const [processing, setProcessing] = useState(false);\n  const [error, setError] = useState(null);\n  const toast = useToast();\n  \n  const handleClarify = async () => {\n    if (!requirement.trim()) {\n      toast({\n        title: 'Error',\n        description: 'Please enter a requirement',\n        status: 'error',\n        duration: 3000,\n        isClosable: true\n      });\n      return;\n    }\n    \n    setProcessing(true);\n    setError(null);\n    \n    try {\n      await new Promise(resolve => setTimeout(resolve, 1500));\n      \n      toast({\n        title: 'Success',\n        description: 'Requirement clarified successfully',\n        status: 'success',\n        duration: 3000,\n        isClosable: true\n      });\n    } catch (err) {\n      setError(err.message || 'An error occurred while clarifying the requirement');\n      \n      toast({\n        title: 'Error',\n        description: err.message || 'An error occurred while clarifying the requirement',\n        status: 'error',\n        duration: 5000,\n        isClosable: true\n      });\n    } finally {\n      setProcessing(false);\n    }\n  };\n  \n  return (\n    <Box>\n      <Heading size=\"md\" mb={6}>Clarify Requirement</Heading>\n      \n      <Box bg=\"white\" p={6} borderRadius=\"md\" shadow=\"md\" mb={6}>\n        <Text mb={2}>Enter your requirement:</Text>\n        <Textarea\n          value={requirement}\n          onChange={(e) => setRequirement(e.target.value)}\n          placeholder=\"Describe what you want to build...\"\n          size=\"lg\"\n          rows={5}\n          mb={4}\n        />\n        <Button\n          colorScheme=\"green\"\n          onClick={handleClarify}\n          isLoading={processing}\n          loadingText=\"Clarifying\"\n        >\n          Clarify Requirement\n        </Button>\n      </Box>\n      \n      {error && (\n        <Alert status=\"error\" mb={6}>\n          <AlertIcon />\n          {error}\n        </Alert>\n      )}\n    </Box>\n  );\n}\n\nfunction GenerateTab() {\n  const [expectationId, setExpectationId] = useState('');\n  const [processing, setProcessing] = useState(false);\n  const [error, setError] = useState(null);\n  const [generatedFiles, setGeneratedFiles] = useState([]);\n  const [expectation, setExpectation] = useState(null);\n  const [generationStatus, setGenerationStatus] = useState('');\n  const [generationProgress, setGenerationProgress] = useState(0);\n  const [streamingFiles, setStreamingFiles] = useState([]);\n  const toast = useToast();\n  \n  const handleGenerate = async () => {\n    if (!expectationId.trim()) {\n      toast({\n        title: 'Error',\n        description: 'Please enter an expectation ID',\n        status: 'error',\n        duration: 3000,\n        isClosable: true\n      });\n      return;\n    }\n    \n    setProcessing(true);\n    setError(null);\n    setGeneratedFiles([]);\n    setExpectation(null);\n    \n    try {\n      const expectationResponse = await fetch(`${API_BASE_URL}/memory/expectations/${expectationId}`);\n      \n      if (!expectationResponse.ok) {\n        throw new Error(`Failed to fetch expectation: ${expectationResponse.statusText}`);\n      }\n      \n      const expectationData = await expectationResponse.json();\n      \n      let generationData;\n      const generationResponse = await fetch(`${API_BASE_URL}/memory/generations/${expectationId}`);\n      \n      if (generationResponse.ok) {\n        generationData = await generationResponse.json();\n      } else {\n        setGenerationStatus('Starting code generation...');\n        setGenerationProgress(0);\n        setStreamingFiles([]);\n        \n        const eventSource = new EventSource(`${API_BASE_URL}/generate/stream/${expectationId}`);\n        \n        let receivedData = false;\n        \n        eventSource.onmessage = (event) => {\n          receivedData = true;\n          const data = JSON.parse(event.data);\n          \n          if (data.status) {\n            setGenerationStatus(data.message || data.status);\n            \n            switch(data.status) {\n              case 'extracting_concepts':\n                setGenerationProgress(10);\n                break;\n              case 'extracting_constraints':\n                setGenerationProgress(20);\n                break;\n              case 'generating_code':\n                setGenerationProgress(40);\n                break;\n              case 'validating_code':\n                setGenerationProgress(80);\n                break;\n              case 'fixing_issues':\n                setGenerationProgress(90);\n                break;\n              case 'completed':\n                setGenerationProgress(100);\n                break;\n              default:\n                setGenerationProgress(prev => Math.min(prev + 5, 95));\n            }\n          }\n          \n          if (data.files) {\n            setStreamingFiles(data.files);\n          }\n          \n          if (data.status === 'completed') {\n            eventSource.close();\n          }\n        };\n        \n        eventSource.onerror = (error) => {\n          console.error('EventSource error:', error);\n          eventSource.close();\n          \n          if (!receivedData) {\n            fallbackToRegularApi();\n          }\n        };\n        \n        const fallbackToRegularApi = async () => {\n          try {\n            const generateResponse = await fetch(`${API_BASE_URL}/generate`, {\n              method: 'POST',\n              headers: {\n                'Content-Type': 'application/json',\n              },\n              body: JSON.stringify(expectationData),\n            });\n            \n            if (!generateResponse.ok) {\n              throw new Error(`Failed to generate code: ${generateResponse.statusText}`);\n            }\n            \n            generationData = await generateResponse.json();\n            \n            setGeneratedFiles(generationData.files);\n            setGenerationStatus('Completed');\n            setGenerationProgress(100);\n          } catch (err) {\n            throw new Error(`Failed to generate code: ${err.message}`);\n          }\n        };\n        \n        await new Promise((resolve, reject) => {\n          const timeoutId = setTimeout(() => {\n            eventSource.close();\n            if (!receivedData) {\n              fallbackToRegularApi().then(resolve).catch(reject);\n            } else {\n              resolve();\n            }\n          }, 30000);\n          \n          eventSource.addEventListener('completed', () => {\n            clearTimeout(timeoutId);\n            resolve();\n          });\n        });\n        \n        const finalResponse = await fetch(`${API_BASE_URL}/memory/generations/${expectationId}`);\n        if (finalResponse.ok) {\n          generationData = await finalResponse.json();\n        }\n      }\n      \n      const data = {\n        success: true,\n        expectation: expectationData,\n        generated_code: generationData\n      };\n      \n      setExpectation(data.expectation);\n      setGeneratedFiles(data.generated_code.files);\n      \n      toast({\n        title: 'Success',\n        description: 'Code generated successfully',\n        status: 'success',\n        duration: 3000,\n        isClosable: true\n      });\n    } catch (err) {\n      setError(err.message || 'An error occurred while generating code');\n      \n      toast({\n        title: 'Error',\n        description: err.message || 'An error occurred while generating code',\n        status: 'error',\n        duration: 5000,\n        isClosable: true\n      });\n    } finally {\n      setProcessing(false);\n    }\n  };\n  \n  const handleDownloadFile = (file) => {\n    const downloadUrl = `${API_BASE_URL}/download/file/${expectationId}/${file.name}`;\n    \n    const a = document.createElement('a');\n    a.href = downloadUrl;\n    a.download = file.name;\n    document.body.appendChild(a);\n    a.click();\n    \n    document.body.removeChild(a);\n    \n    toast({\n      title: 'Download Started',\n      description: `Downloading ${file.name}`,\n      status: 'info',\n      duration: 2000,\n      isClosable: true\n    });\n  };\n  \n  const handleDownloadAll = () => {\n    if (!generatedFiles.length) return;\n    \n    const downloadUrl = `${API_BASE_URL}/download/code/${expectationId}`;\n    \n    const a = document.createElement('a');\n    a.href = downloadUrl;\n    a.download = `code_${expectationId}.zip`;\n    document.body.appendChild(a);\n    a.click();\n    \n    document.body.removeChild(a);\n    \n    toast({\n      title: 'Download Started',\n      description: 'Downloading all files as ZIP',\n      status: 'info',\n      duration: 2000,\n      isClosable: true\n    });\n  };\n  \n  const handleDownloadExpectation = () => {\n    if (!expectation) return;\n    \n    const downloadUrl = `${API_BASE_URL}/download/expectation/${expectationId}?format=yaml`;\n    \n    const a = document.createElement('a');\n    a.href = downloadUrl;\n    a.download = `expectation_${expectationId}.yaml`;\n    document.body.appendChild(a);\n    a.click();\n    \n    document.body.removeChild(a);\n    \n    toast({\n      title: 'Download Started',\n      description: `Downloading expectation YAML`,\n      status: 'info',\n      duration: 2000,\n      isClosable: true\n    });\n  };\n  \n  return (\n    <Box>\n      <Heading size=\"md\" mb={6}>Generate Code</Heading>\n      \n      <Box bg=\"white\" p={6} borderRadius=\"md\" shadow=\"md\" mb={6}>\n        <Text mb={2}>Enter expectation ID:</Text>\n        <Input\n          value={expectationId}\n          onChange={(e) => setExpectationId(e.target.value)}\n          placeholder=\"e.g., exp-12345678\"\n          mb={4}\n        />\n        \n        <Button\n          colorScheme=\"purple\"\n          onClick={handleGenerate}\n          isLoading={processing}\n          loadingText=\"Generating\"\n          mr={4}\n        >\n          Generate Code\n        </Button>\n        \n        {generatedFiles.length > 0 && (\n          <Button\n            colorScheme=\"teal\"\n            onClick={handleDownloadAll}\n            ml={2}\n          >\n            Download All Files\n          </Button>\n        )}\n        \n        {expectation && (\n          <Button\n            colorScheme=\"blue\"\n            onClick={handleDownloadExpectation}\n            ml={2}\n          >\n            Download Expectation\n          </Button>\n        )}\n      </Box>\n      \n      {error && (\n        <Alert status=\"error\" mb={6}>\n          <AlertIcon />\n          {error}\n        </Alert>\n      )}\n      \n      {/* Generation Progress Display */}\n      {processing && (\n        <Box bg=\"white\" p={6} borderRadius=\"md\" shadow=\"md\" mb={6}>\n          <Heading size=\"sm\" mb={4}>Generation Progress</Heading>\n          <Text mb={2}>{generationStatus}</Text>\n          <Progress value={generationProgress} colorScheme=\"blue\" size=\"sm\" mb={4} />\n          \n          {streamingFiles.length > 0 && (\n            <Box mt={4}>\n              <Text fontWeight=\"bold\">Files being generated:</Text>\n              <List spacing={2} mt={2}>\n                {streamingFiles.map((file, index) => (\n                  <ListItem key={index}>\n                    <HStack>\n                      <Icon as={FiFile} />\n                      <Text>{file.path || `file${index+1}`}</Text>\n                    </HStack>\n                  </ListItem>\n                ))}\n              </List>\n            </Box>\n          )}\n        </Box>\n      )}\n      \n      {expectation && (\n        <Box bg=\"white\" p={6} borderRadius=\"md\" shadow=\"md\" mb={6}>\n          <Heading size=\"sm\" mb={3}>Expectation: {expectation.name}</Heading>\n          <Text mb={2}>{expectation.description}</Text>\n          \n          <Text fontWeight=\"bold\" mt={4} mb={2}>Acceptance Criteria:</Text>\n          {expectation.acceptance_criteria.map((criterion, index) => (\n            <Text key={index} ml={4}>• {criterion}</Text>\n          ))}\n        </Box>\n      )}\n      \n      {generatedFiles.length > 0 && (\n        <Box bg=\"white\" p={6} borderRadius=\"md\" shadow=\"md\">\n          <Heading size=\"sm\" mb={4}>Generated Files</Heading>\n          \n          {generatedFiles.map((file, index) => (\n            <Box \n              key={index} \n              p={4} \n              borderWidth=\"1px\" \n              borderRadius=\"md\" \n              mb={4}\n            >\n              <Flex justify=\"space-between\" align=\"center\" mb={2}>\n                <Text fontWeight=\"bold\">{file.name}</Text>\n                <Button\n                  size=\"sm\"\n                  colorScheme=\"teal\"\n                  onClick={() => handleDownloadFile(file)}\n                >\n                  Download\n                </Button>\n              </Flex>\n              \n              <Box\n                bg=\"gray.50\"\n                p={3}\n                borderRadius=\"md\"\n                fontFamily=\"monospace\"\n                fontSize=\"sm\"\n                whiteSpace=\"pre-wrap\"\n                overflowX=\"auto\"\n              >\n                {file.content}\n              </Box>\n            </Box>\n          ))}\n        </Box>\n      )}\n    </Box>\n  );\n}\n\nfunction ValidateTab() {\n  return (\n    <Box>\n      <Heading size=\"md\" mb={6}>Validate Code</Heading>\n      <Text>Validation interface would be implemented here</Text>\n    </Box>\n  );\n}\n\nfunction SettingsTab() {\n  return (\n    <Box>\n      <Heading size=\"md\" mb={6}>Settings</Heading>\n      <Text>Settings interface would be implemented here</Text>\n    </Box>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}