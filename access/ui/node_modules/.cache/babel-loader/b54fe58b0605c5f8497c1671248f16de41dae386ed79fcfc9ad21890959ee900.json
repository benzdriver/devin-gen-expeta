{"ast":null,"code":"var _jsxFileName = \"/Users/ziyanzhou/Projects/devin-gen-expeta/access/ui/src/pages/GenerationsPage.js\",\n  _s = $RefreshSig$();\n/**\n * @file GenerationsPage.js\n * @description 代码生成页面，处理代码生成和查看\n * \n * 需求:\n * 1. 更新现有GenerationsPage，简化并聚焦于MVP功能\n * 2. 支持从确认的期望生成代码\n * 3. 展示生成结果和进度\n * 4. 提供代码查看和下载功能\n * 5. 与ConversationPage集成，实现流畅的用户体验\n */\n\nimport React, { useState, useEffect } from 'react';\nimport { Box, Heading, Button, Flex, useToast, Text, Spinner, Container, SimpleGrid, HStack, VStack, Badge, Divider, Tab, Tabs, TabList, TabPanel, TabPanels, Breadcrumb, BreadcrumbItem, BreadcrumbLink } from '@chakra-ui/react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { ChevronRightIcon } from '@chakra-ui/icons';\nimport CodeViewer from '../components/code/CodeViewer';\nimport useGeneration from '../hooks/useGeneration';\nimport { generationService } from '../services/api';\n\n/**\n * 代码生成页面组件\n */\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst GenerationsPage = () => {\n  _s();\n  var _generation$files2;\n  const {\n    generationId\n  } = useParams();\n  const navigate = useNavigate();\n  const toast = useToast();\n  const [generations, setGenerations] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const {\n    generation,\n    expectation,\n    loadGeneration,\n    downloadCode,\n    loading,\n    error\n  } = useGeneration(generationId);\n\n  // 加载生成历史\n  useEffect(() => {\n    const fetchGenerations = async () => {\n      if (!generationId) {\n        setIsLoading(true);\n        try {\n          const response = await generationService.getGenerations();\n          setGenerations(response.data || []);\n        } catch (error) {\n          console.error('加载生成历史失败:', error);\n          toast({\n            title: '加载失败',\n            description: error.message || '无法加载生成历史',\n            status: 'error',\n            duration: 3000,\n            isClosable: true\n          });\n        } finally {\n          setIsLoading(false);\n        }\n      }\n    };\n    fetchGenerations();\n  }, [generationId, toast]);\n\n  // 处理错误提示\n  useEffect(() => {\n    if (error) {\n      toast({\n        title: '出错了',\n        description: error,\n        status: 'error',\n        duration: 5000,\n        isClosable: true\n      });\n    }\n  }, [error, toast]);\n\n  // 如果没有生成ID，显示生成历史列表\n  if (!generationId) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      maxW: \"container.xl\",\n      py: 4,\n      children: [/*#__PURE__*/_jsxDEV(Heading, {\n        size: \"lg\",\n        mb: 6,\n        children: \"\\u4EE3\\u7801\\u751F\\u6210\\u5386\\u53F2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), isLoading ? /*#__PURE__*/_jsxDEV(Flex, {\n        justify: \"center\",\n        align: \"center\",\n        h: \"50vh\",\n        children: [/*#__PURE__*/_jsxDEV(Spinner, {\n          size: \"xl\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Text, {\n          ml: 4,\n          children: \"\\u52A0\\u8F7D\\u751F\\u6210\\u5386\\u53F2...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }, this) : generations.length === 0 ? /*#__PURE__*/_jsxDEV(Box, {\n        textAlign: \"center\",\n        py: 20,\n        children: [/*#__PURE__*/_jsxDEV(Heading, {\n          size: \"md\",\n          mb: 4,\n          children: \"\\u6682\\u65E0\\u751F\\u6210\\u5386\\u53F2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          colorScheme: \"blue\",\n          onClick: () => navigate('/conversation'),\n          children: \"\\u5F00\\u59CB\\u65B0\\u5BF9\\u8BDD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(SimpleGrid, {\n        columns: {\n          base: 1,\n          md: 2,\n          lg: 3\n        },\n        spacing: 4,\n        children: generations.map(generation => {\n          var _generation$files;\n          return /*#__PURE__*/_jsxDEV(Box, {\n            p: 4,\n            borderWidth: \"1px\",\n            borderRadius: \"lg\",\n            children: [/*#__PURE__*/_jsxDEV(Heading, {\n              size: \"md\",\n              mb: 2,\n              children: [\"\\u751F\\u6210 \", generation.id.slice(0, 8), \"...\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Text, {\n              children: [\"\\u751F\\u6210\\u65F6\\u95F4: \", new Date(generation.timestamp).toLocaleString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Text, {\n              children: [\"\\u751F\\u6210\\u72B6\\u6001: \", generation.status === 'completed' ? '已完成' : generation.status === 'generating' ? '生成中' : generation.status === 'failed' ? '失败' : generation.status]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Text, {\n              children: [\"\\u6587\\u4EF6\\u6570\\u91CF: \", ((_generation$files = generation.files) === null || _generation$files === void 0 ? void 0 : _generation$files.length) || 0, \"\\u4E2A\\u6587\\u4EF6\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              colorScheme: \"blue\",\n              mt: 4,\n              onClick: () => navigate(`/generations/${generation.id}`),\n              children: \"\\u67E5\\u770B\\u8BE6\\u60C5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 17\n            }, this)]\n          }, generation.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this);\n  }\n\n  // 渲染面包屑导航\n  const renderBreadcrumb = () => /*#__PURE__*/_jsxDEV(Breadcrumb, {\n    separator: /*#__PURE__*/_jsxDEV(ChevronRightIcon, {\n      color: \"gray.500\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 18\n    }, this),\n    mb: 4,\n    fontSize: \"sm\",\n    children: [/*#__PURE__*/_jsxDEV(BreadcrumbItem, {\n      children: /*#__PURE__*/_jsxDEV(BreadcrumbLink, {\n        onClick: () => navigate('/'),\n        children: \"\\u9996\\u9875\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(BreadcrumbItem, {\n      children: /*#__PURE__*/_jsxDEV(BreadcrumbLink, {\n        onClick: () => navigate('/generations'),\n        children: \"\\u751F\\u6210\\u5386\\u53F2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(BreadcrumbItem, {\n      isCurrentPage: true,\n      children: /*#__PURE__*/_jsxDEV(BreadcrumbLink, {\n        children: generationId ? `生成 ${generationId.slice(0, 8)}...` : ''\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 149,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxW: \"container.xl\",\n    py: 4,\n    children: [renderBreadcrumb(), /*#__PURE__*/_jsxDEV(Flex, {\n      justify: \"space-between\",\n      align: \"center\",\n      mb: 4,\n      children: /*#__PURE__*/_jsxDEV(Heading, {\n        size: \"lg\",\n        children: \"\\u4EE3\\u7801\\u751F\\u6210\\u8BE6\\u60C5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(Flex, {\n      justify: \"center\",\n      align: \"center\",\n      h: \"50vh\",\n      children: [/*#__PURE__*/_jsxDEV(Spinner, {\n        size: \"xl\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Text, {\n        ml: 4,\n        children: \"\\u52A0\\u8F7D\\u751F\\u6210\\u7ED3\\u679C...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 9\n    }, this) : !generation ? /*#__PURE__*/_jsxDEV(Box, {\n      textAlign: \"center\",\n      py: 20,\n      children: [/*#__PURE__*/_jsxDEV(Heading, {\n        size: \"md\",\n        mb: 4,\n        children: \"\\u672A\\u627E\\u5230\\u751F\\u6210\\u7ED3\\u679C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => navigate('/generations'),\n        children: \"\\u8FD4\\u56DE\\u751F\\u6210\\u5386\\u53F2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Box, {\n      children: /*#__PURE__*/_jsxDEV(Tabs, {\n        mb: 6,\n        children: [/*#__PURE__*/_jsxDEV(TabList, {\n          children: [/*#__PURE__*/_jsxDEV(Tab, {\n            children: \"\\u4EE3\\u7801\\u67E5\\u770B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Tab, {\n            children: \"\\u9700\\u6C42\\u8BE6\\u60C5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Tab, {\n            children: \"\\u751F\\u6210\\u4FE1\\u606F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(TabPanels, {\n          children: [/*#__PURE__*/_jsxDEV(TabPanel, {\n            p: 0,\n            pt: 4,\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              h: \"calc(100vh - 250px)\",\n              children: /*#__PURE__*/_jsxDEV(CodeViewer, {\n                files: generation.files || [],\n                generation: generation\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n            children: expectation ? /*#__PURE__*/_jsxDEV(Box, {\n              p: 4,\n              borderWidth: \"1px\",\n              borderRadius: \"md\",\n              children: [/*#__PURE__*/_jsxDEV(Heading, {\n                size: \"md\",\n                mb: 2,\n                children: expectation.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Text, {\n                mb: 4,\n                children: expectation.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Heading, {\n                size: \"sm\",\n                mb: 2,\n                children: \"\\u9A8C\\u6536\\u6807\\u51C6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(VStack, {\n                align: \"start\",\n                pl: 4,\n                mb: 4,\n                children: expectation.acceptanceCriteria && expectation.acceptanceCriteria.map((criterion, index) => /*#__PURE__*/_jsxDEV(Text, {\n                  children: [\"\\u2022 \", criterion]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 21\n              }, this), expectation.constraints && expectation.constraints.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(Heading, {\n                  size: \"sm\",\n                  mb: 2,\n                  children: \"\\u7EA6\\u675F\\u6761\\u4EF6\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(VStack, {\n                  align: \"start\",\n                  pl: 4,\n                  children: expectation.constraints.map((constraint, index) => /*#__PURE__*/_jsxDEV(Text, {\n                    children: [\"\\u2022 \", constraint]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 227,\n                    columnNumber: 29\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(Text, {\n              children: \"\\u672A\\u627E\\u5230\\u76F8\\u5173\\u671F\\u671B\\u4FE1\\u606F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n            children: /*#__PURE__*/_jsxDEV(VStack, {\n              align: \"stretch\",\n              spacing: 4,\n              children: [/*#__PURE__*/_jsxDEV(Box, {\n                children: [/*#__PURE__*/_jsxDEV(Heading, {\n                  size: \"sm\",\n                  mb: 2,\n                  children: \"\\u751F\\u6210\\u65F6\\u95F4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Text, {\n                  children: new Date(generation.timestamp).toLocaleString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                children: [/*#__PURE__*/_jsxDEV(Heading, {\n                  size: \"sm\",\n                  mb: 2,\n                  children: \"\\u751F\\u6210\\u72B6\\u6001\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 247,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                  colorScheme: generation.status === 'completed' ? 'green' : 'blue',\n                  children: generation.status === 'completed' ? '已完成' : generation.status === 'generating' ? '生成中' : generation.status === 'failed' ? '失败' : generation.status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                children: [/*#__PURE__*/_jsxDEV(Heading, {\n                  size: \"sm\",\n                  mb: 2,\n                  children: \"\\u6587\\u4EF6\\u6570\\u91CF\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Text, {\n                  children: [((_generation$files2 = generation.files) === null || _generation$files2 === void 0 ? void 0 : _generation$files2.length) || 0, \"\\u4E2A\\u6587\\u4EF6\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                children: [/*#__PURE__*/_jsxDEV(Heading, {\n                  size: \"sm\",\n                  mb: 2,\n                  children: \"\\u5B58\\u50A8\\u8DEF\\u5F84\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Text, {\n                  fontFamily: \"mono\",\n                  children: generation.outputDir\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  colorScheme: \"blue\",\n                  onClick: () => downloadCode(generation.id),\n                  children: \"\\u4E0B\\u8F7D\\u751F\\u6210\\u4EE3\\u7801\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 169,\n    columnNumber: 5\n  }, this);\n};\n_s(GenerationsPage, \"+c6P3xCH09yudKesBipC/C3dNtI=\", false, function () {\n  return [useParams, useNavigate, useToast, useGeneration];\n});\n_c = GenerationsPage;\nexport default GenerationsPage;\nvar _c;\n$RefreshReg$(_c, \"GenerationsPage\");","map":{"version":3,"names":["React","useState","useEffect","Box","Heading","Button","Flex","useToast","Text","Spinner","Container","SimpleGrid","HStack","VStack","Badge","Divider","Tab","Tabs","TabList","TabPanel","TabPanels","Breadcrumb","BreadcrumbItem","BreadcrumbLink","useNavigate","useParams","ChevronRightIcon","CodeViewer","useGeneration","generationService","jsxDEV","_jsxDEV","Fragment","_Fragment","GenerationsPage","_s","_generation$files2","generationId","navigate","toast","generations","setGenerations","isLoading","setIsLoading","generation","expectation","loadGeneration","downloadCode","loading","error","fetchGenerations","response","getGenerations","data","console","title","description","message","status","duration","isClosable","maxW","py","children","size","mb","fileName","_jsxFileName","lineNumber","columnNumber","justify","align","h","ml","length","textAlign","colorScheme","onClick","columns","base","md","lg","spacing","map","_generation$files","p","borderWidth","borderRadius","id","slice","Date","timestamp","toLocaleString","files","mt","renderBreadcrumb","separator","color","fontSize","isCurrentPage","pt","name","pl","acceptanceCriteria","criterion","index","constraints","constraint","fontFamily","outputDir","_c","$RefreshReg$"],"sources":["/Users/ziyanzhou/Projects/devin-gen-expeta/access/ui/src/pages/GenerationsPage.js"],"sourcesContent":["/**\n * @file GenerationsPage.js\n * @description 代码生成页面，处理代码生成和查看\n * \n * 需求:\n * 1. 更新现有GenerationsPage，简化并聚焦于MVP功能\n * 2. 支持从确认的期望生成代码\n * 3. 展示生成结果和进度\n * 4. 提供代码查看和下载功能\n * 5. 与ConversationPage集成，实现流畅的用户体验\n */\n\nimport React, { useState, useEffect } from 'react';\nimport { \n  Box, \n  Heading, \n  Button, \n  Flex, \n  useToast,\n  Text,\n  Spinner,\n  Container,\n  SimpleGrid,\n  HStack,\n  VStack,\n  Badge,\n  Divider,\n  Tab,\n  Tabs,\n  TabList,\n  TabPanel,\n  TabPanels,\n  Breadcrumb,\n  BreadcrumbItem,\n  BreadcrumbLink\n} from '@chakra-ui/react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { ChevronRightIcon } from '@chakra-ui/icons';\nimport CodeViewer from '../components/code/CodeViewer';\nimport useGeneration from '../hooks/useGeneration';\nimport { generationService } from '../services/api';\n\n/**\n * 代码生成页面组件\n */\nconst GenerationsPage = () => {\n  const { generationId } = useParams();\n  const navigate = useNavigate();\n  const toast = useToast();\n  const [generations, setGenerations] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  \n  const {\n    generation,\n    expectation,\n    loadGeneration,\n    downloadCode,\n    loading,\n    error\n  } = useGeneration(generationId);\n  \n  // 加载生成历史\n  useEffect(() => {\n    const fetchGenerations = async () => {\n      if (!generationId) {\n        setIsLoading(true);\n        try {\n          const response = await generationService.getGenerations();\n          setGenerations(response.data || []);\n        } catch (error) {\n          console.error('加载生成历史失败:', error);\n          toast({\n            title: '加载失败',\n            description: error.message || '无法加载生成历史',\n            status: 'error',\n            duration: 3000,\n            isClosable: true,\n          });\n        } finally {\n          setIsLoading(false);\n        }\n      }\n    };\n    \n    fetchGenerations();\n  }, [generationId, toast]);\n  \n  // 处理错误提示\n  useEffect(() => {\n    if (error) {\n      toast({\n        title: '出错了',\n        description: error,\n        status: 'error',\n        duration: 5000,\n        isClosable: true\n      });\n    }\n  }, [error, toast]);\n  \n  // 如果没有生成ID，显示生成历史列表\n  if (!generationId) {\n    return (\n      <Container maxW=\"container.xl\" py={4}>\n        <Heading size=\"lg\" mb={6}>代码生成历史</Heading>\n        \n        {isLoading ? (\n          <Flex justify=\"center\" align=\"center\" h=\"50vh\">\n            <Spinner size=\"xl\" />\n            <Text ml={4}>加载生成历史...</Text>\n          </Flex>\n        ) : generations.length === 0 ? (\n          <Box textAlign=\"center\" py={20}>\n            <Heading size=\"md\" mb={4}>暂无生成历史</Heading>\n            <Button \n              colorScheme=\"blue\"\n              onClick={() => navigate('/conversation')}\n            >\n              开始新对话\n            </Button>\n          </Box>\n        ) : (\n          <SimpleGrid columns={{ base: 1, md: 2, lg: 3 }} spacing={4}>\n            {generations.map(generation => (\n              <Box key={generation.id} p={4} borderWidth=\"1px\" borderRadius=\"lg\">\n                <Heading size=\"md\" mb={2}>生成 {generation.id.slice(0, 8)}...</Heading>\n                <Text>生成时间: {new Date(generation.timestamp).toLocaleString()}</Text>\n                <Text>生成状态: {generation.status === 'completed' ? '已完成' : \n                  generation.status === 'generating' ? '生成中' : \n                  generation.status === 'failed' ? '失败' : generation.status}</Text>\n                <Text>文件数量: {generation.files?.length || 0}个文件</Text>\n                <Button \n                  colorScheme=\"blue\" \n                  mt={4}\n                  onClick={() => navigate(`/generations/${generation.id}`)}\n                >\n                  查看详情\n                </Button>\n              </Box>\n            ))}\n          </SimpleGrid>\n        )}\n      </Container>\n    );\n  }\n  \n  // 渲染面包屑导航\n  const renderBreadcrumb = () => (\n    <Breadcrumb \n      separator={<ChevronRightIcon color=\"gray.500\" />} \n      mb={4} \n      fontSize=\"sm\"\n    >\n      <BreadcrumbItem>\n        <BreadcrumbLink onClick={() => navigate('/')}>首页</BreadcrumbLink>\n      </BreadcrumbItem>\n      <BreadcrumbItem>\n        <BreadcrumbLink onClick={() => navigate('/generations')}>生成历史</BreadcrumbLink>\n      </BreadcrumbItem>\n      <BreadcrumbItem isCurrentPage>\n        <BreadcrumbLink>\n          {generationId ? `生成 ${generationId.slice(0, 8)}...` : ''}\n        </BreadcrumbLink>\n      </BreadcrumbItem>\n    </Breadcrumb>\n  );\n  \n  return (\n    <Container maxW=\"container.xl\" py={4}>\n      {renderBreadcrumb()}\n      \n      <Flex justify=\"space-between\" align=\"center\" mb={4}>\n        <Heading size=\"lg\">代码生成详情</Heading>\n      </Flex>\n      \n      {loading ? (\n        <Flex justify=\"center\" align=\"center\" h=\"50vh\">\n          <Spinner size=\"xl\" />\n          <Text ml={4}>加载生成结果...</Text>\n        </Flex>\n      ) : !generation ? (\n        <Box textAlign=\"center\" py={20}>\n          <Heading size=\"md\" mb={4}>未找到生成结果</Heading>\n          <Button onClick={() => navigate('/generations')}>\n            返回生成历史\n          </Button>\n        </Box>\n      ) : (\n        <Box>\n          <Tabs mb={6}>\n            <TabList>\n              <Tab>代码查看</Tab>\n              <Tab>需求详情</Tab>\n              <Tab>生成信息</Tab>\n            </TabList>\n            \n            <TabPanels>\n              {/* 代码查看面板 */}\n              <TabPanel p={0} pt={4}>\n                <Box h=\"calc(100vh - 250px)\">\n                  <CodeViewer \n                    files={generation.files || []}\n                    generation={generation}\n                  />\n                </Box>\n              </TabPanel>\n              \n              {/* 需求详情面板 */}\n              <TabPanel>\n                {expectation ? (\n                  <Box p={4} borderWidth=\"1px\" borderRadius=\"md\">\n                    <Heading size=\"md\" mb={2}>{expectation.name}</Heading>\n                    <Text mb={4}>{expectation.description}</Text>\n                    \n                    <Heading size=\"sm\" mb={2}>验收标准</Heading>\n                    <VStack align=\"start\" pl={4} mb={4}>\n                      {expectation.acceptanceCriteria && expectation.acceptanceCriteria.map((criterion, index) => (\n                        <Text key={index}>• {criterion}</Text>\n                      ))}\n                    </VStack>\n                    \n                    {expectation.constraints && expectation.constraints.length > 0 && (\n                      <>\n                        <Heading size=\"sm\" mb={2}>约束条件</Heading>\n                        <VStack align=\"start\" pl={4}>\n                          {expectation.constraints.map((constraint, index) => (\n                            <Text key={index}>• {constraint}</Text>\n                          ))}\n                        </VStack>\n                      </>\n                    )}\n                  </Box>\n                ) : (\n                  <Text>未找到相关期望信息</Text>\n                )}\n              </TabPanel>\n              \n              {/* 生成信息面板 */}\n              <TabPanel>\n                <VStack align=\"stretch\" spacing={4}>\n                  <Box>\n                    <Heading size=\"sm\" mb={2}>生成时间</Heading>\n                    <Text>{new Date(generation.timestamp).toLocaleString()}</Text>\n                  </Box>\n                  \n                  <Box>\n                    <Heading size=\"sm\" mb={2}>生成状态</Heading>\n                    <Badge colorScheme={generation.status === 'completed' ? 'green' : 'blue'}>\n                      {generation.status === 'completed' ? '已完成' : \n                       generation.status === 'generating' ? '生成中' : \n                       generation.status === 'failed' ? '失败' : generation.status}\n                    </Badge>\n                  </Box>\n                  \n                  <Box>\n                    <Heading size=\"sm\" mb={2}>文件数量</Heading>\n                    <Text>{generation.files?.length || 0}个文件</Text>\n                  </Box>\n                  \n                  <Box>\n                    <Heading size=\"sm\" mb={2}>存储路径</Heading>\n                    <Text fontFamily=\"mono\">{generation.outputDir}</Text>\n                  </Box>\n                  \n                  <Box>\n                    <Button \n                      colorScheme=\"blue\" \n                      onClick={() => downloadCode(generation.id)}\n                    >\n                      下载生成代码\n                    </Button>\n                  </Box>\n                </VStack>\n              </TabPanel>\n            </TabPanels>\n          </Tabs>\n        </Box>\n      )}\n    </Container>\n  );\n};\n\nexport default GenerationsPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}