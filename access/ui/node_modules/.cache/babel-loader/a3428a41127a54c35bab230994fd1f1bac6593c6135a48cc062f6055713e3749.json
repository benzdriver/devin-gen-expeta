{"ast":null,"code":"var _jsxFileName = \"/Users/ziyanzhou/Projects/devin-gen-expeta/access/ui/src/pages/Requirements.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = 'http://localhost:8000';\nfunction Requirements({\n  sessionId\n}) {\n  _s();\n  const [activeStep, setActiveStep] = useState(1);\n  const [chatMessages, setChatMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n  const [isTyping, setIsTyping] = useState(false);\n  const [conversationId, setConversationId] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [expectationData, setExpectationData] = useState({\n    top_level_expectation: null,\n    sub_expectations: [],\n    constraints: []\n  });\n  const [confirmingRequirements, setConfirmingRequirements] = useState(false);\n  const messagesEndRef = useRef(null);\n  useEffect(() => {\n    if (messagesEndRef.current) {\n      messagesEndRef.current.scrollIntoView({\n        behavior: 'smooth'\n      });\n    }\n  }, [chatMessages, isTyping]);\n  useEffect(() => {\n    if (sessionId) {\n      // 初始化聊天\n      setChatMessages([{\n        role: 'system',\n        content: '欢迎使用Expeta 2.0! 我是您的需求分析助手。请告诉我您想要构建的系统或功能，我会帮您澄清需求并生成期望模型。',\n        time: new Date().toLocaleTimeString([], {\n          hour: '2-digit',\n          minute: '2-digit'\n        })\n      }]);\n\n      // 检查是否有之前的对话\n      fetchConversationHistory();\n    }\n  }, [sessionId]);\n\n  // 获取对话历史\n  const fetchConversationHistory = async () => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/clarify/conversations`, {\n        headers: {\n          'Content-Type': 'application/json',\n          'Session-ID': sessionId\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        // 如果有活跃的对话，加载最近的一个\n        if (data.conversations && data.conversations.length > 0) {\n          const latestConversation = data.conversations[0];\n          setConversationId(latestConversation.id);\n\n          // 加载对话消息\n          if (latestConversation.messages && latestConversation.messages.length > 0) {\n            const formattedMessages = latestConversation.messages.map(msg => ({\n              role: msg.role,\n              content: msg.content,\n              time: new Date(msg.timestamp).toLocaleTimeString([], {\n                hour: '2-digit',\n                minute: '2-digit'\n              })\n            }));\n            setChatMessages(formattedMessages);\n          }\n\n          // 加载当前的澄清数据\n          if (latestConversation.current_expectation) {\n            setExpectationData(latestConversation.current_expectation);\n            setActiveStep(2); // 设置为澄清步骤\n          }\n        }\n      }\n    } catch (error) {\n      console.error('Error fetching conversation history:', error);\n    }\n  };\n  const handleSendMessage = async () => {\n    if (!newMessage.trim() || !sessionId) return;\n    const userMessage = {\n      role: 'user',\n      content: newMessage,\n      time: new Date().toLocaleTimeString([], {\n        hour: '2-digit',\n        minute: '2-digit'\n      })\n    };\n    setChatMessages(prev => [...prev, userMessage]);\n    setNewMessage('');\n    setIsTyping(true);\n    try {\n      // 处理用户对确认请求的回应\n      if (confirmingRequirements) {\n        const confirmation = newMessage.toLowerCase();\n        if (confirmation.includes('是') || confirmation.includes('确认') || confirmation.includes('yes') || confirmation.includes('确定')) {\n          // 用户确认了需求，生成期望模型\n          await handleGenerateExpectation();\n          setConfirmingRequirements(false);\n        } else {\n          // 用户不确认，继续对话\n          setConfirmingRequirements(false);\n          const systemMessage = {\n            role: 'system',\n            content: '好的，让我们继续讨论您的需求。请告诉我您想要修改或添加的内容。',\n            time: new Date().toLocaleTimeString([], {\n              hour: '2-digit',\n              minute: '2-digit'\n            })\n          };\n          setChatMessages(prev => [...prev, systemMessage]);\n        }\n        setIsTyping(false);\n        return;\n      }\n\n      // 正常消息处理\n      const endpoint = conversationId ? `${API_BASE_URL}/clarify/continue` : `${API_BASE_URL}/clarify`;\n      const payload = conversationId ? {\n        message: userMessage.content,\n        conversation_id: conversationId\n      } : {\n        text: userMessage.content\n      };\n      const response = await fetch(endpoint, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Session-ID': sessionId\n        },\n        body: JSON.stringify(payload)\n      });\n      if (response.ok) {\n        const data = await response.json();\n\n        // 设置会话ID（如果是新会话）\n        if (!conversationId && data.conversation_id) {\n          setConversationId(data.conversation_id);\n          setActiveStep(2); // 更新到澄清步骤\n        }\n\n        // 更新期望数据\n        if (data.top_level_expectation || data.updated_expectation) {\n          setExpectationData(data.updated_expectation || data);\n        }\n\n        // 添加系统回复\n        const systemMessage = {\n          role: 'system',\n          content: data.response || '我已理解您的需求，并更新了期望模型。',\n          time: new Date().toLocaleTimeString([], {\n            hour: '2-digit',\n            minute: '2-digit'\n          })\n        };\n        setChatMessages(prev => [...prev, systemMessage]);\n\n        // 在几轮对话后询问用户是否确认需求\n        const userMessagesCount = chatMessages.filter(msg => msg.role === 'user').length;\n        if (userMessagesCount >= 2 && !confirmingRequirements) {\n          setTimeout(() => {\n            const confirmMessage = {\n              role: 'system',\n              content: '您对当前的需求澄清满意吗？如果满意，我可以为您生成正式的期望模型。',\n              time: new Date().toLocaleTimeString([], {\n                hour: '2-digit',\n                minute: '2-digit'\n              })\n            };\n            setChatMessages(prev => [...prev, confirmMessage]);\n            setConfirmingRequirements(true);\n          }, 1000);\n        }\n      } else {\n        const errorData = await response.json();\n        setChatMessages(prev => [...prev, {\n          role: 'system',\n          content: `错误: ${errorData.error || '消息处理失败'}`,\n          time: new Date().toLocaleTimeString([], {\n            hour: '2-digit',\n            minute: '2-digit'\n          })\n        }]);\n      }\n    } catch (error) {\n      console.error('Error processing message:', error);\n      setChatMessages(prev => [...prev, {\n        role: 'system',\n        content: '网络错误，请重试',\n        time: new Date().toLocaleTimeString([], {\n          hour: '2-digit',\n          minute: '2-digit'\n        })\n      }]);\n    } finally {\n      setIsTyping(false);\n    }\n  };\n  const handleKeyDown = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n  const handleGenerateExpectation = async () => {\n    if (!sessionId || !conversationId) return;\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await fetch(`${API_BASE_URL}/clarify/finalize`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Session-ID': sessionId\n        },\n        body: JSON.stringify({\n          conversation_id: conversationId\n        })\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setExpectationData(data);\n        setActiveStep(3);\n\n        // 添加系统消息\n        setChatMessages(prev => [...prev, {\n          role: 'system',\n          content: '期望模型已完成并存储。您可以在右侧查看详细的期望清单。需要继续完善吗？',\n          time: new Date().toLocaleTimeString([], {\n            hour: '2-digit',\n            minute: '2-digit'\n          })\n        }]);\n      } else {\n        const errorData = await response.json();\n        setError(errorData.error || '期望生成过程中出现问题');\n        setChatMessages(prev => [...prev, {\n          role: 'system',\n          content: `生成期望模型失败: ${errorData.error || '未知错误'}`,\n          time: new Date().toLocaleTimeString([], {\n            hour: '2-digit',\n            minute: '2-digit'\n          })\n        }]);\n      }\n    } catch (error) {\n      console.error('Error finalizing expectation:', error);\n      setError('网络错误，请重试');\n      setChatMessages(prev => [...prev, {\n        role: 'system',\n        content: '网络错误，生成期望模型失败。请重试。',\n        time: new Date().toLocaleTimeString([], {\n          hour: '2-digit',\n          minute: '2-digit'\n        })\n      }]);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleRestartConversation = () => {\n    if (window.confirm('确定要重新开始对话吗？当前的对话内容将不会保存。')) {\n      setConversationId(null);\n      setActiveStep(1);\n      setExpectationData({\n        top_level_expectation: null,\n        sub_expectations: [],\n        constraints: []\n      });\n      setChatMessages([{\n        role: 'system',\n        content: '让我们重新开始。请告诉我您想要构建的系统或功能。',\n        time: new Date().toLocaleTimeString([], {\n          hour: '2-digit',\n          minute: '2-digit'\n        })\n      }]);\n      setConfirmingRequirements(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"workflow-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u5904\\u7406\\u6D41\\u7A0B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section-actions\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"secondary-button\",\n            onClick: handleRestartConversation,\n            title: \"\\u91CD\\u65B0\\u5F00\\u59CB\\u5BF9\\u8BDD\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"material-symbols-rounded\",\n              children: \"refresh\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u91CD\\u65B0\\u5F00\\u59CB\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"workflow-visualization\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `workflow-step ${activeStep >= 1 ? 'active' : ''}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"step-icon\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"material-symbols-rounded\",\n              children: \"description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"step-label\",\n            children: \"\\u9700\\u6C42\\u8F93\\u5165\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"step-connector\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `workflow-step ${activeStep >= 2 ? 'active' : activeStep === 1 ? 'in-progress' : ''}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"step-icon\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"material-symbols-rounded\",\n              children: \"psychology\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"step-label\",\n            children: \"\\u9700\\u6C42\\u6F84\\u6E05\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"step-connector\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `workflow-step ${activeStep >= 3 ? 'active' : activeStep === 2 ? 'in-progress' : ''}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"step-icon\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"material-symbols-rounded\",\n              children: \"format_list_bulleted\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"step-label\",\n            children: \"\\u671F\\u671B\\u751F\\u6210\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"step-connector\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `workflow-step ${activeStep >= 4 ? 'active' : activeStep === 3 ? 'in-progress' : ''}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"step-icon\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"material-symbols-rounded\",\n              children: \"code\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"step-label\",\n            children: \"\\u4EE3\\u7801\\u751F\\u6210\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"step-connector\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `workflow-step ${activeStep >= 5 ? 'active' : activeStep === 4 ? 'in-progress' : ''}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"step-icon\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"material-symbols-rounded\",\n              children: \"verified\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"step-label\",\n            children: \"\\u4EE3\\u7801\\u9A8C\\u8BC1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"requirements-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"chat-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"\\u9700\\u6C42\\u4EA4\\u4E92\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"section-actions\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"primary-button\",\n              onClick: handleGenerateExpectation,\n              disabled: !conversationId || loading,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"material-symbols-rounded\",\n                children: \"check_circle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u786E\\u8BA4\\u5E76\\u751F\\u6210\\u671F\\u671B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-messages\",\n            children: [chatMessages.map((message, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `message ${message.role === 'user' ? 'user-message' : 'system-message'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-content\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: message.content\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-time\",\n                children: message.time\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 19\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 17\n            }, this)), isTyping && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"typing-indicator\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              ref: messagesEndRef\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-input\",\n            children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n              placeholder: \"\\u8BF7\\u63CF\\u8FF0\\u60A8\\u7684\\u9700\\u6C42...\",\n              rows: \"1\",\n              value: newMessage,\n              onChange: e => setNewMessage(e.target.value),\n              onKeyDown: handleKeyDown,\n              disabled: loading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `send-button ${loading ? 'disabled' : ''}`,\n              onClick: handleSendMessage,\n              disabled: loading,\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"material-symbols-rounded\",\n                children: \"send\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 374,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 369,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"expectation-display-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"\\u671F\\u671B\\u6A21\\u578B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"section-actions\",\n            children: activeStep >= 3 && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"secondary-button\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"material-symbols-rounded\",\n                children: \"download\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u5BFC\\u51FA\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"expectation-display\",\n          children: !expectationData.top_level_expectation ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"empty-state\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"material-symbols-rounded large-icon\",\n              children: \"format_list_bulleted\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u671F\\u671B\\u6A21\\u578B\\u5C06\\u5728\\u5BF9\\u8BDD\\u8FC7\\u7A0B\\u4E2D\\u751F\\u6210\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"secondary-text\",\n              children: \"\\u8BF7\\u5728\\u5DE6\\u4FA7\\u5F00\\u59CB\\u63CF\\u8FF0\\u60A8\\u7684\\u9700\\u6C42\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"expectation-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"expectation-card main-expectation\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-header\",\n                children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"\\u4E3B\\u8981\\u671F\\u671B\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"expectation-id\",\n                  children: [\"ID: \", expectationData.top_level_expectation.id]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 407,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"expectation-description\",\n                  children: expectationData.top_level_expectation.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 408,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 17\n            }, this), expectationData.sub_expectations.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"expectation-card sub-expectations\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"\\u5B50\\u671F\\u671B\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 415,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"count-badge\",\n                  children: expectationData.sub_expectations.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 416,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 414,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-content\",\n                children: expectationData.sub_expectations.map((subExp, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"sub-expectation-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"item-header\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"item-number\",\n                      children: index + 1\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 422,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"item-id\",\n                      children: subExp.id\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 423,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 421,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"item-description\",\n                    children: subExp.description\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 425,\n                    columnNumber: 27\n                  }, this), subExp.criteria && subExp.criteria.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"criteria-list\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                      children: \"\\u9A8C\\u6536\\u6807\\u51C6:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 428,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                      children: subExp.criteria.map((criteria, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n                        children: criteria\n                      }, idx, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 431,\n                        columnNumber: 35\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 429,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 427,\n                    columnNumber: 29\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 420,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 413,\n              columnNumber: 19\n            }, this), expectationData.constraints && expectationData.constraints.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"expectation-card constraints\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"\\u7EA6\\u675F\\u6761\\u4EF6\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 445,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"count-badge\",\n                  children: expectationData.constraints.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 446,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-content\",\n                children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"constraints-list\",\n                  children: expectationData.constraints.map((constraint, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: constraint\n                  }, index, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 451,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 449,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 448,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 443,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(Requirements, \"mzk6hMRfepZfrAROEGllj3NIpwk=\");\n_c = Requirements;\nexport default Requirements;\nvar _c;\n$RefreshReg$(_c, \"Requirements\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","Fragment","_Fragment","API_BASE_URL","Requirements","sessionId","_s","activeStep","setActiveStep","chatMessages","setChatMessages","newMessage","setNewMessage","isTyping","setIsTyping","conversationId","setConversationId","loading","setLoading","error","setError","expectationData","setExpectationData","top_level_expectation","sub_expectations","constraints","confirmingRequirements","setConfirmingRequirements","messagesEndRef","current","scrollIntoView","behavior","role","content","time","Date","toLocaleTimeString","hour","minute","fetchConversationHistory","response","fetch","headers","ok","data","json","conversations","length","latestConversation","id","messages","formattedMessages","map","msg","timestamp","current_expectation","console","handleSendMessage","trim","userMessage","prev","confirmation","toLowerCase","includes","handleGenerateExpectation","systemMessage","endpoint","payload","message","conversation_id","text","method","body","JSON","stringify","updated_expectation","userMessagesCount","filter","setTimeout","confirmMessage","errorData","handleKeyDown","e","key","shiftKey","preventDefault","handleRestartConversation","window","confirm","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onClick","title","disabled","index","ref","placeholder","rows","value","onChange","target","onKeyDown","description","subExp","criteria","idx","constraint","_c","$RefreshReg$"],"sources":["/Users/ziyanzhou/Projects/devin-gen-expeta/access/ui/src/pages/Requirements.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\n\nconst API_BASE_URL = 'http://localhost:8000';\n\nfunction Requirements({ sessionId }) {\n  const [activeStep, setActiveStep] = useState(1);\n  const [chatMessages, setChatMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n  const [isTyping, setIsTyping] = useState(false);\n  const [conversationId, setConversationId] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [expectationData, setExpectationData] = useState({\n    top_level_expectation: null,\n    sub_expectations: [],\n    constraints: []\n  });\n  const [confirmingRequirements, setConfirmingRequirements] = useState(false);\n  \n  const messagesEndRef = useRef(null);\n\n  useEffect(() => {\n    if (messagesEndRef.current) {\n      messagesEndRef.current.scrollIntoView({ behavior: 'smooth' });\n    }\n  }, [chatMessages, isTyping]);\n\n  useEffect(() => {\n    if (sessionId) {\n      // 初始化聊天\n      setChatMessages([{\n        role: 'system',\n        content: '欢迎使用Expeta 2.0! 我是您的需求分析助手。请告诉我您想要构建的系统或功能，我会帮您澄清需求并生成期望模型。',\n        time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\n      }]);\n      \n      // 检查是否有之前的对话\n      fetchConversationHistory();\n    }\n  }, [sessionId]);\n  \n  // 获取对话历史\n  const fetchConversationHistory = async () => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/clarify/conversations`, {\n        headers: {\n          'Content-Type': 'application/json',\n          'Session-ID': sessionId\n        }\n      });\n      \n      if (response.ok) {\n        const data = await response.json();\n        // 如果有活跃的对话，加载最近的一个\n        if (data.conversations && data.conversations.length > 0) {\n          const latestConversation = data.conversations[0];\n          setConversationId(latestConversation.id);\n          \n          // 加载对话消息\n          if (latestConversation.messages && latestConversation.messages.length > 0) {\n            const formattedMessages = latestConversation.messages.map(msg => ({\n              role: msg.role,\n              content: msg.content,\n              time: new Date(msg.timestamp).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\n            }));\n            setChatMessages(formattedMessages);\n          }\n          \n          // 加载当前的澄清数据\n          if (latestConversation.current_expectation) {\n            setExpectationData(latestConversation.current_expectation);\n            setActiveStep(2); // 设置为澄清步骤\n          }\n        }\n      }\n    } catch (error) {\n      console.error('Error fetching conversation history:', error);\n    }\n  };\n\n  const handleSendMessage = async () => {\n    if (!newMessage.trim() || !sessionId) return;\n    \n    const userMessage = {\n      role: 'user',\n      content: newMessage,\n      time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\n    };\n    \n    setChatMessages(prev => [...prev, userMessage]);\n    setNewMessage('');\n    setIsTyping(true);\n    \n    try {\n      // 处理用户对确认请求的回应\n      if (confirmingRequirements) {\n        const confirmation = newMessage.toLowerCase();\n        if (confirmation.includes('是') || confirmation.includes('确认') || confirmation.includes('yes') || confirmation.includes('确定')) {\n          // 用户确认了需求，生成期望模型\n          await handleGenerateExpectation();\n          setConfirmingRequirements(false);\n        } else {\n          // 用户不确认，继续对话\n          setConfirmingRequirements(false);\n          const systemMessage = {\n            role: 'system',\n            content: '好的，让我们继续讨论您的需求。请告诉我您想要修改或添加的内容。',\n            time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\n          };\n          setChatMessages(prev => [...prev, systemMessage]);\n        }\n        setIsTyping(false);\n        return;\n      }\n\n      // 正常消息处理\n      const endpoint = conversationId ? \n        `${API_BASE_URL}/clarify/continue` : \n        `${API_BASE_URL}/clarify`;\n      \n      const payload = conversationId ? \n        { message: userMessage.content, conversation_id: conversationId } : \n        { text: userMessage.content };\n      \n      const response = await fetch(endpoint, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Session-ID': sessionId\n        },\n        body: JSON.stringify(payload)\n      });\n      \n      if (response.ok) {\n        const data = await response.json();\n\n        // 设置会话ID（如果是新会话）\n        if (!conversationId && data.conversation_id) {\n          setConversationId(data.conversation_id);\n          setActiveStep(2); // 更新到澄清步骤\n        }\n        \n        // 更新期望数据\n        if (data.top_level_expectation || data.updated_expectation) {\n          setExpectationData(data.updated_expectation || data);\n        }\n        \n        // 添加系统回复\n        const systemMessage = {\n          role: 'system',\n          content: data.response || '我已理解您的需求，并更新了期望模型。',\n          time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\n        };\n        setChatMessages(prev => [...prev, systemMessage]);\n        \n        // 在几轮对话后询问用户是否确认需求\n        const userMessagesCount = chatMessages.filter(msg => msg.role === 'user').length;\n        if (userMessagesCount >= 2 && !confirmingRequirements) {\n          setTimeout(() => {\n            const confirmMessage = {\n              role: 'system',\n              content: '您对当前的需求澄清满意吗？如果满意，我可以为您生成正式的期望模型。',\n              time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\n            };\n            setChatMessages(prev => [...prev, confirmMessage]);\n            setConfirmingRequirements(true);\n          }, 1000);\n        }\n      } else {\n        const errorData = await response.json();\n        setChatMessages(prev => [...prev, {\n          role: 'system',\n          content: `错误: ${errorData.error || '消息处理失败'}`,\n          time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\n        }]);\n      }\n    } catch (error) {\n      console.error('Error processing message:', error);\n      setChatMessages(prev => [...prev, {\n        role: 'system',\n        content: '网络错误，请重试',\n        time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\n      }]);\n    } finally {\n      setIsTyping(false);\n    }\n  };\n\n  const handleKeyDown = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n\n  const handleGenerateExpectation = async () => {\n    if (!sessionId || !conversationId) return;\n    \n    try {\n      setLoading(true);\n      setError(null);\n      \n      const response = await fetch(`${API_BASE_URL}/clarify/finalize`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Session-ID': sessionId\n        },\n        body: JSON.stringify({\n          conversation_id: conversationId\n        })\n      });\n      \n      if (response.ok) {\n        const data = await response.json();\n        setExpectationData(data);\n        setActiveStep(3);\n        \n        // 添加系统消息\n        setChatMessages(prev => [...prev, {\n          role: 'system',\n          content: '期望模型已完成并存储。您可以在右侧查看详细的期望清单。需要继续完善吗？',\n          time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\n        }]);\n      } else {\n        const errorData = await response.json();\n        setError(errorData.error || '期望生成过程中出现问题');\n        \n        setChatMessages(prev => [...prev, {\n          role: 'system',\n          content: `生成期望模型失败: ${errorData.error || '未知错误'}`,\n          time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\n        }]);\n      }\n    } catch (error) {\n      console.error('Error finalizing expectation:', error);\n      setError('网络错误，请重试');\n      \n      setChatMessages(prev => [...prev, {\n        role: 'system',\n        content: '网络错误，生成期望模型失败。请重试。',\n        time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\n      }]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleRestartConversation = () => {\n    if (window.confirm('确定要重新开始对话吗？当前的对话内容将不会保存。')) {\n      setConversationId(null);\n      setActiveStep(1);\n      setExpectationData({\n        top_level_expectation: null,\n        sub_expectations: [],\n        constraints: []\n      });\n      setChatMessages([{\n        role: 'system',\n        content: '让我们重新开始。请告诉我您想要构建的系统或功能。',\n        time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\n      }]);\n      setConfirmingRequirements(false);\n    }\n  };\n\n  return (\n    <>\n      {/* 工作流程可视化 */}\n      <section className=\"workflow-section\">\n        <div className=\"section-header\">\n          <h2>处理流程</h2>\n          <div className=\"section-actions\">\n            <button \n              className=\"secondary-button\" \n              onClick={handleRestartConversation}\n              title=\"重新开始对话\"\n            >\n              <span className=\"material-symbols-rounded\">refresh</span>\n              <span>重新开始</span>\n            </button>\n          </div>\n        </div>\n        <div className=\"workflow-visualization\">\n          <div className={`workflow-step ${activeStep >= 1 ? 'active' : ''}`}>\n            <div className=\"step-icon\">\n              <span className=\"material-symbols-rounded\">description</span>\n            </div>\n            <div className=\"step-label\">需求输入</div>\n            <div className=\"step-connector\"></div>\n          </div>\n          <div className={`workflow-step ${activeStep >= 2 ? 'active' : activeStep === 1 ? 'in-progress' : ''}`}>\n            <div className=\"step-icon\">\n              <span className=\"material-symbols-rounded\">psychology</span>\n            </div>\n            <div className=\"step-label\">需求澄清</div>\n            <div className=\"step-connector\"></div>\n          </div>\n          <div className={`workflow-step ${activeStep >= 3 ? 'active' : activeStep === 2 ? 'in-progress' : ''}`}>\n            <div className=\"step-icon\">\n              <span className=\"material-symbols-rounded\">format_list_bulleted</span>\n            </div>\n            <div className=\"step-label\">期望生成</div>\n            <div className=\"step-connector\"></div>\n          </div>\n          <div className={`workflow-step ${activeStep >= 4 ? 'active' : activeStep === 3 ? 'in-progress' : ''}`}>\n            <div className=\"step-icon\">\n              <span className=\"material-symbols-rounded\">code</span>\n            </div>\n            <div className=\"step-label\">代码生成</div>\n            <div className=\"step-connector\"></div>\n          </div>\n          <div className={`workflow-step ${activeStep >= 5 ? 'active' : activeStep === 4 ? 'in-progress' : ''}`}>\n            <div className=\"step-icon\">\n              <span className=\"material-symbols-rounded\">verified</span>\n            </div>\n            <div className=\"step-label\">代码验证</div>\n          </div>\n        </div>\n      </section>\n\n      <div className=\"requirements-container\">\n        {/* 聊天交互区域 */}\n        <section className=\"chat-section\">\n          <div className=\"section-header\">\n            <h2>需求交互</h2>\n            <div className=\"section-actions\">\n              <button \n                className=\"primary-button\" \n                onClick={handleGenerateExpectation}\n                disabled={!conversationId || loading}\n              >\n                <span className=\"material-symbols-rounded\">check_circle</span>\n                <span>确认并生成期望</span>\n              </button>\n            </div>\n          </div>\n          <div className=\"chat-container\">\n            <div className=\"chat-messages\">\n              {chatMessages.map((message, index) => (\n                <div \n                  key={index} \n                  className={`message ${message.role === 'user' ? 'user-message' : 'system-message'}`}\n                >\n                  <div className=\"message-content\">\n                    <p>{message.content}</p>\n                  </div>\n                  <div className=\"message-time\">{message.time}</div>\n                </div>\n              ))}\n              {isTyping && (\n                <div className=\"typing-indicator\">\n                  <span></span>\n                  <span></span>\n                  <span></span>\n                </div>\n              )}\n              <div ref={messagesEndRef} />\n            </div>\n            <div className=\"chat-input\">\n              <textarea \n                placeholder=\"请描述您的需求...\"\n                rows=\"1\"\n                value={newMessage}\n                onChange={(e) => setNewMessage(e.target.value)}\n                onKeyDown={handleKeyDown}\n                disabled={loading}\n              />\n              <button \n                className={`send-button ${loading ? 'disabled' : ''}`} \n                onClick={handleSendMessage}\n                disabled={loading}\n              >\n                <span className=\"material-symbols-rounded\">send</span>\n              </button>\n            </div>\n          </div>\n        </section>\n\n        {/* 期望展示区域 */}\n        <section className=\"expectation-display-section\">\n          <div className=\"section-header\">\n            <h2>期望模型</h2>\n            <div className=\"section-actions\">\n              {activeStep >= 3 && (\n                <button className=\"secondary-button\">\n                  <span className=\"material-symbols-rounded\">download</span>\n                  <span>导出</span>\n                </button>\n              )}\n            </div>\n          </div>\n          <div className=\"expectation-display\">\n            {!expectationData.top_level_expectation ? (\n              <div className=\"empty-state\">\n                <span className=\"material-symbols-rounded large-icon\">format_list_bulleted</span>\n                <p>期望模型将在对话过程中生成</p>\n                <p className=\"secondary-text\">请在左侧开始描述您的需求</p>\n              </div>\n            ) : (\n              <div className=\"expectation-content\">\n                <div className=\"expectation-card main-expectation\">\n                  <div className=\"card-header\">\n                    <h3>主要期望</h3>\n                  </div>\n                  <div className=\"card-content\">\n                    <p className=\"expectation-id\">ID: {expectationData.top_level_expectation.id}</p>\n                    <p className=\"expectation-description\">{expectationData.top_level_expectation.description}</p>\n                  </div>\n                </div>\n                \n                {expectationData.sub_expectations.length > 0 && (\n                  <div className=\"expectation-card sub-expectations\">\n                    <div className=\"card-header\">\n                      <h3>子期望</h3>\n                      <span className=\"count-badge\">{expectationData.sub_expectations.length}</span>\n                    </div>\n                    <div className=\"card-content\">\n                      {expectationData.sub_expectations.map((subExp, index) => (\n                        <div key={index} className=\"sub-expectation-item\">\n                          <div className=\"item-header\">\n                            <span className=\"item-number\">{index + 1}</span>\n                            <span className=\"item-id\">{subExp.id}</span>\n                          </div>\n                          <p className=\"item-description\">{subExp.description}</p>\n                          {subExp.criteria && subExp.criteria.length > 0 && (\n                            <div className=\"criteria-list\">\n                              <h4>验收标准:</h4>\n                              <ul>\n                                {subExp.criteria.map((criteria, idx) => (\n                                  <li key={idx}>{criteria}</li>\n                                ))}\n                              </ul>\n                            </div>\n                          )}\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                )}\n                \n                {expectationData.constraints && expectationData.constraints.length > 0 && (\n                  <div className=\"expectation-card constraints\">\n                    <div className=\"card-header\">\n                      <h3>约束条件</h3>\n                      <span className=\"count-badge\">{expectationData.constraints.length}</span>\n                    </div>\n                    <div className=\"card-content\">\n                      <ul className=\"constraints-list\">\n                        {expectationData.constraints.map((constraint, index) => (\n                          <li key={index}>{constraint}</li>\n                        ))}\n                      </ul>\n                    </div>\n                  </div>\n                )}\n              </div>\n            )}\n          </div>\n        </section>\n      </div>\n    </>\n  );\n}\n\nexport default Requirements; "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE3D,MAAMC,YAAY,GAAG,uBAAuB;AAE5C,SAASC,YAAYA,CAAC;EAAEC;AAAU,CAAC,EAAE;EAAAC,EAAA;EACnC,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGZ,QAAQ,CAAC,CAAC,CAAC;EAC/C,MAAM,CAACa,YAAY,EAAEC,eAAe,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACe,UAAU,EAAEC,aAAa,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACiB,QAAQ,EAAEC,WAAW,CAAC,GAAGlB,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAM,CAACmB,cAAc,EAAEC,iBAAiB,CAAC,GAAGpB,QAAQ,CAAC,IAAI,CAAC;EAC1D,MAAM,CAACqB,OAAO,EAAEC,UAAU,CAAC,GAAGtB,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACuB,KAAK,EAAEC,QAAQ,CAAC,GAAGxB,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACyB,eAAe,EAAEC,kBAAkB,CAAC,GAAG1B,QAAQ,CAAC;IACrD2B,qBAAqB,EAAE,IAAI;IAC3BC,gBAAgB,EAAE,EAAE;IACpBC,WAAW,EAAE;EACf,CAAC,CAAC;EACF,MAAM,CAACC,sBAAsB,EAAEC,yBAAyB,CAAC,GAAG/B,QAAQ,CAAC,KAAK,CAAC;EAE3E,MAAMgC,cAAc,GAAG9B,MAAM,CAAC,IAAI,CAAC;EAEnCD,SAAS,CAAC,MAAM;IACd,IAAI+B,cAAc,CAACC,OAAO,EAAE;MAC1BD,cAAc,CAACC,OAAO,CAACC,cAAc,CAAC;QAAEC,QAAQ,EAAE;MAAS,CAAC,CAAC;IAC/D;EACF,CAAC,EAAE,CAACtB,YAAY,EAAEI,QAAQ,CAAC,CAAC;EAE5BhB,SAAS,CAAC,MAAM;IACd,IAAIQ,SAAS,EAAE;MACb;MACAK,eAAe,CAAC,CAAC;QACfsB,IAAI,EAAE,QAAQ;QACdC,OAAO,EAAE,6DAA6D;QACtEC,IAAI,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,kBAAkB,CAAC,EAAE,EAAE;UAAEC,IAAI,EAAE,SAAS;UAAEC,MAAM,EAAE;QAAU,CAAC;MAChF,CAAC,CAAC,CAAC;;MAEH;MACAC,wBAAwB,CAAC,CAAC;IAC5B;EACF,CAAC,EAAE,CAAClC,SAAS,CAAC,CAAC;;EAEf;EACA,MAAMkC,wBAAwB,GAAG,MAAAA,CAAA,KAAY;IAC3C,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGtC,YAAY,wBAAwB,EAAE;QACpEuC,OAAO,EAAE;UACP,cAAc,EAAE,kBAAkB;UAClC,YAAY,EAAErC;QAChB;MACF,CAAC,CAAC;MAEF,IAAImC,QAAQ,CAACG,EAAE,EAAE;QACf,MAAMC,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAI,CAAC,CAAC;QAClC;QACA,IAAID,IAAI,CAACE,aAAa,IAAIF,IAAI,CAACE,aAAa,CAACC,MAAM,GAAG,CAAC,EAAE;UACvD,MAAMC,kBAAkB,GAAGJ,IAAI,CAACE,aAAa,CAAC,CAAC,CAAC;UAChD9B,iBAAiB,CAACgC,kBAAkB,CAACC,EAAE,CAAC;;UAExC;UACA,IAAID,kBAAkB,CAACE,QAAQ,IAAIF,kBAAkB,CAACE,QAAQ,CAACH,MAAM,GAAG,CAAC,EAAE;YACzE,MAAMI,iBAAiB,GAAGH,kBAAkB,CAACE,QAAQ,CAACE,GAAG,CAACC,GAAG,KAAK;cAChErB,IAAI,EAAEqB,GAAG,CAACrB,IAAI;cACdC,OAAO,EAAEoB,GAAG,CAACpB,OAAO;cACpBC,IAAI,EAAE,IAAIC,IAAI,CAACkB,GAAG,CAACC,SAAS,CAAC,CAAClB,kBAAkB,CAAC,EAAE,EAAE;gBAAEC,IAAI,EAAE,SAAS;gBAAEC,MAAM,EAAE;cAAU,CAAC;YAC7F,CAAC,CAAC,CAAC;YACH5B,eAAe,CAACyC,iBAAiB,CAAC;UACpC;;UAEA;UACA,IAAIH,kBAAkB,CAACO,mBAAmB,EAAE;YAC1CjC,kBAAkB,CAAC0B,kBAAkB,CAACO,mBAAmB,CAAC;YAC1D/C,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;UACpB;QACF;MACF;IACF,CAAC,CAAC,OAAOW,KAAK,EAAE;MACdqC,OAAO,CAACrC,KAAK,CAAC,sCAAsC,EAAEA,KAAK,CAAC;IAC9D;EACF,CAAC;EAED,MAAMsC,iBAAiB,GAAG,MAAAA,CAAA,KAAY;IACpC,IAAI,CAAC9C,UAAU,CAAC+C,IAAI,CAAC,CAAC,IAAI,CAACrD,SAAS,EAAE;IAEtC,MAAMsD,WAAW,GAAG;MAClB3B,IAAI,EAAE,MAAM;MACZC,OAAO,EAAEtB,UAAU;MACnBuB,IAAI,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,kBAAkB,CAAC,EAAE,EAAE;QAAEC,IAAI,EAAE,SAAS;QAAEC,MAAM,EAAE;MAAU,CAAC;IAChF,CAAC;IAED5B,eAAe,CAACkD,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAED,WAAW,CAAC,CAAC;IAC/C/C,aAAa,CAAC,EAAE,CAAC;IACjBE,WAAW,CAAC,IAAI,CAAC;IAEjB,IAAI;MACF;MACA,IAAIY,sBAAsB,EAAE;QAC1B,MAAMmC,YAAY,GAAGlD,UAAU,CAACmD,WAAW,CAAC,CAAC;QAC7C,IAAID,YAAY,CAACE,QAAQ,CAAC,GAAG,CAAC,IAAIF,YAAY,CAACE,QAAQ,CAAC,IAAI,CAAC,IAAIF,YAAY,CAACE,QAAQ,CAAC,KAAK,CAAC,IAAIF,YAAY,CAACE,QAAQ,CAAC,IAAI,CAAC,EAAE;UAC5H;UACA,MAAMC,yBAAyB,CAAC,CAAC;UACjCrC,yBAAyB,CAAC,KAAK,CAAC;QAClC,CAAC,MAAM;UACL;UACAA,yBAAyB,CAAC,KAAK,CAAC;UAChC,MAAMsC,aAAa,GAAG;YACpBjC,IAAI,EAAE,QAAQ;YACdC,OAAO,EAAE,iCAAiC;YAC1CC,IAAI,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,kBAAkB,CAAC,EAAE,EAAE;cAAEC,IAAI,EAAE,SAAS;cAAEC,MAAM,EAAE;YAAU,CAAC;UAChF,CAAC;UACD5B,eAAe,CAACkD,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAEK,aAAa,CAAC,CAAC;QACnD;QACAnD,WAAW,CAAC,KAAK,CAAC;QAClB;MACF;;MAEA;MACA,MAAMoD,QAAQ,GAAGnD,cAAc,GAC7B,GAAGZ,YAAY,mBAAmB,GAClC,GAAGA,YAAY,UAAU;MAE3B,MAAMgE,OAAO,GAAGpD,cAAc,GAC5B;QAAEqD,OAAO,EAAET,WAAW,CAAC1B,OAAO;QAAEoC,eAAe,EAAEtD;MAAe,CAAC,GACjE;QAAEuD,IAAI,EAAEX,WAAW,CAAC1B;MAAQ,CAAC;MAE/B,MAAMO,QAAQ,GAAG,MAAMC,KAAK,CAACyB,QAAQ,EAAE;QACrCK,MAAM,EAAE,MAAM;QACd7B,OAAO,EAAE;UACP,cAAc,EAAE,kBAAkB;UAClC,YAAY,EAAErC;QAChB,CAAC;QACDmE,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACP,OAAO;MAC9B,CAAC,CAAC;MAEF,IAAI3B,QAAQ,CAACG,EAAE,EAAE;QACf,MAAMC,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAI,CAAC,CAAC;;QAElC;QACA,IAAI,CAAC9B,cAAc,IAAI6B,IAAI,CAACyB,eAAe,EAAE;UAC3CrD,iBAAiB,CAAC4B,IAAI,CAACyB,eAAe,CAAC;UACvC7D,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;QACpB;;QAEA;QACA,IAAIoC,IAAI,CAACrB,qBAAqB,IAAIqB,IAAI,CAAC+B,mBAAmB,EAAE;UAC1DrD,kBAAkB,CAACsB,IAAI,CAAC+B,mBAAmB,IAAI/B,IAAI,CAAC;QACtD;;QAEA;QACA,MAAMqB,aAAa,GAAG;UACpBjC,IAAI,EAAE,QAAQ;UACdC,OAAO,EAAEW,IAAI,CAACJ,QAAQ,IAAI,oBAAoB;UAC9CN,IAAI,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,kBAAkB,CAAC,EAAE,EAAE;YAAEC,IAAI,EAAE,SAAS;YAAEC,MAAM,EAAE;UAAU,CAAC;QAChF,CAAC;QACD5B,eAAe,CAACkD,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAEK,aAAa,CAAC,CAAC;;QAEjD;QACA,MAAMW,iBAAiB,GAAGnE,YAAY,CAACoE,MAAM,CAACxB,GAAG,IAAIA,GAAG,CAACrB,IAAI,KAAK,MAAM,CAAC,CAACe,MAAM;QAChF,IAAI6B,iBAAiB,IAAI,CAAC,IAAI,CAAClD,sBAAsB,EAAE;UACrDoD,UAAU,CAAC,MAAM;YACf,MAAMC,cAAc,GAAG;cACrB/C,IAAI,EAAE,QAAQ;cACdC,OAAO,EAAE,mCAAmC;cAC5CC,IAAI,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,kBAAkB,CAAC,EAAE,EAAE;gBAAEC,IAAI,EAAE,SAAS;gBAAEC,MAAM,EAAE;cAAU,CAAC;YAChF,CAAC;YACD5B,eAAe,CAACkD,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAEmB,cAAc,CAAC,CAAC;YAClDpD,yBAAyB,CAAC,IAAI,CAAC;UACjC,CAAC,EAAE,IAAI,CAAC;QACV;MACF,CAAC,MAAM;QACL,MAAMqD,SAAS,GAAG,MAAMxC,QAAQ,CAACK,IAAI,CAAC,CAAC;QACvCnC,eAAe,CAACkD,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAE;UAChC5B,IAAI,EAAE,QAAQ;UACdC,OAAO,EAAE,OAAO+C,SAAS,CAAC7D,KAAK,IAAI,QAAQ,EAAE;UAC7Ce,IAAI,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,kBAAkB,CAAC,EAAE,EAAE;YAAEC,IAAI,EAAE,SAAS;YAAEC,MAAM,EAAE;UAAU,CAAC;QAChF,CAAC,CAAC,CAAC;MACL;IACF,CAAC,CAAC,OAAOnB,KAAK,EAAE;MACdqC,OAAO,CAACrC,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACjDT,eAAe,CAACkD,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAE;QAChC5B,IAAI,EAAE,QAAQ;QACdC,OAAO,EAAE,UAAU;QACnBC,IAAI,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,kBAAkB,CAAC,EAAE,EAAE;UAAEC,IAAI,EAAE,SAAS;UAAEC,MAAM,EAAE;QAAU,CAAC;MAChF,CAAC,CAAC,CAAC;IACL,CAAC,SAAS;MACRxB,WAAW,CAAC,KAAK,CAAC;IACpB;EACF,CAAC;EAED,MAAMmE,aAAa,GAAIC,CAAC,IAAK;IAC3B,IAAIA,CAAC,CAACC,GAAG,KAAK,OAAO,IAAI,CAACD,CAAC,CAACE,QAAQ,EAAE;MACpCF,CAAC,CAACG,cAAc,CAAC,CAAC;MAClB5B,iBAAiB,CAAC,CAAC;IACrB;EACF,CAAC;EAED,MAAMO,yBAAyB,GAAG,MAAAA,CAAA,KAAY;IAC5C,IAAI,CAAC3D,SAAS,IAAI,CAACU,cAAc,EAAE;IAEnC,IAAI;MACFG,UAAU,CAAC,IAAI,CAAC;MAChBE,QAAQ,CAAC,IAAI,CAAC;MAEd,MAAMoB,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGtC,YAAY,mBAAmB,EAAE;QAC/DoE,MAAM,EAAE,MAAM;QACd7B,OAAO,EAAE;UACP,cAAc,EAAE,kBAAkB;UAClC,YAAY,EAAErC;QAChB,CAAC;QACDmE,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACnBL,eAAe,EAAEtD;QACnB,CAAC;MACH,CAAC,CAAC;MAEF,IAAIyB,QAAQ,CAACG,EAAE,EAAE;QACf,MAAMC,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAI,CAAC,CAAC;QAClCvB,kBAAkB,CAACsB,IAAI,CAAC;QACxBpC,aAAa,CAAC,CAAC,CAAC;;QAEhB;QACAE,eAAe,CAACkD,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAE;UAChC5B,IAAI,EAAE,QAAQ;UACdC,OAAO,EAAE,qCAAqC;UAC9CC,IAAI,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,kBAAkB,CAAC,EAAE,EAAE;YAAEC,IAAI,EAAE,SAAS;YAAEC,MAAM,EAAE;UAAU,CAAC;QAChF,CAAC,CAAC,CAAC;MACL,CAAC,MAAM;QACL,MAAM0C,SAAS,GAAG,MAAMxC,QAAQ,CAACK,IAAI,CAAC,CAAC;QACvCzB,QAAQ,CAAC4D,SAAS,CAAC7D,KAAK,IAAI,aAAa,CAAC;QAE1CT,eAAe,CAACkD,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAE;UAChC5B,IAAI,EAAE,QAAQ;UACdC,OAAO,EAAE,aAAa+C,SAAS,CAAC7D,KAAK,IAAI,MAAM,EAAE;UACjDe,IAAI,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,kBAAkB,CAAC,EAAE,EAAE;YAAEC,IAAI,EAAE,SAAS;YAAEC,MAAM,EAAE;UAAU,CAAC;QAChF,CAAC,CAAC,CAAC;MACL;IACF,CAAC,CAAC,OAAOnB,KAAK,EAAE;MACdqC,OAAO,CAACrC,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;MACrDC,QAAQ,CAAC,UAAU,CAAC;MAEpBV,eAAe,CAACkD,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAE;QAChC5B,IAAI,EAAE,QAAQ;QACdC,OAAO,EAAE,oBAAoB;QAC7BC,IAAI,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,kBAAkB,CAAC,EAAE,EAAE;UAAEC,IAAI,EAAE,SAAS;UAAEC,MAAM,EAAE;QAAU,CAAC;MAChF,CAAC,CAAC,CAAC;IACL,CAAC,SAAS;MACRpB,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAMoE,yBAAyB,GAAGA,CAAA,KAAM;IACtC,IAAIC,MAAM,CAACC,OAAO,CAAC,0BAA0B,CAAC,EAAE;MAC9CxE,iBAAiB,CAAC,IAAI,CAAC;MACvBR,aAAa,CAAC,CAAC,CAAC;MAChBc,kBAAkB,CAAC;QACjBC,qBAAqB,EAAE,IAAI;QAC3BC,gBAAgB,EAAE,EAAE;QACpBC,WAAW,EAAE;MACf,CAAC,CAAC;MACFf,eAAe,CAAC,CAAC;QACfsB,IAAI,EAAE,QAAQ;QACdC,OAAO,EAAE,0BAA0B;QACnCC,IAAI,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,kBAAkB,CAAC,EAAE,EAAE;UAAEC,IAAI,EAAE,SAAS;UAAEC,MAAM,EAAE;QAAU,CAAC;MAChF,CAAC,CAAC,CAAC;MACHX,yBAAyB,CAAC,KAAK,CAAC;IAClC;EACF,CAAC;EAED,oBACE3B,OAAA,CAAAE,SAAA;IAAAuF,QAAA,gBAEEzF,OAAA;MAAS0F,SAAS,EAAC,kBAAkB;MAAAD,QAAA,gBACnCzF,OAAA;QAAK0F,SAAS,EAAC,gBAAgB;QAAAD,QAAA,gBAC7BzF,OAAA;UAAAyF,QAAA,EAAI;QAAI;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACb9F,OAAA;UAAK0F,SAAS,EAAC,iBAAiB;UAAAD,QAAA,eAC9BzF,OAAA;YACE0F,SAAS,EAAC,kBAAkB;YAC5BK,OAAO,EAAET,yBAA0B;YACnCU,KAAK,EAAC,sCAAQ;YAAAP,QAAA,gBAEdzF,OAAA;cAAM0F,SAAS,EAAC,0BAA0B;cAAAD,QAAA,EAAC;YAAO;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eACzD9F,OAAA;cAAAyF,QAAA,EAAM;YAAI;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACX;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eACN9F,OAAA;QAAK0F,SAAS,EAAC,wBAAwB;QAAAD,QAAA,gBACrCzF,OAAA;UAAK0F,SAAS,EAAE,iBAAiBnF,UAAU,IAAI,CAAC,GAAG,QAAQ,GAAG,EAAE,EAAG;UAAAkF,QAAA,gBACjEzF,OAAA;YAAK0F,SAAS,EAAC,WAAW;YAAAD,QAAA,eACxBzF,OAAA;cAAM0F,SAAS,EAAC,0BAA0B;cAAAD,QAAA,EAAC;YAAW;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC1D,CAAC,eACN9F,OAAA;YAAK0F,SAAS,EAAC,YAAY;YAAAD,QAAA,EAAC;UAAI;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACtC9F,OAAA;YAAK0F,SAAS,EAAC;UAAgB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnC,CAAC,eACN9F,OAAA;UAAK0F,SAAS,EAAE,iBAAiBnF,UAAU,IAAI,CAAC,GAAG,QAAQ,GAAGA,UAAU,KAAK,CAAC,GAAG,aAAa,GAAG,EAAE,EAAG;UAAAkF,QAAA,gBACpGzF,OAAA;YAAK0F,SAAS,EAAC,WAAW;YAAAD,QAAA,eACxBzF,OAAA;cAAM0F,SAAS,EAAC,0BAA0B;cAAAD,QAAA,EAAC;YAAU;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzD,CAAC,eACN9F,OAAA;YAAK0F,SAAS,EAAC,YAAY;YAAAD,QAAA,EAAC;UAAI;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACtC9F,OAAA;YAAK0F,SAAS,EAAC;UAAgB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnC,CAAC,eACN9F,OAAA;UAAK0F,SAAS,EAAE,iBAAiBnF,UAAU,IAAI,CAAC,GAAG,QAAQ,GAAGA,UAAU,KAAK,CAAC,GAAG,aAAa,GAAG,EAAE,EAAG;UAAAkF,QAAA,gBACpGzF,OAAA;YAAK0F,SAAS,EAAC,WAAW;YAAAD,QAAA,eACxBzF,OAAA;cAAM0F,SAAS,EAAC,0BAA0B;cAAAD,QAAA,EAAC;YAAoB;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnE,CAAC,eACN9F,OAAA;YAAK0F,SAAS,EAAC,YAAY;YAAAD,QAAA,EAAC;UAAI;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACtC9F,OAAA;YAAK0F,SAAS,EAAC;UAAgB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnC,CAAC,eACN9F,OAAA;UAAK0F,SAAS,EAAE,iBAAiBnF,UAAU,IAAI,CAAC,GAAG,QAAQ,GAAGA,UAAU,KAAK,CAAC,GAAG,aAAa,GAAG,EAAE,EAAG;UAAAkF,QAAA,gBACpGzF,OAAA;YAAK0F,SAAS,EAAC,WAAW;YAAAD,QAAA,eACxBzF,OAAA;cAAM0F,SAAS,EAAC,0BAA0B;cAAAD,QAAA,EAAC;YAAI;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnD,CAAC,eACN9F,OAAA;YAAK0F,SAAS,EAAC,YAAY;YAAAD,QAAA,EAAC;UAAI;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACtC9F,OAAA;YAAK0F,SAAS,EAAC;UAAgB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnC,CAAC,eACN9F,OAAA;UAAK0F,SAAS,EAAE,iBAAiBnF,UAAU,IAAI,CAAC,GAAG,QAAQ,GAAGA,UAAU,KAAK,CAAC,GAAG,aAAa,GAAG,EAAE,EAAG;UAAAkF,QAAA,gBACpGzF,OAAA;YAAK0F,SAAS,EAAC,WAAW;YAAAD,QAAA,eACxBzF,OAAA;cAAM0F,SAAS,EAAC,0BAA0B;cAAAD,QAAA,EAAC;YAAQ;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACvD,CAAC,eACN9F,OAAA;YAAK0F,SAAS,EAAC,YAAY;YAAAD,QAAA,EAAC;UAAI;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eAEV9F,OAAA;MAAK0F,SAAS,EAAC,wBAAwB;MAAAD,QAAA,gBAErCzF,OAAA;QAAS0F,SAAS,EAAC,cAAc;QAAAD,QAAA,gBAC/BzF,OAAA;UAAK0F,SAAS,EAAC,gBAAgB;UAAAD,QAAA,gBAC7BzF,OAAA;YAAAyF,QAAA,EAAI;UAAI;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACb9F,OAAA;YAAK0F,SAAS,EAAC,iBAAiB;YAAAD,QAAA,eAC9BzF,OAAA;cACE0F,SAAS,EAAC,gBAAgB;cAC1BK,OAAO,EAAE/B,yBAA0B;cACnCiC,QAAQ,EAAE,CAAClF,cAAc,IAAIE,OAAQ;cAAAwE,QAAA,gBAErCzF,OAAA;gBAAM0F,SAAS,EAAC,0BAA0B;gBAAAD,QAAA,EAAC;cAAY;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eAC9D9F,OAAA;gBAAAyF,QAAA,EAAM;cAAO;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACd;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eACN9F,OAAA;UAAK0F,SAAS,EAAC,gBAAgB;UAAAD,QAAA,gBAC7BzF,OAAA;YAAK0F,SAAS,EAAC,eAAe;YAAAD,QAAA,GAC3BhF,YAAY,CAAC2C,GAAG,CAAC,CAACgB,OAAO,EAAE8B,KAAK,kBAC/BlG,OAAA;cAEE0F,SAAS,EAAE,WAAWtB,OAAO,CAACpC,IAAI,KAAK,MAAM,GAAG,cAAc,GAAG,gBAAgB,EAAG;cAAAyD,QAAA,gBAEpFzF,OAAA;gBAAK0F,SAAS,EAAC,iBAAiB;gBAAAD,QAAA,eAC9BzF,OAAA;kBAAAyF,QAAA,EAAIrB,OAAO,CAACnC;gBAAO;kBAAA0D,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACrB,CAAC,eACN9F,OAAA;gBAAK0F,SAAS,EAAC,cAAc;gBAAAD,QAAA,EAAErB,OAAO,CAAClC;cAAI;gBAAAyD,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA,GAN7CI,KAAK;cAAAP,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAOP,CACN,CAAC,EACDjF,QAAQ,iBACPb,OAAA;cAAK0F,SAAS,EAAC,kBAAkB;cAAAD,QAAA,gBAC/BzF,OAAA;gBAAA2F,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAY,CAAC,eACb9F,OAAA;gBAAA2F,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAY,CAAC,eACb9F,OAAA;gBAAA2F,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAY,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACV,CACN,eACD9F,OAAA;cAAKmG,GAAG,EAAEvE;YAAe;cAAA+D,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzB,CAAC,eACN9F,OAAA;YAAK0F,SAAS,EAAC,YAAY;YAAAD,QAAA,gBACzBzF,OAAA;cACEoG,WAAW,EAAC,+CAAY;cACxBC,IAAI,EAAC,GAAG;cACRC,KAAK,EAAE3F,UAAW;cAClB4F,QAAQ,EAAGrB,CAAC,IAAKtE,aAAa,CAACsE,CAAC,CAACsB,MAAM,CAACF,KAAK,CAAE;cAC/CG,SAAS,EAAExB,aAAc;cACzBgB,QAAQ,EAAEhF;YAAQ;cAAA0E,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACnB,CAAC,eACF9F,OAAA;cACE0F,SAAS,EAAE,eAAezE,OAAO,GAAG,UAAU,GAAG,EAAE,EAAG;cACtD8E,OAAO,EAAEtC,iBAAkB;cAC3BwC,QAAQ,EAAEhF,OAAQ;cAAAwE,QAAA,eAElBzF,OAAA;gBAAM0F,SAAS,EAAC,0BAA0B;gBAAAD,QAAA,EAAC;cAAI;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAChD,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eAGV9F,OAAA;QAAS0F,SAAS,EAAC,6BAA6B;QAAAD,QAAA,gBAC9CzF,OAAA;UAAK0F,SAAS,EAAC,gBAAgB;UAAAD,QAAA,gBAC7BzF,OAAA;YAAAyF,QAAA,EAAI;UAAI;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACb9F,OAAA;YAAK0F,SAAS,EAAC,iBAAiB;YAAAD,QAAA,EAC7BlF,UAAU,IAAI,CAAC,iBACdP,OAAA;cAAQ0F,SAAS,EAAC,kBAAkB;cAAAD,QAAA,gBAClCzF,OAAA;gBAAM0F,SAAS,EAAC,0BAA0B;gBAAAD,QAAA,EAAC;cAAQ;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eAC1D9F,OAAA;gBAAAyF,QAAA,EAAM;cAAE;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACT;UACT;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eACN9F,OAAA;UAAK0F,SAAS,EAAC,qBAAqB;UAAAD,QAAA,EACjC,CAACpE,eAAe,CAACE,qBAAqB,gBACrCvB,OAAA;YAAK0F,SAAS,EAAC,aAAa;YAAAD,QAAA,gBAC1BzF,OAAA;cAAM0F,SAAS,EAAC,qCAAqC;cAAAD,QAAA,EAAC;YAAoB;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eACjF9F,OAAA;cAAAyF,QAAA,EAAG;YAAa;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC,eACpB9F,OAAA;cAAG0F,SAAS,EAAC,gBAAgB;cAAAD,QAAA,EAAC;YAAY;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3C,CAAC,gBAEN9F,OAAA;YAAK0F,SAAS,EAAC,qBAAqB;YAAAD,QAAA,gBAClCzF,OAAA;cAAK0F,SAAS,EAAC,mCAAmC;cAAAD,QAAA,gBAChDzF,OAAA;gBAAK0F,SAAS,EAAC,aAAa;gBAAAD,QAAA,eAC1BzF,OAAA;kBAAAyF,QAAA,EAAI;gBAAI;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACV,CAAC,eACN9F,OAAA;gBAAK0F,SAAS,EAAC,cAAc;gBAAAD,QAAA,gBAC3BzF,OAAA;kBAAG0F,SAAS,EAAC,gBAAgB;kBAAAD,QAAA,GAAC,MAAI,EAACpE,eAAe,CAACE,qBAAqB,CAAC0B,EAAE;gBAAA;kBAAA0C,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eAChF9F,OAAA;kBAAG0F,SAAS,EAAC,yBAAyB;kBAAAD,QAAA,EAAEpE,eAAe,CAACE,qBAAqB,CAACmF;gBAAW;kBAAAf,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC3F,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,EAELzE,eAAe,CAACG,gBAAgB,CAACuB,MAAM,GAAG,CAAC,iBAC1C/C,OAAA;cAAK0F,SAAS,EAAC,mCAAmC;cAAAD,QAAA,gBAChDzF,OAAA;gBAAK0F,SAAS,EAAC,aAAa;gBAAAD,QAAA,gBAC1BzF,OAAA;kBAAAyF,QAAA,EAAI;gBAAG;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACZ9F,OAAA;kBAAM0F,SAAS,EAAC,aAAa;kBAAAD,QAAA,EAAEpE,eAAe,CAACG,gBAAgB,CAACuB;gBAAM;kBAAA4C,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC3E,CAAC,eACN9F,OAAA;gBAAK0F,SAAS,EAAC,cAAc;gBAAAD,QAAA,EAC1BpE,eAAe,CAACG,gBAAgB,CAAC4B,GAAG,CAAC,CAACuD,MAAM,EAAET,KAAK,kBAClDlG,OAAA;kBAAiB0F,SAAS,EAAC,sBAAsB;kBAAAD,QAAA,gBAC/CzF,OAAA;oBAAK0F,SAAS,EAAC,aAAa;oBAAAD,QAAA,gBAC1BzF,OAAA;sBAAM0F,SAAS,EAAC,aAAa;sBAAAD,QAAA,EAAES,KAAK,GAAG;oBAAC;sBAAAP,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAO,CAAC,eAChD9F,OAAA;sBAAM0F,SAAS,EAAC,SAAS;sBAAAD,QAAA,EAAEkB,MAAM,CAAC1D;oBAAE;sBAAA0C,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAO,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACzC,CAAC,eACN9F,OAAA;oBAAG0F,SAAS,EAAC,kBAAkB;oBAAAD,QAAA,EAAEkB,MAAM,CAACD;kBAAW;oBAAAf,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,EACvDa,MAAM,CAACC,QAAQ,IAAID,MAAM,CAACC,QAAQ,CAAC7D,MAAM,GAAG,CAAC,iBAC5C/C,OAAA;oBAAK0F,SAAS,EAAC,eAAe;oBAAAD,QAAA,gBAC5BzF,OAAA;sBAAAyF,QAAA,EAAI;oBAAK;sBAAAE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,eACd9F,OAAA;sBAAAyF,QAAA,EACGkB,MAAM,CAACC,QAAQ,CAACxD,GAAG,CAAC,CAACwD,QAAQ,EAAEC,GAAG,kBACjC7G,OAAA;wBAAAyF,QAAA,EAAemB;sBAAQ,GAAdC,GAAG;wBAAAlB,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAgB,CAC7B;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACA,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACF,CACN;gBAAA,GAfOI,KAAK;kBAAAP,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAgBV,CACN;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CACN,EAEAzE,eAAe,CAACI,WAAW,IAAIJ,eAAe,CAACI,WAAW,CAACsB,MAAM,GAAG,CAAC,iBACpE/C,OAAA;cAAK0F,SAAS,EAAC,8BAA8B;cAAAD,QAAA,gBAC3CzF,OAAA;gBAAK0F,SAAS,EAAC,aAAa;gBAAAD,QAAA,gBAC1BzF,OAAA;kBAAAyF,QAAA,EAAI;gBAAI;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACb9F,OAAA;kBAAM0F,SAAS,EAAC,aAAa;kBAAAD,QAAA,EAAEpE,eAAe,CAACI,WAAW,CAACsB;gBAAM;kBAAA4C,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACtE,CAAC,eACN9F,OAAA;gBAAK0F,SAAS,EAAC,cAAc;gBAAAD,QAAA,eAC3BzF,OAAA;kBAAI0F,SAAS,EAAC,kBAAkB;kBAAAD,QAAA,EAC7BpE,eAAe,CAACI,WAAW,CAAC2B,GAAG,CAAC,CAAC0D,UAAU,EAAEZ,KAAK,kBACjDlG,OAAA;oBAAAyF,QAAA,EAAiBqB;kBAAU,GAAlBZ,KAAK;oBAAAP,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAkB,CACjC;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACA;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACF,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CACN;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE;QACN;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACP,CAAC;EAAA,eACN,CAAC;AAEP;AAACxF,EAAA,CA3cQF,YAAY;AAAA2G,EAAA,GAAZ3G,YAAY;AA6crB,eAAeA,YAAY;AAAC,IAAA2G,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}