{"ast":null,"code":"var _jsxFileName = \"/Users/ziyanzhou/Projects/devin-gen-expeta/access/ui/src/pages/Expectations.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = 'http://localhost:8000';\nfunction Expectations({\n  sessionId\n}) {\n  _s();\n  const [expectations, setExpectations] = useState([]);\n  const [selectedExpectation, setSelectedExpectation] = useState(null);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedFilter, setSelectedFilter] = useState('all');\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [subExpectations, setSubExpectations] = useState([]);\n  const [constraints, setConstraints] = useState([]);\n  useEffect(() => {\n    if (!sessionId) return;\n    const fetchExpectations = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n        const response = await fetch(`${API_BASE_URL}/memory/expectations`, {\n          headers: {\n            'Content-Type': 'application/json',\n            'Session-ID': sessionId\n          }\n        });\n        if (response.ok) {\n          const data = await response.json();\n          setExpectations(data);\n          if (data.length > 0) {\n            // Select the first expectation automatically\n            await fetchExpectationDetails(data[0].id);\n          } else {\n            setLoading(false);\n          }\n        } else {\n          const errorData = await response.json();\n          setError(errorData.error || '获取期望列表失败');\n          setLoading(false);\n        }\n      } catch (error) {\n        console.error('Error fetching expectations:', error);\n        setError('网络错误，请重试');\n        setLoading(false);\n      }\n    };\n    fetchExpectations();\n  }, [sessionId]);\n  const fetchExpectationDetails = async expectationId => {\n    if (!sessionId) return;\n    try {\n      setLoading(true);\n      const expectationResponse = await fetch(`${API_BASE_URL}/memory/expectation/${expectationId}`, {\n        headers: {\n          'Content-Type': 'application/json',\n          'Session-ID': sessionId\n        }\n      });\n      if (expectationResponse.ok) {\n        const expectationData = await expectationResponse.json();\n        setSelectedExpectation(expectationData);\n\n        // Fetch sub-expectations if available\n        if (expectationData.sub_expectations_ids && expectationData.sub_expectations_ids.length > 0) {\n          const subExpResponse = await fetch(`${API_BASE_URL}/memory/sub_expectations/${expectationId}`, {\n            headers: {\n              'Content-Type': 'application/json',\n              'Session-ID': sessionId\n            }\n          });\n          if (subExpResponse.ok) {\n            const subExpData = await subExpResponse.json();\n            setSubExpectations(subExpData);\n          }\n        } else {\n          setSubExpectations([]);\n        }\n\n        // Set constraints\n        if (expectationData.constraints) {\n          setConstraints(expectationData.constraints);\n        } else {\n          setConstraints([]);\n        }\n      } else {\n        const errorData = await expectationResponse.json();\n        throw new Error(errorData.error || '获取期望详情失败');\n      }\n    } catch (error) {\n      console.error('Error fetching expectation details:', error);\n      setError(error.message || '网络错误，请重试');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleExpectationClick = async expectation => {\n    await fetchExpectationDetails(expectation.id);\n  };\n  const handleSearchChange = e => {\n    setSearchQuery(e.target.value);\n  };\n  const handleCreateExpectation = () => {\n    // 导航到需求页面来创建新期望\n    // 对于真实实现，可能需要全局状态管理或路由功能\n    console.log('Create new expectation - redirecting to requirements page');\n  };\n  const handleEditExpectation = async () => {\n    if (!selectedExpectation || !sessionId) return;\n\n    // 编辑期望的逻辑会根据具体的需求来实现\n    // 这里可能会显示一个编辑对话框或导航到编辑页面\n    console.log('Edit expectation:', selectedExpectation.id);\n  };\n  const handleGenerateCode = async () => {\n    if (!selectedExpectation || !sessionId) return;\n    try {\n      const response = await fetch(`${API_BASE_URL}/generate`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Session-ID': sessionId\n        },\n        body: JSON.stringify({\n          expectation_id: selectedExpectation.id\n        })\n      });\n      if (response.ok) {\n        // 导航到代码生成页面\n        // 实际实现中，可能需要全局状态管理或路由功能\n        console.log('Code generation started for:', selectedExpectation.id);\n      } else {\n        const errorData = await response.json();\n        throw new Error(errorData.error || '代码生成失败');\n      }\n    } catch (error) {\n      console.error('Error starting code generation:', error);\n      setError(error.message || '网络错误，请重试');\n    }\n  };\n  const filteredExpectations = expectations.filter(exp => {\n    var _exp$title, _exp$description, _exp$id;\n    const matchesSearch = ((_exp$title = exp.title) === null || _exp$title === void 0 ? void 0 : _exp$title.toLowerCase().includes(searchQuery.toLowerCase())) || ((_exp$description = exp.description) === null || _exp$description === void 0 ? void 0 : _exp$description.toLowerCase().includes(searchQuery.toLowerCase())) || ((_exp$id = exp.id) === null || _exp$id === void 0 ? void 0 : _exp$id.toLowerCase().includes(searchQuery.toLowerCase()));\n    if (selectedFilter === 'all') return matchesSearch;\n    return matchesSearch && exp.status === selectedFilter;\n  });\n  if (loading && !selectedExpectation && expectations.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u52A0\\u8F7D\\u671F\\u671B\\u6570\\u636E...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this);\n  }\n  if (error && !selectedExpectation && expectations.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-icon\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"material-symbols-rounded\",\n          children: \"error\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"primary-button\",\n        onClick: () => window.location.reload(),\n        children: \"\\u91CD\\u8BD5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"expectations-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"expectation-list\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"card-title\",\n            children: \"\\u671F\\u671B\\u5217\\u8868\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"search-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"\\u641C\\u7D22\\u671F\\u671B...\",\n              className: \"search-input\",\n              value: searchQuery,\n              onChange: handleSearchChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"material-symbols-rounded search-icon\",\n              children: \"search\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-content\",\n          children: filteredExpectations.length > 0 ? filteredExpectations.map(exp => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `expectation-item ${(selectedExpectation === null || selectedExpectation === void 0 ? void 0 : selectedExpectation.id) === exp.id ? 'selected' : ''}`,\n            onClick: () => handleExpectationClick(exp),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"expectation-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"expectation-id\",\n                children: exp.id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `expectation-status ${exp.status || 'active'}`,\n                children: exp.status === 'draft' ? '草稿' : '活跃'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"expectation-title\",\n              children: exp.title || exp.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"expectation-description\",\n              children: exp.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 19\n            }, this)]\n          }, exp.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 17\n          }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"no-expectations\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u6CA1\\u6709\\u627E\\u5230\\u671F\\u671B\\u3002\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"primary-button\",\n              onClick: handleCreateExpectation,\n              children: \"\\u521B\\u5EFA\\u65B0\\u671F\\u671B\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }, this), selectedExpectation && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"expectation-detail\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"expectation-detail-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"expectation-detail-title\",\n          children: selectedExpectation.title || selectedExpectation.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"expectation-detail-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"secondary-button\",\n            onClick: handleEditExpectation,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"material-symbols-rounded\",\n              children: \"edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u7F16\\u8F91\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"primary-button\",\n            onClick: handleGenerateCode,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"material-symbols-rounded\",\n              children: \"code\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u751F\\u6210\\u4EE3\\u7801\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"expectation-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u57FA\\u672C\\u4FE1\\u606F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"expectation-property\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"expectation-property-label\",\n            children: \"ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"expectation-property-value\",\n            children: selectedExpectation.id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"expectation-property\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"expectation-property-label\",\n            children: \"\\u72B6\\u6001\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"expectation-property-value\",\n            children: selectedExpectation.status === 'draft' ? '草稿' : '活跃'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 13\n        }, this), selectedExpectation.created_at && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"expectation-property\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"expectation-property-label\",\n            children: \"\\u521B\\u5EFA\\u65F6\\u95F4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"expectation-property-value\",\n            children: new Date(selectedExpectation.created_at).toLocaleString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 15\n        }, this), selectedExpectation.updated_at && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"expectation-property\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"expectation-property-label\",\n            children: \"\\u6700\\u540E\\u66F4\\u65B0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"expectation-property-value\",\n            children: new Date(selectedExpectation.updated_at).toLocaleString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"expectation-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u63CF\\u8FF0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"expectation-property\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"expectation-property-value\",\n            children: selectedExpectation.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 11\n      }, this), subExpectations.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"expectation-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u5B50\\u671F\\u671B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 15\n        }, this), subExpectations.map((subExp, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sub-expectation\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"ID:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 22\n            }, this), \" \", subExp.id]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\u63CF\\u8FF0:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 22\n            }, this), \" \", subExp.description]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 19\n          }, this), subExp.criteria && subExp.criteria.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u9A8C\\u6536\\u6807\\u51C6:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 26\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: subExp.criteria.map((criterion, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n                children: criterion\n              }, idx, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 27\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 21\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 17\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 13\n      }, this), constraints.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"expectation-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u7EA6\\u675F\\u6761\\u4EF6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"constraints-list\",\n          children: constraints.map((constraint, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"constraint-item\",\n            children: constraint\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 193,\n    columnNumber: 5\n  }, this);\n}\n_s(Expectations, \"BeyndQVrSGHoLly4gwBPwNv2HCQ=\");\n_c = Expectations;\nexport default Expectations;\nvar _c;\n$RefreshReg$(_c, \"Expectations\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","API_BASE_URL","Expectations","sessionId","_s","expectations","setExpectations","selectedExpectation","setSelectedExpectation","searchQuery","setSearchQuery","selectedFilter","setSelectedFilter","loading","setLoading","error","setError","subExpectations","setSubExpectations","constraints","setConstraints","fetchExpectations","response","fetch","headers","ok","data","json","length","fetchExpectationDetails","id","errorData","console","expectationId","expectationResponse","expectationData","sub_expectations_ids","subExpResponse","subExpData","Error","message","handleExpectationClick","expectation","handleSearchChange","e","target","value","handleCreateExpectation","log","handleEditExpectation","handleGenerateCode","method","body","JSON","stringify","expectation_id","filteredExpectations","filter","exp","_exp$title","_exp$description","_exp$id","matchesSearch","title","toLowerCase","includes","description","status","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","window","location","reload","type","placeholder","onChange","map","name","created_at","Date","toLocaleString","updated_at","subExp","index","criteria","criterion","idx","constraint","_c","$RefreshReg$"],"sources":["/Users/ziyanzhou/Projects/devin-gen-expeta/access/ui/src/pages/Expectations.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nconst API_BASE_URL = 'http://localhost:8000';\n\nfunction Expectations({ sessionId }) {\n  const [expectations, setExpectations] = useState([]);\n  const [selectedExpectation, setSelectedExpectation] = useState(null);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedFilter, setSelectedFilter] = useState('all');\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [subExpectations, setSubExpectations] = useState([]);\n  const [constraints, setConstraints] = useState([]);\n  \n  useEffect(() => {\n    if (!sessionId) return;\n    \n    const fetchExpectations = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n        \n        const response = await fetch(`${API_BASE_URL}/memory/expectations`, {\n          headers: {\n            'Content-Type': 'application/json',\n            'Session-ID': sessionId\n          }\n        });\n        \n        if (response.ok) {\n          const data = await response.json();\n          setExpectations(data);\n          if (data.length > 0) {\n            // Select the first expectation automatically\n            await fetchExpectationDetails(data[0].id);\n          } else {\n            setLoading(false);\n          }\n        } else {\n          const errorData = await response.json();\n          setError(errorData.error || '获取期望列表失败');\n          setLoading(false);\n        }\n      } catch (error) {\n        console.error('Error fetching expectations:', error);\n        setError('网络错误，请重试');\n        setLoading(false);\n      }\n    };\n    \n    fetchExpectations();\n  }, [sessionId]);\n  \n  const fetchExpectationDetails = async (expectationId) => {\n    if (!sessionId) return;\n    \n    try {\n      setLoading(true);\n      \n      const expectationResponse = await fetch(`${API_BASE_URL}/memory/expectation/${expectationId}`, {\n        headers: {\n          'Content-Type': 'application/json',\n          'Session-ID': sessionId\n        }\n      });\n      \n      if (expectationResponse.ok) {\n        const expectationData = await expectationResponse.json();\n        setSelectedExpectation(expectationData);\n        \n        // Fetch sub-expectations if available\n        if (expectationData.sub_expectations_ids && expectationData.sub_expectations_ids.length > 0) {\n          const subExpResponse = await fetch(\n            `${API_BASE_URL}/memory/sub_expectations/${expectationId}`,\n            {\n              headers: {\n                'Content-Type': 'application/json',\n                'Session-ID': sessionId\n              }\n            }\n          );\n          \n          if (subExpResponse.ok) {\n            const subExpData = await subExpResponse.json();\n            setSubExpectations(subExpData);\n          }\n        } else {\n          setSubExpectations([]);\n        }\n        \n        // Set constraints\n        if (expectationData.constraints) {\n          setConstraints(expectationData.constraints);\n        } else {\n          setConstraints([]);\n        }\n      } else {\n        const errorData = await expectationResponse.json();\n        throw new Error(errorData.error || '获取期望详情失败');\n      }\n    } catch (error) {\n      console.error('Error fetching expectation details:', error);\n      setError(error.message || '网络错误，请重试');\n    } finally {\n      setLoading(false);\n    }\n  };\n  \n  const handleExpectationClick = async (expectation) => {\n    await fetchExpectationDetails(expectation.id);\n  };\n  \n  const handleSearchChange = (e) => {\n    setSearchQuery(e.target.value);\n  };\n  \n  const handleCreateExpectation = () => {\n    // 导航到需求页面来创建新期望\n    // 对于真实实现，可能需要全局状态管理或路由功能\n    console.log('Create new expectation - redirecting to requirements page');\n  };\n  \n  const handleEditExpectation = async () => {\n    if (!selectedExpectation || !sessionId) return;\n    \n    // 编辑期望的逻辑会根据具体的需求来实现\n    // 这里可能会显示一个编辑对话框或导航到编辑页面\n    console.log('Edit expectation:', selectedExpectation.id);\n  };\n  \n  const handleGenerateCode = async () => {\n    if (!selectedExpectation || !sessionId) return;\n    \n    try {\n      const response = await fetch(`${API_BASE_URL}/generate`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Session-ID': sessionId\n        },\n        body: JSON.stringify({\n          expectation_id: selectedExpectation.id\n        })\n      });\n      \n      if (response.ok) {\n        // 导航到代码生成页面\n        // 实际实现中，可能需要全局状态管理或路由功能\n        console.log('Code generation started for:', selectedExpectation.id);\n      } else {\n        const errorData = await response.json();\n        throw new Error(errorData.error || '代码生成失败');\n      }\n    } catch (error) {\n      console.error('Error starting code generation:', error);\n      setError(error.message || '网络错误，请重试');\n    }\n  };\n  \n  const filteredExpectations = expectations.filter(exp => {\n    const matchesSearch = exp.title?.toLowerCase().includes(searchQuery.toLowerCase()) || \n                         exp.description?.toLowerCase().includes(searchQuery.toLowerCase()) ||\n                         exp.id?.toLowerCase().includes(searchQuery.toLowerCase());\n    \n    if (selectedFilter === 'all') return matchesSearch;\n    return matchesSearch && exp.status === selectedFilter;\n  });\n\n  if (loading && !selectedExpectation && expectations.length === 0) {\n    return (\n      <div className=\"loading-container\">\n        <div className=\"loading-spinner\"></div>\n        <p>加载期望数据...</p>\n      </div>\n    );\n  }\n\n  if (error && !selectedExpectation && expectations.length === 0) {\n    return (\n      <div className=\"error-container\">\n        <div className=\"error-icon\">\n          <span className=\"material-symbols-rounded\">error</span>\n        </div>\n        <p>{error}</p>\n        <button className=\"primary-button\" onClick={() => window.location.reload()}>\n          重试\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"expectations-container\">\n      <div className=\"expectation-list\">\n        <div className=\"card\">\n          <div className=\"card-header\">\n            <h3 className=\"card-title\">期望列表</h3>\n            <div className=\"search-container\">\n              <input \n                type=\"text\" \n                placeholder=\"搜索期望...\" \n                className=\"search-input\"\n                value={searchQuery}\n                onChange={handleSearchChange}\n              />\n              <span className=\"material-symbols-rounded search-icon\">search</span>\n            </div>\n          </div>\n          <div className=\"card-content\">\n            {filteredExpectations.length > 0 ? (\n              filteredExpectations.map(exp => (\n                <div \n                  key={exp.id} \n                  className={`expectation-item ${selectedExpectation?.id === exp.id ? 'selected' : ''}`}\n                  onClick={() => handleExpectationClick(exp)}\n                >\n                  <div className=\"expectation-header\">\n                    <span className=\"expectation-id\">{exp.id}</span>\n                    <span className={`expectation-status ${exp.status || 'active'}`}>\n                      {exp.status === 'draft' ? '草稿' : '活跃'}\n                    </span>\n                  </div>\n                  <h4 className=\"expectation-title\">{exp.title || exp.name}</h4>\n                  <p className=\"expectation-description\">{exp.description}</p>\n                </div>\n              ))\n            ) : (\n              <div className=\"no-expectations\">\n                <p>没有找到期望。</p>\n                <button className=\"primary-button\" onClick={handleCreateExpectation}>\n                  创建新期望\n                </button>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n      \n      {selectedExpectation && (\n        <div className=\"expectation-detail\">\n          <div className=\"expectation-detail-header\">\n            <h3 className=\"expectation-detail-title\">{selectedExpectation.title || selectedExpectation.name}</h3>\n            <div className=\"expectation-detail-actions\">\n              <button className=\"secondary-button\" onClick={handleEditExpectation}>\n                <span className=\"material-symbols-rounded\">edit</span>\n                <span>编辑</span>\n              </button>\n              <button className=\"primary-button\" onClick={handleGenerateCode}>\n                <span className=\"material-symbols-rounded\">code</span>\n                <span>生成代码</span>\n              </button>\n            </div>\n          </div>\n          \n          <div className=\"expectation-section\">\n            <h3>基本信息</h3>\n            <div className=\"expectation-property\">\n              <div className=\"expectation-property-label\">ID</div>\n              <div className=\"expectation-property-value\">{selectedExpectation.id}</div>\n            </div>\n            <div className=\"expectation-property\">\n              <div className=\"expectation-property-label\">状态</div>\n              <div className=\"expectation-property-value\">\n                {selectedExpectation.status === 'draft' ? '草稿' : '活跃'}\n              </div>\n            </div>\n            {selectedExpectation.created_at && (\n              <div className=\"expectation-property\">\n                <div className=\"expectation-property-label\">创建时间</div>\n                <div className=\"expectation-property-value\">\n                  {new Date(selectedExpectation.created_at).toLocaleString()}\n                </div>\n              </div>\n            )}\n            {selectedExpectation.updated_at && (\n              <div className=\"expectation-property\">\n                <div className=\"expectation-property-label\">最后更新</div>\n                <div className=\"expectation-property-value\">\n                  {new Date(selectedExpectation.updated_at).toLocaleString()}\n                </div>\n              </div>\n            )}\n          </div>\n          \n          <div className=\"expectation-section\">\n            <h3>描述</h3>\n            <div className=\"expectation-property\">\n              <div className=\"expectation-property-value\">\n                {selectedExpectation.description}\n              </div>\n            </div>\n          </div>\n          \n          {subExpectations.length > 0 && (\n            <div className=\"expectation-section\">\n              <h3>子期望</h3>\n              {subExpectations.map((subExp, index) => (\n                <div key={index} className=\"sub-expectation\">\n                  <p><strong>ID:</strong> {subExp.id}</p>\n                  <p><strong>描述:</strong> {subExp.description}</p>\n                  {subExp.criteria && subExp.criteria.length > 0 && (\n                    <div>\n                      <p><strong>验收标准:</strong></p>\n                      <ul>\n                        {subExp.criteria.map((criterion, idx) => (\n                          <li key={idx}>{criterion}</li>\n                        ))}\n                      </ul>\n                    </div>\n                  )}\n                </div>\n              ))}\n            </div>\n          )}\n          \n          {constraints.length > 0 && (\n            <div className=\"expectation-section\">\n              <h3>约束条件</h3>\n              <ul className=\"constraints-list\">\n                {constraints.map((constraint, index) => (\n                  <li key={index} className=\"constraint-item\">{constraint}</li>\n                ))}\n              </ul>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default Expectations; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}