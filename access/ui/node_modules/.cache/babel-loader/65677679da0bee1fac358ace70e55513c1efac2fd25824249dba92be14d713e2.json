{"ast":null,"code":"var _jsxFileName = \"/Users/ziyanzhou/Projects/devin-gen-expeta/access/ui/src/pages/Memory.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = 'http://localhost:8000';\nfunction Memory({\n  sessionId\n}) {\n  _s();\n  const [memories, setMemories] = useState([]);\n  const [selectedMemory, setSelectedMemory] = useState(null);\n  const [selectedCategory, setSelectedCategory] = useState('expectation');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [memoryDetail, setMemoryDetail] = useState(null);\n\n  // 在组件加载时获取记忆数据\n  useEffect(() => {\n    if (sessionId) {\n      fetchMemories(selectedCategory);\n    }\n  }, [sessionId, selectedCategory]);\n\n  // 获取记忆列表\n  const fetchMemories = async category => {\n    if (!sessionId) return;\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await fetch(`${API_BASE_URL}/memory/${category}`, {\n        headers: {\n          'Content-Type': 'application/json',\n          'Session-ID': sessionId\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setMemories(data.items || []);\n        if (data.items && data.items.length > 0) {\n          setSelectedMemory(data.items[0]);\n          fetchMemoryDetail(data.items[0].id);\n        } else {\n          setSelectedMemory(null);\n          setMemoryDetail(null);\n        }\n      } else {\n        const errorData = await response.json();\n        setError(errorData.error || '获取记忆数据失败');\n      }\n    } catch (error) {\n      console.error('Error fetching memories:', error);\n      setError('网络错误，请重试');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // 获取记忆详情\n  const fetchMemoryDetail = async memoryId => {\n    if (!sessionId || !memoryId) return;\n    try {\n      const response = await fetch(`${API_BASE_URL}/memory/detail/${memoryId}`, {\n        headers: {\n          'Content-Type': 'application/json',\n          'Session-ID': sessionId\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setMemoryDetail(data);\n      } else {\n        console.error('Failed to fetch memory detail');\n      }\n    } catch (error) {\n      console.error('Error fetching memory detail:', error);\n    }\n  };\n  const handleCategoryChange = category => {\n    setSelectedCategory(category);\n    fetchMemories(category);\n  };\n  const handleMemoryClick = memory => {\n    setSelectedMemory(memory);\n    fetchMemoryDetail(memory.id);\n  };\n  const handleSearchChange = e => {\n    setSearchTerm(e.target.value);\n    // 实现搜索功能\n    if (e.target.value.trim()) {\n      const filteredMemories = memories.filter(memory => memory.title.toLowerCase().includes(e.target.value.toLowerCase()) || memory.preview.toLowerCase().includes(e.target.value.toLowerCase()));\n      // 仅更新显示，不重新加载\n      if (filteredMemories.length > 0) {\n        setSelectedMemory(filteredMemories[0]);\n        fetchMemoryDetail(filteredMemories[0].id);\n      }\n    } else {\n      // 如果搜索词为空，重新加载所有内容\n      fetchMemories(selectedCategory);\n    }\n  };\n  const handleEditMemory = async () => {\n    if (!selectedMemory) return;\n    console.log('Edit memory:', selectedMemory.id);\n    // 实际编辑功能将在这里实现\n    // 在实际应用中，这里会跳转到编辑页面或打开编辑对话框\n  };\n  const handleDeleteMemory = async () => {\n    if (!selectedMemory || !sessionId) return;\n    if (window.confirm(`确定要删除\"${selectedMemory.title}\"吗？`)) {\n      try {\n        const response = await fetch(`${API_BASE_URL}/memory/${selectedMemory.id}`, {\n          method: 'DELETE',\n          headers: {\n            'Content-Type': 'application/json',\n            'Session-ID': sessionId\n          }\n        });\n        if (response.ok) {\n          // 从列表中移除已删除的记忆\n          const updatedMemories = memories.filter(memory => memory.id !== selectedMemory.id);\n          setMemories(updatedMemories);\n\n          // 选择新的记忆项（如果有）\n          if (updatedMemories.length > 0) {\n            setSelectedMemory(updatedMemories[0]);\n            fetchMemoryDetail(updatedMemories[0].id);\n          } else {\n            setSelectedMemory(null);\n            setMemoryDetail(null);\n          }\n        } else {\n          const errorData = await response.json();\n          alert(errorData.error || '删除失败');\n        }\n      } catch (error) {\n        console.error('Error deleting memory:', error);\n        alert('删除过程中发生错误');\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"memory-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"memory-sidebar\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"memory-search\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"\\u641C\\u7D22\\u8BB0\\u5FC6...\",\n          value: searchTerm,\n          onChange: handleSearchChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"memory-categories\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u5206\\u7C7B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `memory-category ${selectedCategory === 'expectation' ? 'active' : ''}`,\n          onClick: () => handleCategoryChange('expectation'),\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"material-symbols-rounded\",\n            children: \"description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u671F\\u671B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `memory-category ${selectedCategory === 'code' ? 'active' : ''}`,\n          onClick: () => handleCategoryChange('code'),\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"material-symbols-rounded\",\n            children: \"code\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u4EE3\\u7801\\u751F\\u6210\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `memory-category ${selectedCategory === 'validation' ? 'active' : ''}`,\n          onClick: () => handleCategoryChange('validation'),\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"material-symbols-rounded\",\n            children: \"verified\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u9A8C\\u8BC1\\u7ED3\\u679C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `memory-category ${selectedCategory === 'clarification' ? 'active' : ''}`,\n          onClick: () => handleCategoryChange('clarification'),\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"material-symbols-rounded\",\n            children: \"psychology\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u9700\\u6C42\\u6F84\\u6E05\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u52A0\\u8F7D\\u8BB0\\u5FC6\\u6570\\u636E...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 11\n      }, this) : error ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error-icon\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"material-symbols-rounded\",\n            children: \"error\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"primary-button\",\n          onClick: () => fetchMemories(selectedCategory),\n          children: \"\\u91CD\\u8BD5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"memory-items\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"\\u8BB0\\u5FC6\\u9879 (\", memories.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 13\n        }, this), memories.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-state\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"\\u6CA1\\u6709\\u627E\\u5230\", selectedCategory === 'expectation' ? '期望' : selectedCategory === 'code' ? '代码生成' : selectedCategory === 'validation' ? '验证结果' : '需求澄清', \"\\u8BB0\\u5FC6\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 15\n        }, this) : memories.map(memory => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `memory-item ${selectedMemory && selectedMemory.id === memory.id ? 'active' : ''}`,\n          onClick: () => handleMemoryClick(memory),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"memory-item-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"memory-item-title\",\n              children: memory.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"memory-item-date\",\n              children: memory.date\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"memory-item-preview\",\n            children: memory.preview\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 19\n          }, this)]\n        }, memory.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 17\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this), selectedMemory && memoryDetail ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"memory-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"memory-detail-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"memory-detail-title\",\n          children: memoryDetail.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"memory-detail-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"secondary-button\",\n            onClick: handleEditMemory,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"material-symbols-rounded\",\n              children: \"edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u7F16\\u8F91\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"secondary-button\",\n            onClick: handleDeleteMemory,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"material-symbols-rounded\",\n              children: \"delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u5220\\u9664\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"memory-detail-meta\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"material-symbols-rounded\",\n            children: \"calendar_today\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 19\n          }, this), \"\\u521B\\u5EFA\\u4E8E \", selectedMemory.date]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"material-symbols-rounded\",\n            children: \"update\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 19\n          }, this), \"\\u6700\\u540E\\u66F4\\u65B0 \", memoryDetail.last_updated || selectedMemory.date]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"material-symbols-rounded\",\n            children: \"category\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 19\n          }, this), selectedMemory.type === 'expectation' ? '期望' : selectedMemory.type === 'code' ? '代码生成' : selectedMemory.type === 'validation' ? '验证结果' : '需求澄清']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"memory-detail-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: memoryDetail.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: memoryDetail.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 13\n        }, this), memoryDetail.sub_expectations && memoryDetail.sub_expectations.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"\\u5B50\\u671F\\u671B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: memoryDetail.sub_expectations.map((subExp, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: subExp.name || `子期望 ${index + 1}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 37\n              }, this), \"\\uFF1A\", subExp.description]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true), memoryDetail.constraints && memoryDetail.constraints.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"\\u7EA6\\u675F\\u6761\\u4EF6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: memoryDetail.constraints.map((constraint, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: constraint.description || constraint\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true), memoryDetail.related_memories && memoryDetail.related_memories.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"\\u76F8\\u5173\\u8BB0\\u5FC6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: memoryDetail.related_memories.map((memory, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#\",\n                onClick: e => {\n                  e.preventDefault();\n                  // 根据ID查找并显示相关记忆\n                  const relatedMemory = memories.find(m => m.id === memory.id);\n                  if (relatedMemory) {\n                    handleMemoryClick(relatedMemory);\n                  }\n                },\n                children: [memory.title, \" (\", memory.date, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 23\n              }, this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 9\n    }, this) : !loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"memory-content empty-state\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u9009\\u62E9\\u4E00\\u4E2A\\u8BB0\\u5FC6\\u9879\\u67E5\\u770B\\u8BE6\\u7EC6\\u4FE1\\u606F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 156,\n    columnNumber: 5\n  }, this);\n}\n_s(Memory, \"uXbJjSVFBGilovjiyoGNn2SHZas=\");\n_c = Memory;\nexport default Memory;\nvar _c;\n$RefreshReg$(_c, \"Memory\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","Fragment","_Fragment","API_BASE_URL","Memory","sessionId","_s","memories","setMemories","selectedMemory","setSelectedMemory","selectedCategory","setSelectedCategory","searchTerm","setSearchTerm","loading","setLoading","error","setError","memoryDetail","setMemoryDetail","fetchMemories","category","response","fetch","headers","ok","data","json","items","length","fetchMemoryDetail","id","errorData","console","memoryId","handleCategoryChange","handleMemoryClick","memory","handleSearchChange","e","target","value","trim","filteredMemories","filter","title","toLowerCase","includes","preview","handleEditMemory","log","handleDeleteMemory","window","confirm","method","updatedMemories","alert","className","children","type","placeholder","onChange","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","date","last_updated","description","sub_expectations","subExp","index","name","constraints","constraint","related_memories","href","preventDefault","relatedMemory","find","m","_c","$RefreshReg$"],"sources":["/Users/ziyanzhou/Projects/devin-gen-expeta/access/ui/src/pages/Memory.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nconst API_BASE_URL = 'http://localhost:8000';\n\nfunction Memory({ sessionId }) {\n  const [memories, setMemories] = useState([]);\n  const [selectedMemory, setSelectedMemory] = useState(null);\n  const [selectedCategory, setSelectedCategory] = useState('expectation');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [memoryDetail, setMemoryDetail] = useState(null);\n  \n  // 在组件加载时获取记忆数据\n  useEffect(() => {\n    if (sessionId) {\n      fetchMemories(selectedCategory);\n    }\n  }, [sessionId, selectedCategory]);\n  \n  // 获取记忆列表\n  const fetchMemories = async (category) => {\n    if (!sessionId) return;\n    \n    setLoading(true);\n    setError(null);\n    \n    try {\n      const response = await fetch(`${API_BASE_URL}/memory/${category}`, {\n        headers: {\n          'Content-Type': 'application/json',\n          'Session-ID': sessionId\n        }\n      });\n      \n      if (response.ok) {\n        const data = await response.json();\n        setMemories(data.items || []);\n        if (data.items && data.items.length > 0) {\n          setSelectedMemory(data.items[0]);\n          fetchMemoryDetail(data.items[0].id);\n        } else {\n          setSelectedMemory(null);\n          setMemoryDetail(null);\n        }\n      } else {\n        const errorData = await response.json();\n        setError(errorData.error || '获取记忆数据失败');\n      }\n    } catch (error) {\n      console.error('Error fetching memories:', error);\n      setError('网络错误，请重试');\n    } finally {\n      setLoading(false);\n    }\n  };\n  \n  // 获取记忆详情\n  const fetchMemoryDetail = async (memoryId) => {\n    if (!sessionId || !memoryId) return;\n    \n    try {\n      const response = await fetch(`${API_BASE_URL}/memory/detail/${memoryId}`, {\n        headers: {\n          'Content-Type': 'application/json',\n          'Session-ID': sessionId\n        }\n      });\n      \n      if (response.ok) {\n        const data = await response.json();\n        setMemoryDetail(data);\n      } else {\n        console.error('Failed to fetch memory detail');\n      }\n    } catch (error) {\n      console.error('Error fetching memory detail:', error);\n    }\n  };\n  \n  const handleCategoryChange = (category) => {\n    setSelectedCategory(category);\n    fetchMemories(category);\n  };\n  \n  const handleMemoryClick = (memory) => {\n    setSelectedMemory(memory);\n    fetchMemoryDetail(memory.id);\n  };\n  \n  const handleSearchChange = (e) => {\n    setSearchTerm(e.target.value);\n    // 实现搜索功能\n    if (e.target.value.trim()) {\n      const filteredMemories = memories.filter(memory => \n        memory.title.toLowerCase().includes(e.target.value.toLowerCase()) ||\n        memory.preview.toLowerCase().includes(e.target.value.toLowerCase())\n      );\n      // 仅更新显示，不重新加载\n      if (filteredMemories.length > 0) {\n        setSelectedMemory(filteredMemories[0]);\n        fetchMemoryDetail(filteredMemories[0].id);\n      }\n    } else {\n      // 如果搜索词为空，重新加载所有内容\n      fetchMemories(selectedCategory);\n    }\n  };\n  \n  const handleEditMemory = async () => {\n    if (!selectedMemory) return;\n    \n    console.log('Edit memory:', selectedMemory.id);\n    // 实际编辑功能将在这里实现\n    // 在实际应用中，这里会跳转到编辑页面或打开编辑对话框\n  };\n  \n  const handleDeleteMemory = async () => {\n    if (!selectedMemory || !sessionId) return;\n    \n    if (window.confirm(`确定要删除\"${selectedMemory.title}\"吗？`)) {\n      try {\n        const response = await fetch(`${API_BASE_URL}/memory/${selectedMemory.id}`, {\n          method: 'DELETE',\n          headers: {\n            'Content-Type': 'application/json',\n            'Session-ID': sessionId\n          }\n        });\n        \n        if (response.ok) {\n          // 从列表中移除已删除的记忆\n          const updatedMemories = memories.filter(memory => memory.id !== selectedMemory.id);\n          setMemories(updatedMemories);\n          \n          // 选择新的记忆项（如果有）\n          if (updatedMemories.length > 0) {\n            setSelectedMemory(updatedMemories[0]);\n            fetchMemoryDetail(updatedMemories[0].id);\n          } else {\n            setSelectedMemory(null);\n            setMemoryDetail(null);\n          }\n        } else {\n          const errorData = await response.json();\n          alert(errorData.error || '删除失败');\n        }\n      } catch (error) {\n        console.error('Error deleting memory:', error);\n        alert('删除过程中发生错误');\n      }\n    }\n  };\n\n  return (\n    <div className=\"memory-container\">\n      <div className=\"memory-sidebar\">\n        <div className=\"memory-search\">\n          <input \n            type=\"text\" \n            placeholder=\"搜索记忆...\" \n            value={searchTerm}\n            onChange={handleSearchChange}\n          />\n        </div>\n        \n        <div className=\"memory-categories\">\n          <h3>分类</h3>\n          <div \n            className={`memory-category ${selectedCategory === 'expectation' ? 'active' : ''}`}\n            onClick={() => handleCategoryChange('expectation')}\n          >\n            <span className=\"material-symbols-rounded\">description</span>\n            <span>期望</span>\n          </div>\n          <div \n            className={`memory-category ${selectedCategory === 'code' ? 'active' : ''}`}\n            onClick={() => handleCategoryChange('code')}\n          >\n            <span className=\"material-symbols-rounded\">code</span>\n            <span>代码生成</span>\n          </div>\n          <div \n            className={`memory-category ${selectedCategory === 'validation' ? 'active' : ''}`}\n            onClick={() => handleCategoryChange('validation')}\n          >\n            <span className=\"material-symbols-rounded\">verified</span>\n            <span>验证结果</span>\n          </div>\n          <div \n            className={`memory-category ${selectedCategory === 'clarification' ? 'active' : ''}`}\n            onClick={() => handleCategoryChange('clarification')}\n          >\n            <span className=\"material-symbols-rounded\">psychology</span>\n            <span>需求澄清</span>\n          </div>\n        </div>\n        \n        {loading ? (\n          <div className=\"loading-container\">\n            <div className=\"loading-spinner\"></div>\n            <p>加载记忆数据...</p>\n          </div>\n        ) : error ? (\n          <div className=\"error-container\">\n            <div className=\"error-icon\">\n              <span className=\"material-symbols-rounded\">error</span>\n            </div>\n            <p>{error}</p>\n            <button className=\"primary-button\" onClick={() => fetchMemories(selectedCategory)}>\n              重试\n            </button>\n          </div>\n        ) : (\n          <div className=\"memory-items\">\n            <h3>记忆项 ({memories.length})</h3>\n            {memories.length === 0 ? (\n              <div className=\"empty-state\">\n                <p>没有找到{\n                  selectedCategory === 'expectation' ? '期望' : \n                  selectedCategory === 'code' ? '代码生成' :\n                  selectedCategory === 'validation' ? '验证结果' : '需求澄清'\n                }记忆</p>\n              </div>\n            ) : (\n              memories.map((memory) => (\n                <div \n                  key={memory.id} \n                  className={`memory-item ${selectedMemory && selectedMemory.id === memory.id ? 'active' : ''}`}\n                  onClick={() => handleMemoryClick(memory)}\n                >\n                  <div className=\"memory-item-header\">\n                    <div className=\"memory-item-title\">{memory.title}</div>\n                    <div className=\"memory-item-date\">{memory.date}</div>\n                  </div>\n                  <div className=\"memory-item-preview\">{memory.preview}</div>\n                </div>\n              ))\n            )}\n          </div>\n        )}\n      </div>\n      \n      {selectedMemory && memoryDetail ? (\n        <div className=\"memory-content\">\n          <div className=\"memory-detail-header\">\n            <div className=\"memory-detail-title\">{memoryDetail.title}</div>\n            <div className=\"memory-detail-actions\">\n              <button className=\"secondary-button\" onClick={handleEditMemory}>\n                <span className=\"material-symbols-rounded\">edit</span>\n                <span>编辑</span>\n              </button>\n              <button className=\"secondary-button\" onClick={handleDeleteMemory}>\n                <span className=\"material-symbols-rounded\">delete</span>\n                <span>删除</span>\n              </button>\n            </div>\n          </div>\n          \n          <div className=\"memory-detail-meta\">\n            <span><span className=\"material-symbols-rounded\">calendar_today</span>创建于 {selectedMemory.date}</span>\n            <span><span className=\"material-symbols-rounded\">update</span>最后更新 {memoryDetail.last_updated || selectedMemory.date}</span>\n            <span><span className=\"material-symbols-rounded\">category</span>{\n              selectedMemory.type === 'expectation' ? '期望' : \n              selectedMemory.type === 'code' ? '代码生成' :\n              selectedMemory.type === 'validation' ? '验证结果' : '需求澄清'\n            }</span>\n          </div>\n          \n          <div className=\"memory-detail-content\">\n            <h3>{memoryDetail.title}</h3>\n            <p>{memoryDetail.description}</p>\n            \n            {memoryDetail.sub_expectations && memoryDetail.sub_expectations.length > 0 && (\n              <>\n                <h4>子期望</h4>\n                <ul>\n                  {memoryDetail.sub_expectations.map((subExp, index) => (\n                    <li key={index}><strong>{subExp.name || `子期望 ${index+1}`}</strong>：{subExp.description}</li>\n                  ))}\n                </ul>\n              </>\n            )}\n            \n            {memoryDetail.constraints && memoryDetail.constraints.length > 0 && (\n              <>\n                <h4>约束条件</h4>\n                <ul>\n                  {memoryDetail.constraints.map((constraint, index) => (\n                    <li key={index}>{constraint.description || constraint}</li>\n                  ))}\n                </ul>\n              </>\n            )}\n            \n            {memoryDetail.related_memories && memoryDetail.related_memories.length > 0 && (\n              <>\n                <h4>相关记忆</h4>\n                <ul>\n                  {memoryDetail.related_memories.map((memory, index) => (\n                    <li key={index}>\n                      <a href=\"#\" onClick={(e) => {\n                        e.preventDefault();\n                        // 根据ID查找并显示相关记忆\n                        const relatedMemory = memories.find(m => m.id === memory.id);\n                        if (relatedMemory) {\n                          handleMemoryClick(relatedMemory);\n                        }\n                      }}>\n                        {memory.title} ({memory.date})\n                      </a>\n                    </li>\n                  ))}\n                </ul>\n              </>\n            )}\n          </div>\n        </div>\n      ) : !loading && (\n        <div className=\"memory-content empty-state\">\n          <p>选择一个记忆项查看详细信息</p>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default Memory; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}